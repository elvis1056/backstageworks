{"version":3,"sources":["components/BaseButton/PrimaryButton.js","components/BaseButton/DefaultButton.js","components/BaseButton/IconButton.js","components/BaseButton/SplitButton.js","components/BaseModal/index.js","common/commonStyles.js","components/ConfirmModal/index.js","constant/colors.js","constant/units.js","components/BreadCrumbs/index.js","components/BreadCrumbs/index.module.scss","components/monaco/monaco-editor.js","views/Schedule/steps/Step3/Form/index.module.scss","components/monaco/monaco-hack.module.scss","views/Schedule/steps/Step3/TaskRole/index.module.scss","components/BaseTab/index.js","views/Schedule/steps/Step5/PreviewModal/Memory/index.module.scss","views/Schedule/ViewSchedule.module.scss","views/Schedule/CreateSchedule.module.scss","views/Schedule/steps/Step1/Form/index.module.scss","views/Schedule/steps/Step1.module.scss","views/Schedule/steps/Step2/ViewModal/ViewModal.module.scss","views/Schedule/steps/Step2Table.module.scss","views/Schedule/steps/Step3.module.scss","views/Schedule/steps/Step4.module.scss","views/Schedule/steps/Step5/PreviewModal/Disk/index.module.scss","views/Schedule/steps/Step5/PreviewModal/GPU/index.module.scss","views/Schedule/steps/Step5/PreviewModal/CPU/index.module.scss","views/Schedule/steps/Step5/PreviewModal/index.module.scss","views/Schedule/ModifyScheduleModal.module.scss","views/Schedule/index.module.scss","components/BaseCalendar/index.js","components/BaseFluentButton/PrimaryButton.js","components/BaseFluentButton/DefaultButton.js","components/BaseFluentButton/IconButton.js","components/BaseFluentButton/CommandBarButton.js","views/Schedule/ViewSchedule.js","components/BaseStepper/index.js","views/Schedule/components/constants.js","views/Schedule/components/utils.js","views/Schedule/components/models/docker-info.js","views/Schedule/components/models/completion.js","views/Schedule/components/models/deployment.js","views/Schedule/components/models/container-size.js","views/Schedule/components/models/job-task-role.js","views/Schedule/Context.js","components/BaseInput/SearchBox.js","components/BaseInput/TextField.js","components/BaseInput/Checkbox.js","components/BaseInput/Dropdown.js","components/BaseInput/ChoiceGroup.js","components/BaseDateTimePicker/index.js","views/Schedule/steps/Step1/Form/SpinButton.js","views/Schedule/model/JobResources.js","views/ManageSchedule/utils.js","views/Schedule/steps/Step1.js","views/Schedule/components/completion.js","views/Schedule/steps/Step2/ViewModal/ViewModal.js","views/Schedule/steps/Step2/Filter.js","views/Schedule/steps/Step2Table.js","views/Schedule/steps/Step2.js","views/Schedule/model/JobTaskRoleSchema.js","views/Schedule/steps/Step3/Form/TextField.js","views/Schedule/steps/Step3/Form/SpinButton.js","views/Schedule/steps/Step3/Form/MonacoTextField.js","views/Schedule/steps/Step3/Form/CommandInput.js","views/Schedule/steps/Step3/TaskRole/DockerInfo.js","views/Schedule/components/debounced-text-field.js","views/Schedule/components/key-value-list.js","views/Schedule/steps/Step3/Form/PortList.js","views/Schedule/steps/Step3/TaskRole/AdvancedSetting.js","views/Schedule/steps/Step3/TaskRole/Content.js","views/Schedule/steps/Step3/TaskRole/index.js","views/Schedule/steps/Step3.js","views/Schedule/steps/Step4/StorageSetting/NFSMount.js","views/Schedule/steps/Step4/StorageSetting/index.js","views/Schedule/steps/Step4/Parameter/KeyValueList.js","views/Schedule/steps/Step4/Parameter/index.js","views/Schedule/steps/Step4.js","views/Schedule/steps/Step5/PreviewModal/Disk/index.js","views/Schedule/steps/Step5/PreviewModal/GPU/index.js","views/Schedule/steps/Step5/PreviewModal/CPU/index.js","views/Schedule/steps/Step5/PreviewModal/Memory/Ram.js","views/Schedule/steps/Step5/PreviewModal/Memory/Shm.js","views/Schedule/steps/Step5/PreviewModal/index.js","views/Schedule/model/JobFinalData.js","views/Schedule/steps/Step5.js","views/Schedule/CreateSchedule.js","views/Schedule/ModifyScheduleModal.js","views/Schedule/fakeData.js","views/Schedule/index.js"],"names":["useStyles","makeStyles","theme","root","backgroundColor","palette","customColor","themePrimary","fontSize","padding","maxHeight","themePrimaryHover","background","themeDisablePrimaryBackground","color","themeDisablePrimaryColor","text","white","PrimaryButton","children","classNameProps","props","classes","Button","className","btnRootClass","border","themeDefaultBorderColor","fontWeight","black","boxShadow","themeDefaultBackgroundFocus","themeDefaultBackgroundHover","DefaultButton","cursor","transform","transition","IconButton","btnGroupRoot","minHeight","btnFocusColor","btnLabel","btnRootRightClass","borderLeft","menuPaper","width","menuItem","display","alignContent","menuIcon","marginRight","justifyContent","SplitButton","onClick","startIcon","options","ButtonGroupProps","classNameObj","React","useState","open","setOpen","anchorRef","useRef","handleClose","event","current","contains","target","ButtonGroup","btnGroup","disableElevation","ref","variant","left","undefined","right","disabled","length","prevOpen","size","Popper","anchorEl","popper","role","style","zIndex","TransitionProps","placement","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","map","option","MenuItem","handleItemclick","icon","menuLabel","label","id","commonStyle","paper","position","borderRadius","shadows","spacing","modalTitleBlock","modalTitle","subTitle","BaseModal","isOpen","onClose","title","isCloseIcon","modalWidth","classesNameObj","flex_center","modal","modalContainer","alignItems","container","direction","justify","item","flex_align_center","justify_between","modalGridContainer","modalSubTitle","largeAlpha","bp","w_full","w_screen","w_auto","h_full","height","h_screen","h_auto","h_30","col_3","maxWidth","minWidth","col_4","col_6","breakpoints","down","w_ctrl90","flex","w_ctrl_left90","d_flex","d_inflex","d_block","d_inblock","d_none","flex_left","flex_right","flex_justify_start","flex_justify_between","flex_justify_center","flex_justify_end","flex_align_start","justify_around","justify_center","alignItemsCenter","directionColumn","flexDirection","directionRow","flex_wrap","flexWrap","m_0","margin","my_0","marginTop","marginBottom","mx_0","marginLeft","mt_0","mt_8","mt_10","mt_16","mt_20","mt_30","ml_10","ml_20","mr_10","mr_16","mr_20","mr_auto","mb_0","mb_6","mb_10","mb_16","mb_20","mb_24","mb_40","p_0","p_8","p_20","pt_20","paddingTop","py_5","paddingBottom","px_0","paddingLeft","paddingRight","pb_0","pb_10","border_TL_Radius_0","borderTopLeftRadius","border_TR_Radius_0","borderTopRightRadius","border_BL_Radius_0","borderBottomLeftRadius","border_BR_Radius_0","borderBottomRightRadius","borderRadius_4","border_none","black_100","black_60","textRed","textYellow","textOrange","textGreen","textBlue","textAqua","textPurple","scrollable_y","overflowY","fz_12","fz_14","fz_16","viewBtn","viewIcon","pageContainer","rowRadioGroup","rowRadioGroupLabel","radioRoot","checkboxRoot","defaultInput","unlimitWidthInput","unlimitWidthSelect","top","ctrlBarDatePicker","trans","tabs","defaultTextField","marginRight10","ConfirmModal","content","onConfirm","confrimText","t","useTranslation","whiteSpace","wordBreak","colors","KB","MB","GB","BreadCrumb","url","useRouteMatch","split","shift","pathArr","index","name","path","totalPath","styles","last","breadcrumbs","idx","href","checkSlash","charAt","to","module","exports","ReactMonacoEditor","lazy","MonacoEditor","monacoProps","completionItems","schemas","monacoRef","monaco","editor","completionList","suggestions","handleResize","layout","useEffect","window","addEventListener","removeEventListener","setSchemas","isNil","languages","json","jsonDefaults","setDiagnosticsOptions","validate","useLayoutEffect","x","insertText","editorDidMountFunc","editorDidMount","c","monacoHack","flexGrow","overflow","Suspense","fallback","e","m","lang","registerCompletionItemProvider","provideCompletionItems","language","BaseTab","withBorder","items","pivotStyle","borderBottom","link","linkIsSelected","selectors","linkContent","linkSize","PivotLinkSize","large","headerText","itemKey","key","BaseCalendar","locale","useContext","GlobalContext","buttonText","today","month","week","day","list","defaultView","headerToolbar","start","center","end","plugins","dayGridPlugin","interactionPlugin","forwardRef","boxSizing","getTheme","borderColor","textAlign","UITheme","ViewSchedule","getData","data","onOpenModifyModal","selectedVg","showDeleteModal","setShowDeleteModal","isTimeOverNow","startAt","Date","getTime","isTimeBeforeNow","state","Icon","iconName","wrapper","row","row__title","stateColor","row__title__state","stateBackground","stateText","row__name","row__description","moment","format","endAt","virtualGroup","cpu","memory","storage","isEmpty","gpu","Object","keys","deleteJobSchedule","then","toast","success","catch","err","error","message","BaseStepper","isRequired","activeStep","steps","QontoConnector","withStyles","alternativeLabel","lineHorizontal","borderTopWidth","StepConnector","backButton","instructions","iconContainer","Stepper","connector","Step","StepLabel","StepIconProps","SECRET_PATTERN","PAI_ENV_VAR","desc","DOCKER_OPTIONS","image","dispatchResizeEvent","dispatchEvent","Event","removeEmptyProperties","obj","isObject","newObj","forEach","onCheckingElement","isArrayLike","DockerInfo","uri","auth","secretRef","isUseCustomizedDocker","this","prunedAuth","password","type","trim","dockerInfoProtocol","secrets","get","secretKey","exec","find","dockerOption","Completion","minFailedInstances","minSucceededInstances","completionProtocol","Deployment","preCommands","postCommands","deploymentProtocol","join","skuUnit","JobTaskRole","instances","dockerInfo","ports","commands","completion","deployment","containerSize","isContainerSizeEnabled","taskRetryCount","shmMB","factor","Math","max","memoryMB","storageGB","getDefaultContainerSize","convertToProtocolFormat","taskRole","reduce","val","value","parseInt","resourcePerInstance","dockerImage","line","taskRoleProtocol","deployments","prerequisites","taskDeployment","prerequisite","entries","toString","jobTaskRole","fromProtocol","isDefaultContainerSize","createContext","SearchBox","TextField","fieldGroup","Checkbox","checkbox","Dropdown","ChoiceGroup","BaseDateTimePicker","createMuiTheme","primary","main","zhCN","zhTW","ja","enUS","mapLoacle","themes","utils","DateFnsUtils","InputProps","disableUnderline","ampm","SpinButton","hint","fieldError","onChange","onIncrement","onDecrement","onValidate","min","errorMessage","_onChange","useCallback","operateFunc","defaultReturnValue","newValue","TooltipHost","calloutProps","isBeakVisible","directionalHint","DirectionalHint","topAutoEdge","gapSpace","tooltipProps","isValidElement","onRenderContent","verticalAlign","debounce","step","spinButtonWrapper","JobResources","modify","step1State","userInfo","users","user","username","seconds","milliseconds","valueOf","jobConfig","checkCanUseResource","selectedStartDate","selectedEndDate","totalData","timeArea","reverseStartIndex","reverseEndIndex","reverseData","reverse","Number","i","push","ans","accumulator","accumulatorGpu","gpuType","totalGpuNumber","Step1","optionItems","defaultSelect","dataId","setStep1State","selectedVgHasGpu","selectedVgUsers","setAlreadyUsedResource","createDate","isPrvScheduledJob","setIsPreScheduledJob","setActiveStep","resetDefault","defaultStep1","Context","selectedGpuType","setSelectedGpuType","selectedVgUsersKey","setSelectedVgUsersKey","canUseResource","setCanUseResource","limitResource","setLimitResource","gpuTypeList","setGpuTypeList","timePickerStartErrMsg","setTimePickerStartErrMsg","timePickerErrMsg","setTimePickerErrMsg","now","jobName","setJobName","setUser","setName","retryCount","setRetryCount","setStartAt","setEndAt","setCpu","setMemory","setStorage","setGpu","openNextBtn","setOpenNextBtn","helperTestClasses","helperTextStyles","Rules","onSubmit","a","updateJobSchedule","createJobSchedule","isEqual","gpuList","isNull","getJobScheduleTable","res","result","acc","cur","getUserLimitResource","isNaN","row__average","row__average__block","ariaLabel","placeholder","required","selectedKey","enabled","marginTop10","paddingBottom10","row__borderBottomLine","row__average__block50","mergeStyles","onGetErrorMessage","validateOnLoad","flexContainer","FormHelperTextProps","helperText","invalidDateMessage","minDate","onError","minDateMessage","paddingBottom72","row__right","row__right__block","gpuAmount","width100","footer","prev","prevActiveStep","ViewTemplateModal","viewTemplate","setSelectedKey","taskRoles","setTaskRoles","selectedTaskRole","setSelectedTaskRole","nfsList","setnfsList","glusterfsList","setglusterfsList","extras","scrollableContent","description","top__block","top__borderBottom","top__block__item__title","top__block__item__25","top__block__item","owner","wrapper__block","block__borderBottom","wrapper__borderBottom","wrapper__block__title","block__title__25","wrapper__block__item","block__item__25","mountPoint","getNFSList","getGlusterfsList","jobEnvs","values","onLinkClick","PivotItem","wrapper__block__command","command","element","block__title__20","block__title__50","block__item__20","taskNumber","cpuNumber","gpuNumber","portList","beginAt","getPortList","block__item__50","minFailedTaskCount","minSucceededTaskCount","Stack","horizontal","horizontalAlign","Filter","keyword","Set","filters","includes","has","filter","every","Step2Table","setStep2State","step2State","templateList","setTemplateList","selectedTemplateKey","setSelectedTemplateKey","isViewModalShow","setIsViewModalShow","setViewTemplate","setKeyword","setFilter","selectedOwner","setSelectedOwner","useMemo","create","job","ChoiceFieldStyle","admin","getJobTemplate","getCanReadJobTemplate","template","templateInfo","searchBlock","searchBlockRight","iconProps","multiSelect","owners","selected","add","delete","userList","itemType","DropdownMenuItemType","Header","Divider","filterOption","apply","marginLeft10","isModify","marginLeft25","checked","isChecked","view","onView","ViewModal","Step2","setJobTaskRoles","newTaskRoles","taskRoleName","port","bottom","TaskRoleSehema","Joi","object","string","number","integer","allow","unknown","boolean","default","array","TaskRolesSechma","customButton","containerClass","MonacoTextFiled","rawMonacoProps","semanticColors","neutralTertiary","errorText","rawEditorDidMount","editorDidMountCallback","onDidFocusEditorText","getValue","setValue","onDidBlurEditorText","Label","automaticLayout","wordWrap","readOnly","defaultEOL","minimap","s1","DelayedRender","AnimationClassNames","slideDownIn20","FontSizes","small","s2","CommandInput","memo","defaultValue","input","MonacoTextField","replaceAll","repositories","setRepositories","originRepositories","setOriginRepositories","harborHost","setHarborHost","errorMsg","setErrorMsg","infoChange","onInfoChange","field","newData","DockerInfoConstructor","checkTag","tag","getHaborRepoTags","tagsData","checkUri","Uri","repositoryNotWithTag","repositoryHasTag","myRepository","findRepositories","isCorrectTag","getHaborRepoInfo","host","repository","componentRef","_onItemClick","ev","preventDefault","tags","subMenuProps","tagEv","tagItem","openSubMenu","formContent","menuProps","rightCenterEdge","onItemClick","rootHovered","DebouncedTextField","cachedValue","setCachedValue","debouncedOnChange","onChangeWrapper","onRenderDetailsHeader","detailsHeaderProps","DetailsHeader","onRenderColumnHeaderTooltip","tooltipHostProps","defaultRender","KeyValueList","keyName","keyField","valueName","valueField","secret","onValidateKey","onValidateValue","camelCase","dupList","setDupList","keyCount","newDupList","some","onAdd","onRemove","slice","onKeyChange","onValueChange","getKey","columns","onRender","gap","DetailsList","checkboxVisibility","CheckboxVisibility","hidden","compact","layoutMode","DetailsListLayoutMode","fixedColumns","onRenderRow","DetailsRow","cell","selectionMode","SelectionMode","none","PORT_LABEL_REGEX","PortList","v","test","int","AdvancedSetting","paddingLeftRight10","width50","Content","selectedIdx","checkDupName","jobTaskRoles","currentTaskRole","contentOnChange","onSizeChange","width25","width75","TaskRole","selectedTab","setSelectedTab","setSelectedIdx","handleRenderTab","itemProps","findData","tr","hasError","handleRemoveTabItem","taskRoleSeq","generateUniqueTaskName","curIndex","usedNames","namePrefix","startindex","usedName","createUniqueName","_","newName","updateIndex","stopPropagation","removedItems","tabContainer","tabContent","Pivot","onRenderItemLink","tabAdd","tempLength","newTaskRole","Step3","vgState","alreadyUsedResource","currentUserName","setError","checkStep3Resource","cpuUsed","memoryUsed","ram","storageUsed","disk","gpuUsed","gpuTotal","num","checkStep3TaskRoles","header","headerBorderBottom","vgStateContainer","marginBottom10","errorColor","NFSMount","keyOptions","valueCount","opt","StorageSetting","nfsInfo","glusterfsInfo","nfsMounts","setNfsMountsState","setGlusterfsMountsState","glusterfsMounts","nfs","glusterfs","ParametersList","parameters","setParameters","Step4","Parameter","Disk","GPU","CPU","vertical","Ram","toFixed","Shm","classnames","shm","Preview","Item","container1","classNames","normal","rdma","JobFinalData","portNumber","curr","nfsMount","Step5","PreviewModal","CreateSchedule","canUseVg","setNfsInfo","setGlusterfsInfo","setErrorMessageState","defaultStep2","Promise","all","getUserNfs","getUsersGlusterfs","context","setErrorMessage","msg","updated","Provider","form","title__left","title__right","title__right__icon","param","used","fs","available","getSteps","ModifyScheduleModal","Modal","innerHeight","innerWidth","layer","icons","fakeCanUseVirtualGroup","Schedule","setCanUseVg","setSelectedVg","setSelectedVgHasGpu","selectedVgKey","setSelectedVgKey","schedules","setSchedules","dayEl","el","setTarget","setCreateDate","modifyData","setModifyData","isCalloutVisible","setIsCalloutVisible","dropdownSelectedKey","setDropdownSelectedKey","filterSchedulesList","setFilterSchedulesList","isModifyScheduleModalShow","setIsModifyScheduleModalShow","isLoading","setIsLoading","addDropDownOptionKeys","getJobSchedule","canSchedulableData","schedulable","getCanUseVirtualGroups","schedulableData","getCanUseVgList","info","BreadCrumbs","indexStyles","searchBlock__left","flexShrink","onRenderCaretDown","onRenderOption","indexOf","StackItem","grow","dateClick","pickToday","date","toDateString","isVaildTime","toDate","dayCellClassNames","arg","subtract","dayMaxEventRows","eventClick","clickFromMore","jsEvent","getAttribute","_def","publicId","extendedProps","eventContent","eventData","String","leftCenter","timeText","eventDisplay","events","Callout","directionalHintForRtl","topLeftEdge","layerProps","calloutMain","pickDate"],"mappings":"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","file":"static/js/Schedule.800b0e93.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.customColor.themePrimary,\n    fontSize: '14px',\n    padding: '8px 10px',\n    maxHeight: 40,\n    '&:hover': {\n      backgroundColor: theme.palette.customColor.themePrimaryHover\n    },\n    '&.Mui-disabled': {\n      background: theme.palette.customColor.themeDisablePrimaryBackground,\n      color: theme.palette.customColor.themeDisablePrimaryColor\n    }\n  },\n  text: {\n    color: theme.palette.customColor.white\n  }\n}));\n\nexport const PrimaryButton = ({ children, classNameProps = '', ...props }) => {\n  const classes = useStyles();\n  return (\n    <Button\n      className={`${classes.root} ${classes.text} ${classNameProps}`}\n      // color=\"primary\"\n      {...props}\n    >\n      {children}\n    </Button>\n  )\n}\n\nPrimaryButton.propTypes = {\n  children: PropTypes.node,\n  classNameProps: PropTypes.string\n}\n\nexport default PrimaryButton","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles((theme) => ({\n  btnRootClass: {\n    backgroundColor: theme.palette.customColor.white,\n    border: `1px solid ${theme.palette.customColor.themeDefaultBorderColor}`,\n    fontSize: '14px',\n    fontWeight: 'normal',\n    padding: '7px 10px',\n    color: theme.palette.text.black,\n    maxHeight: 40,\n    boxShadow: 'none',\n    '&:focus': {\n      backgroundColor: theme.palette.customColor.themeDefaultBackgroundFocus\n    },\n    '&:hover': {\n      backgroundColor: theme.palette.customColor.themeDefaultBackgroundHover\n    }\n  }\n}));\n\nexport const DefaultButton = ({ children, classNameProps = '', ...props }) => {\n\n  // = styles\n  const classes = useStyles();\n\n  return (\n    <Button\n      className={`${classes.btnRootClass} ${classNameProps}`}\n      {...props}\n    >\n      {children}\n    </Button>\n  )\n}\n\nDefaultButton.propTypes = {\n  children: PropTypes.node,\n  classNameProps: PropTypes.string\n}\n\nexport default DefaultButton","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { default as Icon } from '@material-ui/core/IconButton';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    cursor: 'pointer',\n    '&:hover': {\n      transform: 'scale(1.25,1.25)',\n      transition: 'transform 0.25s ease'\n    }\n  }\n}))\n\nexport const IconButton = ({ children, ...props }) => {\n  const classes = useStyles();\n  return (\n    <Icon\n      className={classes.root}\n      color=\"primary\"\n      {...props}\n    >\n      {children}\n    </Icon>\n  );\n}\n\nIconButton.propTypes = {\n  children: PropTypes.node\n}\n\nexport default IconButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\n\n// % styles\nimport { makeStyles } from '@material-ui/core/styles';\nconst useStyles = makeStyles((theme) => ({\n  btnGroupRoot: {\n    minHeight: 40,\n    maxHeight: 40\n  },\n  btnRootClass: {\n    backgroundColor: theme.palette.customColor.white,\n    fontSize: '14px',\n    border: `1px solid ${theme.palette.customColor.themeDefaultBorderColor}`,\n    boxShadow: 'none',\n    '&:focus': {\n      backgroundColor: theme.palette.customColor.btnFocusColor\n    },\n    '&:hover': {\n      backgroundColor: theme.palette.customColor.themeDefaultBackgroundHover\n    }\n  },\n  btnLabel: {\n    '& > .MuiButton-label': {\n      fontSize: '14px'\n    }\n  },\n  btnRootRightClass: {\n    borderLeft: 'none'\n  },\n  menuPaper: {\n    width: 180\n  },\n  menuItem: {\n    width: '100%',\n    display: 'flex',\n    alignContent: 'center',\n    padding: '4px 24px'\n  },\n  menuIcon: {\n    marginRight: 20,\n    display: 'flex',\n    justifyContent: 'center',\n    alignContent: 'center',\n    '& .MuiIcon-root': {\n      marginRight: 0\n    }\n  }\n}))\n\n\nexport const SplitButton = ({ text, onClick, startIcon, options, ButtonGroupProps, classNameObj, ...props }) => {\n  const [open, setOpen] = React.useState(false);\n  const anchorRef = React.useRef(null);\n\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleClose = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  // = styles\n  const classes = useStyles();\n\n  return (\n    <>\n      <ButtonGroup\n        aria-label=\"split button\"\n        className={`${classes.btnGroupRoot} ${classNameObj?.btnGroup}`}\n        disableElevation\n        ref={anchorRef}\n        variant=\"contained\"\n        {...ButtonGroupProps}\n      >\n        <Button\n          className={`${classes.btnRootClass} ${classes.btnLabel} ${classNameObj?.left}`}\n\n          onClick={onClick}\n          startIcon={startIcon}\n          {...props}\n        >{text}</Button>\n        <Button\n          aria-controls={open ? 'split-button-menu' : undefined}\n          aria-expanded={open ? 'true' : undefined}\n          aria-haspopup=\"menu\"\n          className={`${classes.btnRootClass} ${classes.btnRootRightClass} ${classNameObj?.right}`}\n          // aria-label=\"select merge strategy\"\n          disabled={options.length === 0}\n          onClick={handleToggle}\n          size=\"small\"\n        >\n          <ArrowDropDownIcon />\n        </Button>\n      </ButtonGroup>\n      <Popper\n        anchorEl={anchorRef.current}\n        // disablePortal\n        className={`${classNameObj?.popper}`}\n        open={open}\n        role={undefined}\n        style={{ zIndex: 2 }}\n        transition\n      >\n        {({ TransitionProps, placement }) => {\n          return (\n            <Grow\n              {...TransitionProps}\n              style={{\n                transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'\n              }}\n            >\n              <Paper className={`${classes.menuPaper} ${classNameObj?.menuPaper}`}>\n                <ClickAwayListener onClickAway={handleClose}>\n                  <MenuList>\n                    {options.map((option) => (\n                      <MenuItem\n                        className={classes.menuItem}\n                        key={option.id}\n                        onClick={() => {\n                          if (option.handleItemclick) {\n                            option.handleItemclick()\n                          }\n                          setOpen(false)\n                        }}\n                        {...option}\n                      >\n                        <div className={classes.menuIcon}>\n                          {option.icon}\n                        </div>\n                        <div className={classes.menuLabel}>\n                          {option.label}\n                        </div>\n\n                      </MenuItem>\n                    ))}\n                  </MenuList>\n                </ClickAwayListener>\n              </Paper>\n            </Grow>\n          )}\n        }\n      </Popper>\n    </>\n  );\n}\n\nSplitButton.propTypes = {\n  onClick: PropTypes.func,\n  options: PropTypes.array,\n  text: PropTypes.string,\n  startIcon: PropTypes.node,\n  classNameObj: PropTypes.object,\n  ButtonGroupProps: PropTypes.object\n}\n\nexport default SplitButton;","import React from 'react';\n\n// ^ Material-ui Components(Functions)\nimport Modal from '@material-ui/core/Modal';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\n// ^ plugins\nimport PropTypes from 'prop-types';\n\n// % styles\nimport { makeStyles } from '@material-ui/core/styles';\nimport commonStyle from 'common/commonStyles'\n\nconst useStyles = makeStyles((theme) => ({\n  ...commonStyle(theme),\n  paper: {\n    position: 'absolute',\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: '4px',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  },\n  modalTitleBlock: {\n    padding: '5px 0'\n  },\n  modalTitle: {\n    color: 'black',\n    fontSize: '18px',\n    fontWeight: 'bold'\n  },\n  subTitle: {\n    //  css\n  }\n}));\n\n\n/**\n * @author elvis\n * @level any/BaseModal\n * @component BaseModal\n * @description Packaged base component with Material UI Modal\n*/\nexport const BaseModal = ({\n  children,\n  isOpen,\n  onClose,\n  title,\n  subTitle,\n  isCloseIcon = false,\n  modalWidth,\n  classesNameObj,\n  ...props\n}) => {\n  const classes = useStyles();\n  return (\n    <Modal\n      className={`${classes.flex_center} ${classes.modal} ${classesNameObj?.modal}`}\n      onClose={onClose}\n      open={isOpen}\n    >\n      <div\n        className={`${classes.paper} ${classesNameObj?.modalContainer}`}\n        style={modalWidth ? { width: modalWidth } : {}}\n        {...props}\n      >\n        <Grid\n          alignItems=\"stretch\"\n          container\n          direction=\"column\"\n          justify=\"center\"\n        >\n          <Grid item>\n            <div\n              className={`\n                ${isCloseIcon ? `${classes.flex_align_center} ${classes.justify_between}` : ''}\n                ${classes.modalTitleBlock}\n                ${classesNameObj?.modalGridContainer}\n              `}\n            >\n              <div className={`${classes.modalTitle} ${classesNameObj?.modalTitle}`}>\n                {title}\n              </div>\n              {\n                isCloseIcon &&\n                <IconButton\n                  aria-label=\"close\"\n                  onClick={onClose}\n                >\n                  <CloseIcon />\n                </IconButton>\n              }\n            </div>\n          </Grid>\n\n          {\n            subTitle &&\n            <Grid item>\n              <div className={`${classes.subTitle} ${classesNameObj?.modalSubTitle}`}>\n                {subTitle}\n              </div>\n            </Grid>\n          }\n\n          {children}\n        </Grid>\n      </div>\n    </Modal>\n  );\n}\n\nBaseModal.propTypes = {\n  children: PropTypes.node,\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  subTitle: PropTypes.string,\n  title: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ]),\n  isCloseIcon: PropTypes.bool,\n  modalWidth: PropTypes.number,\n  classesNameObj: PropTypes.object\n};\n\nexport default BaseModal;\n","const commonStyle = (theme) => {\n  const { largeAlpha } = theme.bp\n\n  return {\n    // width and height\n    w_full: {\n      width: '100%'\n    },\n    w_screen: {\n      width: '100vw'\n    },\n    w_auto: {\n      width: 'auto'\n    },\n    h_full: {\n      height: '100%'\n    },\n    h_screen: {\n      height: '100vw'\n    },\n    h_auto: {\n      height: 'auto'\n    },\n    h_30: {\n      height: 30\n    },\n    // col\n    col_3: {\n      width: 'auto',\n      maxWidth: '25%',\n      minWidth: 'calc((100% / 12) * 3)'\n    },\n    col_4: {\n      width: 'auto',\n      maxWidth: '33.3333%',\n      minWidth: 'calc((100% / 12) * 4)'\n    },\n    col_6: {\n      width: 'auto',\n      maxWidth: '50%',\n      minWidth: 'calc((100% / 12) * 6)'\n    },\n    'largeAlpha:col_6': {\n      [theme.breakpoints.down(largeAlpha)]: {\n        width: 'auto',\n        maxWidth: '50%'\n      }\n    },\n    'largeAlpha:col_12': {\n      [theme.breakpoints.down(largeAlpha)]: {\n        width: 'auto',\n        maxWidth: '100%'\n      }\n    },\n    // ctrl\n    w_ctrl90: {\n      width: 90,\n      flex: '0 0 90px'\n    },\n    w_ctrl_left90: {\n      width: 'auto',\n      flex: '1 1 auto'\n    },\n    // display,\n    d_flex: {\n      display: 'flex !important'\n    },\n    d_inflex: {\n      display: 'inline-flex !important'\n    },\n    d_block: {\n      display: 'block !important'\n    },\n    d_inblock: {\n      display: 'inline-block !important'\n    },\n    d_none: {\n      display: 'none !important'\n    },\n    // flex\n    flex_left: {\n      marginRight: 'auto'\n    },\n    flex_right: {\n      color: 'inherit'\n    },\n    flex_justify_start: {\n      display: 'flex',\n      justifyContent: 'flex-start'\n    },\n    flex_justify_between: {\n      display: 'flex',\n      justifyContent: 'between'\n    },\n    flex_justify_center: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    flex_justify_end: {\n      display: 'flex',\n      justifyContent: 'flex-end'\n    },\n    flex_align_start: {\n      display: 'flex',\n      alignItems: 'start'\n    },\n    flex_align_center: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    flex_center: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    justify_around: {\n      justifyContent: 'space-around'\n    },\n    justify_between: {\n      justifyContent: 'space-between'\n    },\n    justify_center: {\n      justifyContent: 'center'\n    },\n    alignItems: {\n      alignItems: 'stretch'\n    },\n    alignItemsCenter: {\n      alignItems: 'center'\n    },\n    directionColumn: {\n      flexDirection: 'column'\n    },\n    directionRow: {\n      flexDirection: 'row'\n    },\n    flex_wrap: {\n      flexWrap: 'wrap'\n    },\n    // spacing\n    m_0: {\n      margin: '0 !important'\n    },\n    my_0: {\n      marginTop: '0 !important',\n      marginBottom: '0 !important'\n    },\n    mx_0: {\n      marginLeft: '0 !important',\n      marginRight: '0 !important'\n    },\n    mt_0: {\n      marginTop: '0 !important'\n    },\n    mt_8: {\n      marginTop: '8px !important'\n    },\n    mt_10: {\n      marginTop: '10px !important'\n    },\n    mt_16: {\n      marginTop: '16px !important'\n    },\n    mt_20: {\n      marginTop: '20px !important'\n    },\n    mt_30: {\n      marginTop: '30px !important'\n    },\n    ml_10: {\n      marginLeft: '10px !important'\n    },\n    ml_20: {\n      marginLeft: '20px !important'\n    },\n    mr_10: {\n      marginRight: '10px !important'\n    },\n    mr_16: {\n      marginRight: '16px !important'\n    },\n    mr_20: {\n      marginRight: '20px !important'\n    },\n    mr_auto: {\n      marginRight: 'auto !important'\n    },\n    mb_0: {\n      marginBottom: '0 !important'\n    },\n    mb_6: {\n      marginBottom: '6px !important'\n    },\n    mb_10: {\n      marginBottom: '10px !important'\n    },\n    mb_16: {\n      marginBottom: '16px !important'\n    },\n    mb_20: {\n      marginBottom: '20px !important'\n    },\n    mb_24: {\n      marginBottom: '24px !important'\n    },\n    mb_40: {\n      marginBottom: '40px !important'\n    },\n    p_0: {\n      padding: '0 !important'\n    },\n    p_8: {\n      padding: '8px !important'\n    },\n    p_20: {\n      padding: '20px !important'\n    },\n    pt_20: {\n      paddingTop: '20px !important'\n    },\n    py_5: {\n      paddingTop: 5,\n      paddingBottom: 5\n    },\n    px_0: {\n      paddingLeft: '0 !important',\n      paddingRight: '0 !important'\n    },\n    pb_0: {\n      paddingBottom: '0 !important'\n    },\n    pb_10: {\n      paddingBottom: '10px !important'\n    },\n    // border\n    border_TL_Radius_0: {\n      borderTopLeftRadius: '0px !important'\n    },\n    border_TR_Radius_0: {\n      borderTopRightRadius: '0px !important'\n    },\n    border_BL_Radius_0: {\n      borderBottomLeftRadius: '0px !important'\n    },\n    border_BR_Radius_0: {\n      borderBottomRightRadius: '0px !important'\n    },\n    borderRadius_4: {\n      borderRadius: '4px !important'\n    },\n    border_none: {\n      border: 'none !important'\n    },\n    // color\n    black_100: {\n      color: theme.palette.text.black\n    },\n    black_60: {\n      color: 'rgba(0, 0, 0, 0.6)'\n    },\n    textRed: {\n      color: 'red'\n    },\n    textYellow: {\n      color: 'yellow'\n    },\n    textOrange: {\n      color: 'orange'\n    },\n    textGreen: {\n      color: 'green'\n    },\n    textBlue: {\n      color: 'blue'\n    },\n    textAqua: {\n      color: 'aqua'\n    },\n    textPurple: {\n      color: 'purple'\n    },\n    // utilities\n    scrollable_y: {\n      height: '100%',\n      overflowY: 'auto'\n    },\n    // font\n    fz_12: {\n      fontSize: 12\n    },\n    fz_14: {\n      fontSize: 14\n    },\n    fz_16: {\n      fontSize: 16\n    },\n    // Icons\n    viewBtn: {\n      width: 36,\n      height: 24,\n      display: 'flex',\n      alignItems: 'center',\n      paddingLeft: 10,\n      cursor: 'pointer'\n    },\n    viewIcon: {\n      fontSize: 16,\n      color: theme.palette.customColor.themePrimary\n    },\n    // components\n    pageContainer: {\n      position: 'relative',\n      padding: '0 20px 20px'\n    },\n    rowRadioGroup: {\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    rowRadioGroupLabel: {\n      color: theme.palette.text.black,\n      fontSize: 14,\n      marginRight: 25\n    },\n    radioRoot: {\n      '& .MuiSvgIcon-root': {\n      // \n        height: 20,\n        width: 20\n      }\n    },\n    checkboxRoot: {\n      '& .MuiSvgIcon-root': {\n      // \n        height: 20,\n        width: 20\n      }\n    },\n    defaultInput: {\n      maxWidth: 200,\n      minWidth: 150,\n      maxHeight: 40,\n      '& .MuiOutlinedInput-root': {\n        height: 40\n      }\n    },\n    unlimitWidthInput: {\n      maxHeight: 40,\n      '& .MuiOutlinedInput-root': {\n        height: 40\n      },\n\n      '& .MuiInputLabel-outlined': {\n        transform: 'translate(14px, 14px) scale(1)'\n      },\n\n      '& .MuiInputLabel-outlined.MuiInputLabel-shrink': {\n        transform: 'translate(14px, -6px) scale(0.75)'\n      }\n    },\n    unlimitWidthSelect: {\n      maxHeight: 40,\n      height: 40,\n\n      '& .MuiSelect-outlined': {\n        padding: '12px 14px',\n        paddingRight: 32\n      },\n\n      '& .MuiSelect-icon': {\n        top: 'calc(50% - 8px)'\n      },\n\n      '& .MuiFormLabel-root': {\n        transform: 'translate(14px, 14px) scale(1)'\n      },\n\n      '& .MuiFormLabel-root.MuiInputLabel-shrink': {\n        transform: 'translate(14px, -6px) scale(0.75)'\n      }\n    },\n    ctrlBarDatePicker: {\n      width: 200,\n      backgroundColor: theme.palette.customColor.trans\n    },\n    tabs: {\n      '& .MuiTab-wrapper': {\n        fontSize: '14px'\n      }\n    },\n    defaultTextField: {\n      '& .MuiFormHelperText-root': {\n        fontSize: '14px'\n      }\n    }\n  }\n};\n\nexport default commonStyle;","import React from 'react';\nimport BaseModal from 'components/BaseModal';\nimport { PrimaryButton, DefaultButton } from 'components/BaseButton';\nimport { useTranslation } from 'react-i18next';\n\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(() => ({\n  marginRight10: {\n    marginRight: 10\n  }\n}))\n\nconst ConfirmModal = ({ isOpen, onClose, title, content, onConfirm, confrimText }) => {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  return (\n    <BaseModal\n      isOpen={isOpen}\n      onClose={onClose}\n      title={title}\n    >\n      <div style={{ width: 350 }}>\n        <p style={{ whiteSpace: 'pre-line', wordBreak: 'break-all' }}>{content}</p>\n      </div>\n      <div style={{ display: 'flex', justifyContent: 'flex-end', paddingTop: 10 }}>\n        <DefaultButton\n          children={t('cancel')}\n          classes={{ root: classes.marginRight10 }}\n          onClick={() => {\n            onClose();\n          }}\n        />\n        <PrimaryButton\n          children={confrimText ? confrimText : t('confirm')}\n          onClick={() => {\n            onConfirm ? onConfirm() : null;\n            onClose();\n          }}\n        />\n      </div>\n    </BaseModal>\n  );\n};\n\nConfirmModal.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  title: PropTypes.string,\n  content: PropTypes.string,\n  onConfirm: PropTypes.func,\n  confrimText: PropTypes.string\n};\n\nexport default ConfirmModal;\n","export const colors = [\n  '#434E86',\n  '#955096',\n  '#DD5282',\n  '#FF6F54',\n  '#FFA600',\n  '#BBA700',\n  '#75A100',\n  '#007561',\n  '#0082A4',\n  '#7C7C7C'\n]\n\nexport const percentColors = [\n  '#00CC00',\n  '#FF9500',\n  '#E60000'\n]\n","export const KB = 1024\nexport const MB = 1024 * 1024\nexport const GB = 1024 * 1024 * 1024\nexport const TB = 1024 * 1024 * 1024 * 1024","import React from 'react';\nimport { useRouteMatch } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\nimport { last } from 'lodash';\nimport styles from './index.module.scss';\n\nexport const BreadCrumb = () => {\n  const { t } = useTranslation();\n  let { url } = useRouteMatch();\n  url = url.split('/');\n  url.shift();\n  const pathArr = url.map(\n    (item, index) => {\n      if (index === 0) {\n        return ({\n          name: t(`routeName.${item}`),\n          path: item\n        })\n      }\n      return ({\n        name: t(`${item}`),\n        path: item\n      })\n    }\n  );\n  const totalPath = [\n    { name: t('home'), path: '/entry' },\n    ...pathArr\n  ]\n  return (\n    <div className={styles.container}>\n      <h2 className={styles.title}>\n        {last(totalPath).name}\n      </h2>\n      <ul className={styles.breadcrumbs}>\n        {\n          totalPath.map((path, idx) =>\n          { \n            if (idx === totalPath.length - 1) {\n              return (\n                <li key={idx}>\n                  <a\n                    disabled\n                    href=\"#\"\n                  >\n                    {path.name}\n                  </a>\n                </li>\n              )\n            } else {\n              let checkSlash = path.path\n              if (checkSlash.charAt(0) !== '/') {\n                checkSlash = `/${path.path}`\n              }\n              return (\n                <li key={idx}>\n                  <Link\n                    to={checkSlash}\n                  >\n                    {path.name}\n                  </Link>\n                </li>\n              )\n            }\n          }\n          )\n        }\n      </ul>\n    </div>\n  )\n}\n\nexport default BreadCrumb;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"BreadCrumbs_container__2UAi9\",\"title\":\"BreadCrumbs_title__35kKu\",\"breadcrumbs\":\"BreadCrumbs_breadcrumbs__162cE\"};","// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated\n// documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation\n// the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and\n// to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n// BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\nimport c from 'classnames';\nimport PropTypes from 'prop-types';\nimport { isNil } from 'lodash';\nimport React, { useEffect, useLayoutEffect, useRef } from 'react';\nconst ReactMonacoEditor = React.lazy(() => import('react-monaco-editor'));\n\nimport { monacoHack } from './monaco-hack.module.scss';\n// import t from './tachyons.module.scss';\n\nconst MonacoEditor = ({ className, style, monacoProps, completionItems, schemas, monacoRef }) => {\n  // monaco variables\n  const monaco = useRef(null);\n  const editor = useRef(null);\n  const completionList = useRef({\n    suggestions: []\n  });\n\n  // resize event\n  const handleResize = () => {\n    if (editor.current !== null) {\n      editor.current.layout();\n    }\n  };\n  useEffect(() => {\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  });\n\n  // json schema\n  const setSchemas = (monaco, schemas) => {\n    if (isNil(schemas)) {\n      monaco.languages.json.jsonDefaults.setDiagnosticsOptions({\n        validate: true,\n        schemas\n      });\n    } else {\n      monaco.languages.json.jsonDefaults.setDiagnosticsOptions({\n        validate: false,\n        schemas: []\n      });\n    }\n  };\n  useLayoutEffect(() => {\n    if (monaco.current !== null) {\n      setSchemas(monaco.current, schemas);\n    }\n  }, [schemas]);\n\n  // completion items\n  useEffect(() => {\n    if (completionItems) {\n      completionList.current = {\n        suggestions: completionItems.map(x => ({\n          label: x,\n          insertText: x\n        }))\n      };\n    }\n  }, [completionItems]);\n\n  let editorDidMountFunc = null;\n  if (!isNil(monacoProps.editorDidMount)) {\n    editorDidMountFunc = monacoProps.editorDidMount;\n    delete monacoProps.editorDidMount;\n  }\n\n  // let monacoClassName = null;\n  // if (!isNil(monacoProps.className)) {\n  //   monacoClassName = monacoProps.className;\n  //   delete monacoProps.className;\n  // }\n\n  return (\n    <div\n      className={c(monacoHack, className)}\n      style={{ flexGrow: 1, minHeight: 0, borderRadius: 4, overflow: 'hidden', ...style }}\n    >\n      <React.Suspense fallback={<>Loading...</>}>\n        <ReactMonacoEditor\n        // default props\n          // className={c(monacoClassName)}\n          editorDidMount={(e, m) => {\n          // save monaco context\n            editor.current = e;\n            monaco.current = m;\n            if (!isNil(monacoRef)) {\n              monacoRef.current = m;\n            }\n\n            // completion provider\n            for (const lang of ['json', 'yaml', 'plaintext', 'shell']) {\n              monaco.current.languages.registerCompletionItemProvider(lang, {\n                provideCompletionItems() {\n                  return completionList.current;\n                }\n              });\n            }\n            // json schema\n            setSchemas(monaco.current, schemas);\n            if (editorDidMountFunc !== null) {\n              editorDidMountFunc(e, m);\n            }\n          }}\n          language=\"text\"\n          // editor did mount\n          theme=\"vs-dark\"\n          {...monacoProps}\n        />\n      </React.Suspense>\n    </div>\n  );\n};\n\nMonacoEditor.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  // monaco props\n  monacoProps: PropTypes.object,\n  schemas: PropTypes.array,\n  completionItems: PropTypes.arrayOf(PropTypes.string),\n  monacoRef: PropTypes.object\n};\n\nexport default MonacoEditor;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Form_container__hsnhr\",\"title\":\"Form_title__vrj5G\",\"input\":\"Form_input__b_KMf\",\"select\":\"Form_select__1kxWR\",\"radioGroup\":\"Form_radioGroup__1nLA5\",\"marginRight10\":\"Form_marginRight10__2asw7\",\"width20\":\"Form_width20__aADVw\",\"width45\":\"Form_width45__3NYpk\",\"width50\":\"Form_width50__22nDl\",\"width100\":\"Form_width100__1iXF7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"monacoHack\":\"monaco-hack_monacoHack__1pO5W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TaskRole_container__BFzra\",\"content\":\"TaskRole_content__3ClFj\",\"footer\":\"TaskRole_footer__22Caw\",\"formContent\":\"TaskRole_formContent__2ctMW\",\"row\":\"TaskRole_row__1HJT6\",\"tabContainer\":\"TaskRole_tabContainer__q64EN\",\"tabAdd\":\"TaskRole_tabAdd__1_hqa\",\"paddingBottom72\":\"TaskRole_paddingBottom72__X6XzZ\",\"marginTop10\":\"TaskRole_marginTop10__2W8-8\",\"paddingLeftRight10\":\"TaskRole_paddingLeftRight10__1sRaD\",\"width20\":\"TaskRole_width20__fzs7e\",\"width25\":\"TaskRole_width25__2Tz4X\",\"width45\":\"TaskRole_width45__1cAh_\",\"width50\":\"TaskRole_width50__AyaCS\",\"width75\":\"TaskRole_width75__30vVU\",\"width100\":\"TaskRole_width100__2QaWP\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Pivot, PivotLinkSize, PivotItem } from 'office-ui-fabric-react';\n\nconst BaseTab = ({ children, withBorder = true, items = [], ...props }) => {\n  const pivotStyle = {\n    root: {\n      borderBottom: withBorder ? '2px solid #eee' : 'none'\n    },\n    link: {\n      paddingRight: 8,\n      paddingLeft: 8,\n      width: 'auto',\n      height: 38\n    },\n    linkIsSelected: {\n      marginRight: 8,\n      paddingRight: 8,\n      paddingLeft: 8,\n      width: 'auto',\n      selectors: {\n        ':before': {\n          transition: ' left 0.267s cubic-bezier(0.1, 0.25, 0.75, 0.9) 0s, right 0.267s cubic-bezier(0.1, 0.25, 0.75, 0.9) 0s'\n        },\n        ':hover:before': {\n          left: 0,\n          right: 0,\n          transition: ' left 0.267s cubic-bezier(0.1, 0.25, 0.75, 0.9) 0s, right 0.267s cubic-bezier(0.1, 0.25, 0.75, 0.9) 0s'\n        }\n      }\n    },\n    linkContent: {\n      margin: 'auto'\n    }\n  };\n  return (\n    <Pivot\n      linkSize={PivotLinkSize.large}\n      styles={pivotStyle}\n      {...props}\n    >\n      {\n        items && items.map(item => (\n          <PivotItem\n            headerText={item.text}\n            itemKey={item.key}\n            key={item.key}\n            styles={item.styles}\n          />\n        ))\n      }\n      {children}\n    </Pivot>\n  );\n};\n\nBaseTab.propTypes = {\n  children: PropTypes.node,\n  withBorder: PropTypes.bool,\n  items: PropTypes.array\n};\n\nexport default BaseTab;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Memory_container__2YUWy\",\"content\":\"Memory_content__2FptF\",\"shm\":\"Memory_shm__3wuGH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ViewSchedule_container__1lA-i\",\"title\":\"ViewSchedule_title__2yWIh\",\"icon\":\"ViewSchedule_icon__D4pI3\",\"wrapper\":\"ViewSchedule_wrapper__8mWTM\",\"row\":\"ViewSchedule_row__DxEeC\",\"row__title\":\"ViewSchedule_row__title__WBLum\",\"row__title__state\":\"ViewSchedule_row__title__state__RKM5n\",\"row__title__state--denied\":\"ViewSchedule_row__title__state--denied__3gSaJ\",\"row__title__state--verifying\":\"ViewSchedule_row__title__state--verifying__Yyy9A\",\"row__title__state--verified\":\"ViewSchedule_row__title__state--verified__2W_Dp\",\"row__description\":\"ViewSchedule_row__description__3-oZa\",\"row__name\":\"ViewSchedule_row__name__3ZPNX\",\"schedule__container__block__info--state\":\"ViewSchedule_schedule__container__block__info--state__vClMN\",\"schedule__container__block__info--red\":\"ViewSchedule_schedule__container__block__info--red__3Kcn5\",\"schedule__container__block__info--green\":\"ViewSchedule_schedule__container__block__info--green__pD8sV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"CreateSchedule_form__2Z9JR\",\"title\":\"CreateSchedule_title__dgy1_\",\"title__left\":\"CreateSchedule_title__left__1uRgW\",\"title__right\":\"CreateSchedule_title__right__1LGbH\",\"title__right__icon\":\"CreateSchedule_title__right__icon__1byDn\",\"container\":\"CreateSchedule_container__3Qz3Q\",\"row\":\"CreateSchedule_row__GEUqz\",\"row__average\":\"CreateSchedule_row__average__39lI_\",\"row__average__block\":\"CreateSchedule_row__average__block__YhNuO\",\"row__right\":\"CreateSchedule_row__right__rI4d5\",\"row__right__block\":\"CreateSchedule_row__right__block__2apLT\",\"footer\":\"CreateSchedule_footer__3wG6p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Form_container__3NYhT\",\"title\":\"Form_title__2UH1G\",\"input\":\"Form_input__3hIB6\",\"select\":\"Form_select__37S2C\",\"radioGroup\":\"Form_radioGroup__ikUMt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Step1_container__27aTo\",\"row\":\"Step1_row__12x02\",\"row__average\":\"Step1_row__average__3Hgh8\",\"row__average__block\":\"Step1_row__average__block__3yxox\",\"row__average__block50\":\"Step1_row__average__block50__1ICcU\",\"row__right\":\"Step1_row__right__2paOy\",\"row__right__block\":\"Step1_row__right__block__2DmsR\",\"row__borderBottomLine\":\"Step1_row__borderBottomLine__1CpQv\",\"footer\":\"Step1_footer__1bOuQ\",\"paddingBottom72\":\"Step1_paddingBottom72__2Ix-t\",\"marginTop10\":\"Step1_marginTop10__346Hp\",\"paddingBottom10\":\"Step1_paddingBottom10__pBI7a\",\"width100\":\"Step1_width100__2_-7V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ViewModal_container__1XnRn\",\"top\":\"ViewModal_top__dDvpy\",\"top__block\":\"ViewModal_top__block__3uh-3\",\"top__block__item__title\":\"ViewModal_top__block__item__title__1J9eE\",\"top__block__item\":\"ViewModal_top__block__item__3YC9e\",\"top__block__item__description\":\"ViewModal_top__block__item__description__qJqn6\",\"top__block__item__25\":\"ViewModal_top__block__item__25__2s-P6\",\"top__block__item__75\":\"ViewModal_top__block__item__75__TsSq7\",\"top__borderBottom\":\"ViewModal_top__borderBottom__G0IBl\",\"wrapper\":\"ViewModal_wrapper__30QN1\",\"wrapper__block\":\"ViewModal_wrapper__block__1d6q_\",\"wrapper__block__title\":\"ViewModal_wrapper__block__title__2JacB\",\"block__title__20\":\"ViewModal_block__title__20__HPCgh\",\"block__title__25\":\"ViewModal_block__title__25__1UonR\",\"block__title__50\":\"ViewModal_block__title__50__1zM5y\",\"wrapper__block__item\":\"ViewModal_wrapper__block__item__3pGRt\",\"block__item__20\":\"ViewModal_block__item__20__2-nn8\",\"block__item__25\":\"ViewModal_block__item__25__1KL7-\",\"block__item__50\":\"ViewModal_block__item__50__2CoX4\",\"wrapper__block__command\":\"ViewModal_wrapper__block__command__-khYE\",\"wrapper__borderBottom\":\"ViewModal_wrapper__borderBottom__1SX3v\",\"footer\":\"ViewModal_footer__1BRaG\",\"marginTop10\":\"ViewModal_marginTop10__DUV7w\",\"marginBottom10\":\"ViewModal_marginBottom10__21mzU\",\"paddingTop10\":\"ViewModal_paddingTop10__1zB4C\",\"paddingBottom10\":\"ViewModal_paddingBottom10__2BI64\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBlock\":\"Step2Table_searchBlock__1IJaA\",\"searchBlockRight\":\"Step2Table_searchBlockRight__3GUAb\",\"container\":\"Step2Table_container__1bb0Q\",\"row\":\"Step2Table_row__2DGPI\",\"template\":\"Step2Table_template__3XJeI\",\"line\":\"Step2Table_line__pEf0l\",\"marginTop10\":\"Step2Table_marginTop10__2aYhH\",\"marginLeft10\":\"Step2Table_marginLeft10__3Z6Dz\",\"marginLeft25\":\"Step2Table_marginLeft25__ndwya\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Step3_container__3Fboo\",\"vgStateContainer\":\"Step3_vgStateContainer__8qlEc\",\"header\":\"Step3_header__3gnrx\",\"headerBorderBottom\":\"Step3_headerBorderBottom__bxeu2\",\"errorColor\":\"Step3_errorColor__3Pa5C\",\"footer\":\"Step3_footer__2xBUi\",\"width25\":\"Step3_width25__1dNtZ\",\"width100\":\"Step3_width100__B5uZa\",\"marginBottom10\":\"Step3_marginBottom10__3AmSw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Step4_container__2GK_K\",\"footer\":\"Step4_footer__qaXjE\",\"paddingBottom72\":\"Step4_paddingBottom72__1BtKj\",\"width100\":\"Step4_width100__1To-X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Disk_container__y-ieJ\",\"content\":\"Disk_content__k43uC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"GPU_container__3H6FM\",\"content\":\"GPU_content__22R2-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CPU_container__1NEXR\",\"vertical\":\"CPU_vertical__3A8xO\",\"horizontal\":\"CPU_horizontal__1_R6x\",\"content\":\"CPU_content__AkRZu\",\"cpu\":\"CPU_cpu__1x_P9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container1\":\"PreviewModal_container1__3HcN5\",\"cell\":\"PreviewModal_cell__njY2O\",\"small\":\"PreviewModal_small__Vlr9F\",\"normal\":\"PreviewModal_normal__2aadu\",\"gpu\":\"PreviewModal_gpu__1DQrT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ModifyScheduleModal_title__19r-4\",\"name\":\"ModifyScheduleModal_name__1JqRf\",\"icons\":\"ModifyScheduleModal_icons__2xbVA\",\"form\":\"ModifyScheduleModal_form__3LHkT\",\"row\":\"ModifyScheduleModal_row__38Yp2\",\"row__left\":\"ModifyScheduleModal_row__left__2djMx\",\"row__right\":\"ModifyScheduleModal_row__right__184Wk\",\"row__right__block\":\"ModifyScheduleModal_row__right__block__FbjkW\",\"footer\":\"ModifyScheduleModal_footer__25O2F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBlock\":\"Schedule_searchBlock__1sZVr\",\"searchBlock__left\":\"Schedule_searchBlock__left__xmWwv\"};","import React, { useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport GlobalContext from 'layouts/Main/GlobalContext';\n\nconst BaseCalendar = (props, ref) => {\n  const { t } = useTranslation();\n  const { locale } = useContext(GlobalContext);\n  return (\n    <FullCalendar\n      buttonText={{\n        today: t('today'),\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list'\n      }}\n      defaultView=\"dayGridMonth\"\n      headerToolbar={{\n        start: 'prev,next today',\n        center: 'title',\n        end: ''\n      }} //  'ja'\n      height={'100%'}\n      locale={locale === 'jp' ? 'ja' : locale}\n      plugins={[ dayGridPlugin, interactionPlugin ]}\n      ref={ref}\n      {...props}\n    />\n  );\n};\n\nBaseCalendar.propTypes = {\n  event: PropTypes.array\n};\n\nexport default React.forwardRef(BaseCalendar);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { PrimaryButton as UIButton } from 'office-ui-fabric-react';\n\nconst styles = {\n  root: {\n    height: '32px',\n    border: '1px solid transparent',\n    boxSizing: 'border-box',\n    borderRadius: '3px'\n  }\n}\n\nexport const PrimaryButton = ({ children, ...props }) => {\n  return (\n    <UIButton\n      styles={styles}\n      {...props}\n    >\n      {children}\n    </UIButton>\n  )\n}\n\nPrimaryButton.propTypes = {\n  children: PropTypes.node\n}\n\nexport default PrimaryButton","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { DefaultButton as UIButton, getTheme } from 'office-ui-fabric-react';\n\nconst theme = getTheme()\n\nconst styles = {\n  root: {\n    border: '1px solid',\n    borderColor: '#8A8886',\n    borderRadius: '3px',\n    padding: '0 15px',\n    width: 'auto',\n    height: '32px',\n    backgroundColor: theme.palette.white,\n    boxSizing: 'border-box',\n    textAlign: 'center',\n    color: `${theme.palette.black} !important`,\n    fontWeight: 'normal'\n  },\n  label: {\n    fontWeight: 'normal'\n  }\n}\n\nexport const DefaultButton = ({ children, ...props }) => {\n  return (\n    <UIButton\n      styles={styles}\n      {...props}\n    >\n      {children}\n    </UIButton>\n  )\n}\n\nDefaultButton.propTypes = {\n  children: PropTypes.node\n}\n\nexport default DefaultButton","import React from 'react';\nimport { IconButton as UIIconButton, getTheme } from 'office-ui-fabric-react';\n\nconst UITheme = getTheme();\n\nconst styles = {\n  root: {\n    color: UITheme.palette.themePrimary,\n    background: 'none'\n  },\n  iconHovered: {\n    color: UITheme.palette.themePrimary,\n    transform: 'scale(1.25,1.25)',\n    transition: 'transform 0.25s ease'\n  }\n}\n\nexport const IconButton = ({ ...props }) => {\n  return (\n    <UIIconButton\n      styles={styles}\n      {...props}\n    />\n  );\n}\n\nexport default IconButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CommandBarButton as UIButton, getTheme } from 'office-ui-fabric-react';\n\nconst UITheme = getTheme()\n\nexport const CommandBarButton = ({ children, primary = false, ...props }) => {\n\n  const styles = {\n    root: {\n      borderRadius: '3px 0px 0px 3px',\n      backgroundColor: primary ? UITheme.palette.themePrimary : UITheme.palette.white,\n      color: primary ? UITheme.palette.white : '#333',\n      border: '1px solid',\n      borderColor: primary ? UITheme.palette.themePrimary : UITheme.palette.borderColor,\n      borderRight: `1px solid ${primary ? UITheme.palette.white : UITheme.palette.borderColor}`,\n      height: '32px',\n      selectors: {\n        '& + .ms-Button': {\n          backgroundColor: primary ? UITheme.palette.themePrimary : UITheme.palette.white,\n          borderColor: primary ? UITheme.palette.themePrimary : UITheme.palette.borderColor\n        },\n        '& + .ms-Button:hover': {\n          backgroundColor: primary ? UITheme.palette.themeDark : UITheme.palette.neutralLight\n        },\n        '& + .ms-Button i': {\n          color: primary ? UITheme.palette.white : '#333'\n        },\n        '&+ .ms-Button:disabled': {\n          background: '#f3f2f1'\n        }\n      }\n    },\n    rootHovered: {\n      backgroundColor: primary ? UITheme.palette.themeDark : UITheme.palette.neutralLight,\n      color: primary ? UITheme.palette.white : '#333'\n    },\n    rootDisabled: {\n      borderRight: `1px solid ${UITheme.palette.borderColor}`\n    },\n    splitButtonDivider: { height: '0px' },\n    splitButtonMenuButton: {\n      borderRadius: '0px 3px 3px 0px',\n      backgroundColor: UITheme.palette.white,\n      border: '1px solid',\n      borderColor: UITheme.palette.borderColor,\n      height: '32px'\n    },\n    toolTipHostStyle: {\n      display: 'flex',\n      // fontFamily: 'Tahoma',\n      fontSize: '14px',\n      fontWeight: 'bold',\n      justifyContent: 'flex-start'\n    }\n  }\n\n  return (\n    <UIButton\n      primary\n      styles={styles}\n      {...props}\n    >\n      {children}\n    </UIButton>\n  )\n}\n\nCommandBarButton.propTypes = {\n  children: PropTypes.node,\n  primary: PropTypes.bool\n}\n\nexport default CommandBarButton","import React, { useState } from 'react';\nimport { Icon } from 'office-ui-fabric-react';\nimport ConfrimModal from 'components/ConfirmModal';\nimport { useTranslation } from 'react-i18next';\nimport { isEmpty } from 'lodash';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport { deleteJobSchedule } from 'utils/api';\n\nimport styles from './ViewSchedule.module.scss';\n\nfunction ViewSchedule({ getData, data, onClose, onOpenModifyModal, selectedVg }) {\n  const { t } = useTranslation();\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const isTimeOverNow = data.startAt > new Date().getTime();\n  const isTimeBeforeNow = data.startAt < new Date().getTime();\n\n  const onDelete = () => {\n    deleteJobSchedule(data.id)\n      .then(() => {\n        setShowDeleteModal(false);\n        onClose();\n        getData(selectedVg);\n        toast.success(t('success'));\n      })\n      .catch(err => {\n        toast.error('Error: ' + err.data ? err.data.message : err.message)\n      });\n  }\n\n  const stateText = state => {\n    switch (state) {\n      case -1:\n        return <div style={{ background: '#FFE4DD', display: 'inline-block' }}>{t('denied')}</div>;\n      case 0:\n        return <div style={{ background: '#FFF8EA', display: 'inline-block' }}>{t('verifying')}</div>;\n      case 1:\n        return <div style={{ background: '#D6F8C5', display: 'inline-block' }}>{t('verified')}</div>;\n      default:\n        return '';\n    }\n  };\n\n  const stateBackground = state => {\n    switch (state) {\n      case -1:\n        return styles['row__title__state--denied'];\n      case 0:\n        return styles['row__title__state--verifying'];\n      case 1:\n        return styles['row__title__state--verified'];\n      default:\n        return '';\n    }\n  }\n\n  const stateColor = state => {\n    switch (state) {\n      case -1:\n        return styles['schedule__container__block__info--red'];\n      case 0:\n        return styles['schedule__container__block__info--state'];\n      case 1:\n        return styles['schedule__container__block__info--green'];\n      default:\n        return 'green';\n    }\n  };\n\n  return (\n    <>\n      <div className={styles.container}>\n        <div className={styles.title}>\n          {\n            isTimeBeforeNow && data.state === -1 &&\n            <div className={styles.icon}>\n              <Icon\n                iconName={'Edit'}\n                onClick={() => {\n                  onOpenModifyModal()\n                  onClose()\n                }}\n              >icon1</Icon>\n            </div>\n          }\n          {\n            isTimeOverNow &&\n            <>\n              <div className={styles.icon}>\n                <Icon\n                  iconName={'Edit'}\n                  onClick={() => {\n                    onOpenModifyModal()\n                    onClose()\n                  }}\n                />\n              </div>\n              <div className={styles.icon}>\n                <Icon\n                  iconName={'Delete'}\n                  onClick={() => setShowDeleteModal(true)}\n                />\n              </div>\n            </>\n          }\n          <div className={styles.icon}>\n            <Icon\n              iconName={'Cancel'}\n              onClick={() => onClose()}\n            />\n          </div>\n        </div>\n        <div className={styles.wrapper}>\n          <div className={styles.row}>\n            <div className={`${styles.row__title} ${stateColor(data.state)}`}>\n              <div className={`${styles.row__title__state} ${stateBackground(data.state)}`}>\n                {stateText(data.state)}\n              </div>\n            </div>\n            <div className={styles.row__name}>{data.name}</div>\n          </div>\n          <div className={styles.row}>\n            <div className={styles.row__title}>{t('time')}</div>\n            <div className={styles.row__description}>{moment(data.startAt).format('MM/DD HH:mm')} - {moment(data.endAt).format('MM/DD HH:mm')}</div>\n          </div>\n          <div className={styles.row}>\n            <div className={styles.row__title}>{t('virtualCluster')}</div>\n            <div className={styles.row__description}>{data.virtualGroup}</div>\n          </div>\n          <div className={styles.row}>\n            <div className={styles.row__title}>{t('CPU')}</div>\n            <div className={styles.row__description}>{data.cpu}</div>\n          </div>\n          <div className={styles.row}>\n            <div className={styles.row__title}>{t('memory')}</div>\n            <div className={styles.row__description}>{data.memory} MB</div>\n          </div>\n          <div className={styles.row}>\n            <div className={styles.row__title}>{t('disk')}</div>\n            <div className={styles.row__description}>{data.storage} GB</div>\n          </div>\n          <div className={styles.row}>\n            <div className={styles.row__title}>\n              {t('GPU')}\n            </div>\n            <div className={styles.row__description}>\n              {\n                isEmpty(data.gpu) \n                  ? <div>{t('no2')}</div>\n                  : Object.keys(data.gpu).map(item => {\n                    return (\n                      <div key={item}>{data.gpu[item]} ( {item} )</div>\n                    )\n                  })\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n      <ConfrimModal\n        confrimText={t('delete')}\n        content={t('sureDelete', { name: data.name })}\n        isOpen={showDeleteModal}\n        onClose={() => setShowDeleteModal(false)}\n        onConfirm={onDelete}\n        title={`${t('delete')}${t('enSpace')}`}\n      />\n    </>\n  );\n}\n\nViewSchedule.propTypes = {\n  getData: PropTypes.func,\n  data: PropTypes.object,\n  onClose: PropTypes.func,\n  onOpenModifyModal: PropTypes.func,\n  selectedVg: PropTypes.string\n}\n\nexport default ViewSchedule;","import React from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport StepConnector from '@material-ui/core/StepConnector';\nimport PropTypes from 'prop-types';\n// import styleScss from  './index.module.scss';\n\nexport const BaseStepper = ({ title, isRequired, activeStep, steps }) => {\n  const QontoConnector = withStyles({\n    alternativeLabel: {\n      top: 8,\n      left: 'calc(-50% + 20px)',\n      right: 'calc(50% + 20px)'\n    },\n    lineHorizontal: {\n      borderTopWidth: '1px'\n    }\n  })(StepConnector);\n\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%'\n    },\n    backButton: {\n      marginRight: theme.spacing(1)\n    },\n    instructions: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1)\n    },\n    label: {\n      fontSize: '14px'\n    },\n    iconContainer: { // define styles for icon container\n      transform: 'scale(1.6)'\n    },\n    text: {\n      fontSize: '12px'\n    }\n  }));\n\n  const classes = useStyles();\n\n  return (\n    <div>\n      {\n        title &&\n          <div style={{ padding: '5px 0' }}>\n            {title}\n            { isRequired && <span style={{ color: 'red' }}> *</span> }\n          </div>\n      }\n      <Stepper\n        activeStep={activeStep}\n        alternativeLabel\n        connector={<QontoConnector />}\n      >\n        {\n          steps.map((label) => (\n            <Step key={label}>\n              <StepLabel\n                StepIconProps={{\n                  classes: {\n                    text: classes.text\n                  }\n                }}\n                classes={{\n                  iconContainer: classes.iconContainer,\n                  label: classes.label\n                }}\n              >\n                {label}\n              </StepLabel>\n            </Step>\n          ))\n        }\n      </Stepper>\n    </div>\n  );\n};\n\nBaseStepper.propTypes = {\n  title: PropTypes.string,\n  isRequired: PropTypes.bool,\n  steps: PropTypes.array,\n  onChange: PropTypes.func,\n  activeStep: PropTypes.number,\n  onPreChange: PropTypes.func,\n  cancelButton: PropTypes.node,\n  openNextBtn: PropTypes.bool,\n  onSubmit: PropTypes.func,\n  onSubmitInSpecificStep: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.func\n  ])\n};\n\nexport default BaseStepper;\n","// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated\n// documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation\n// the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and\n// to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n// BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nexport const STORAGE_PREFIX = '/pai_data/';\nexport const SECRET_PATTERN = /^<% \\$secrets.([a-zA-Z_][a-zA-Z0-9_]*) %>/;\n\nexport const ERROR_MARGIN = 22.15;\n// Wrap comments with `` just a workaround, we may need to change rest-server or\n// runtime to support comments in commands filed\nexport const CUSTOM_STORAGE_START = '`#CUSTOM_STORAGE_START`';\nexport const CUSTOM_STORAGE_END = '`#CUSTOM_STORAGE_END`';\nexport const TEAMWISE_DATA_CMD_START = '`#TEAMWISE_STORAGE_START`';\nexport const TEAMWISE_DATA_CMD_END = '`#TEAMWISE_STORAGE_END`';\nexport const AUTO_GENERATE_NOTIFY =\n  '`#Auto generated code, please do not modify`';\nexport const PAI_ENV_VAR = [\n  {\n    key: 'PAI_JOB_NAME',\n    desc: 'jobName in config file'\n  },\n  {\n    key: 'PAI_USER_NAME',\n    desc: 'User who submit the job'\n  },\n  {\n    key: 'PAI_DEFAULT_FS_URI',\n    desc: 'Default file system uri in PAI'\n  },\n  {\n    key: 'PAI_TASK_ROLE_COUNT',\n    desc: 'Total task roles\\' number in config file'\n  },\n  {\n    key: 'PAI_TASK_ROLE_LIST',\n    desc: 'Comma separated all task role names in config file'\n  },\n  {\n    key: 'PAI_TASK_ROLE_TASK_COUNT_$taskRole',\n    desc: 'Task count of the task role'\n  },\n  {\n    key: 'PAI_HOST_IP_$taskRole_$taskIndex',\n    desc: 'The host IP for taskIndex task in taskRole'\n  },\n  {\n    key: 'PAI_PORT_LIST_$taskRole_$taskIndex_$portType',\n    desc: 'The $portType port list for taskIndex task in taskRole'\n  },\n  {\n    key: 'PAI_RESOURCE_$taskRole',\n    desc:\n      'Resource requirement for the task role in \"gpuNumber,cpuNumber,memMB,shmMB\" format'\n  },\n  {\n    key: 'PAI_MIN_FAILED_TASK_COUNT_$taskRole',\n    desc: 'taskRole.minFailedTaskCount of the task role'\n  },\n  {\n    key: 'PAI_MIN_SUCCEEDED_TASK_COUNT_$taskRole',\n    desc: 'taskRole.minSucceededTaskCount of the task role'\n  },\n  {\n    key: 'PAI_CURRENT_TASK_ROLE_NAME',\n    desc: 'taskRole.name of current task role'\n  },\n  {\n    key: 'PAI_CURRENT_TASK_ROLE_CURRENT_TASK_INDEX',\n    desc: 'Index of current task in current task role, starting from 0'\n  }\n];\nexport const PROTOCOL_TOOLTIPS = {\n  jobName: ' ^[A-Za-z0-9\\\\-_~]+$ ',\n  taskRoleName: ' ^[A-Za-z0-9\\\\-_~]+$ ',\n  taskRoleContainerSize: [\n    'GPUCPU'\n  ],\n  taskRole: [\n    'PSworker'\n  ],\n  parameters: 'key-value$\bkey',\n  secrets: 'Secrets are used to store sensitive data. The value will be masked and won\\'t be seen by other users.',\n  data:\n    'Data section is used to generate pre-command that download/mount your data to specific path in container.',\n  dockerImage: 'Docker '\n};\n\nexport const COMMAND_PLACEHOLDER = `'\n\nshell\"&&\"#\"\"\\\\\"`;\n\nexport const DOCKER_OPTIONS = [\n  {\n    key: 'tensorflow-gpu-python3.6',\n    text: 'tensorflow+python3.6 with gpu, cuda 9.0 (image: ufoym/deepo:tensorflow-py36-cu90)',\n    image: 'ufoym/deepo:tensorflow-py36-cu90'\n  },\n  {\n    key: 'tensorflow-cpu-python3.6',\n    text: 'tensorflow+python3.6 with cpu (image: ufoym/deepo:tensorflow-py36-cpu)',\n    image: 'ufoym/deepo:tensorflow-py36-cpu'\n  },\n  {\n    key: 'tensorflow-gpu-python2.7',\n    text: 'tensorflow+python2.7 with gpu, cuda 9.0 (image: ufoym/deepo:tensorflow-py27-cu90)',\n    image: 'ufoym/deepo:tensorflow-py27-cu90'\n  },\n  {\n    key: 'tensorflow-cpu-python2.7',\n    text: 'tensorflow+python2.7 with cpu (image: ufoym/deepo:tensorflow-py27-cpu)',\n    image: 'ufoym/deepo:tensorflow-py27-cpu'\n  },\n  {\n    key: 'pytorch-gpu',\n    text: 'pytorch+python3.6 with gpu, cuda 9.0 (image: ufoym/deepo:pytorch-py36-cu90)',\n    image: 'ufoym/deepo:pytorch-py36-cu90'\n  },\n  {\n    key: 'pytorch-cpu',\n    text: 'pytorch+python3.6 with cpu (image: ufoym/deepo:pytorch-py36-cpu)',\n    image: 'ufoym/deepo:pytorch-py36-cpu'\n  }\n];\nexport const DEFAULT_DOCKER_URI = 'ufoym/deepo:tensorflow-py36-cu90';\n","import { isObject, isEmpty, isNil, isArrayLike } from 'lodash';\nimport { basename } from 'path';\n\nimport { JobBasicInfo, VIRTUAL_CLUSTER_DEFAULT_VALUE } from './models/job-basic-info';\nimport { JobTaskRole } from './models/job-task-role';\nimport {\n  CUSTOM_STORAGE_START,\n  CUSTOM_STORAGE_END,\n  TEAMWISE_DATA_CMD_START,\n  TEAMWISE_DATA_CMD_END\n} from './constants';\n\nconst HIDE_SECRET = '******';\n\nexport const dispatchResizeEvent = () => {\n  window.dispatchEvent(new Event('resize'));\n};\n\nexport const keyValueArrayReducer = (acc, cur) => {\n  acc = { ...acc, ...cur };\n  return acc;\n};\n\nexport function removeEmptyProperties(obj) {\n  if (!isObject(obj)) {\n    return;\n  }\n\n  const newObj = { ...obj };\n  Object.keys(newObj).forEach(key => {\n    const onCheckingElement = newObj[key];\n    if (!isEmpty(onCheckingElement)) {\n      return;\n    }\n\n    // ignore non-array-like primitive type\n    if (\n      !isObject(onCheckingElement) &&\n      !isArrayLike(onCheckingElement) &&\n      !isNil(onCheckingElement)\n    ) {\n      return;\n    }\n\n    delete newObj[key];\n  });\n  return newObj;\n}\n\nexport function getFileNameFromHttp(url) {\n  return basename(url, '.git');\n}\n\nexport function getProjectNameFromGit(url) {\n  return basename(url, '.git');\n}\n\nexport function getFolderNameFromHDFS(path) {\n  return basename(path);\n}\n\nexport function removePathPrefix(path, prefix) {\n  return path.replace(prefix, '');\n}\n\nexport function addPathPrefix(path, prefix) {\n  return prefix.concat(path);\n}\n\nfunction populateComponents(jobInformation, context) {\n  const { vcNames } = context;\n  const virtualCluster = jobInformation.virtualCluster;\n  if (isEmpty(vcNames) || isNil(vcNames.find(vcName => vcName === virtualCluster))) {\n    jobInformation.virtualCluster = VIRTUAL_CLUSTER_DEFAULT_VALUE;\n  }\n}\n\nexport function getJobComponentsFromConfig(jobConfig, context) {\n  if (isNil(jobConfig)) {\n    return;\n  }\n\n  removePreCommandsFromProtocolTaskRoles(jobConfig);\n  const parameters = jobConfig.parameters || [];\n  const taskRoles = jobConfig.taskRoles || [];\n  const deployments = jobConfig.deployments || [];\n  const prerequisites = jobConfig.prerequisites || [];\n  const secrets = jobConfig.secrets || {};\n  const nfsMounts = jobConfig.extras && jobConfig.extras.nfsList || [];\n  const glusterMounts = jobConfig.extras && jobConfig.extras.glusterfsList || [];\n\n  const updatedJobInformation = JobBasicInfo.fromProtocol(jobConfig);\n  const updatedParameters = Object.keys(parameters).map(key => {\n    return { key: key, value: parameters[key] };\n  });\n  const updatedSecrets =\n    secrets === HIDE_SECRET\n      ? []\n      : Object.keys(secrets).map(key => {\n        return { key: key, value: secrets[key] };\n      });\n  const updatedTaskRoles = Object.keys(taskRoles).map(name =>\n\n    JobTaskRole.fromProtocol(\n      name,\n      taskRoles[name],\n      deployments,\n      prerequisites,\n      secrets\n    )\n  );\n\n  populateComponents(updatedJobInformation, context);\n\n  return [\n    updatedJobInformation,\n    updatedTaskRoles,\n    updatedParameters,\n    nfsMounts,\n    updatedSecrets,\n    glusterMounts\n  ];\n}\n\nexport function getHostNameFromUrl(url) {\n  const parser = new URL(url);\n  return parser.hostname;\n}\n\nexport function getPortFromUrl(url) {\n  const parser = new URL(url);\n  return parser.port;\n}\n\nfunction addPreCommandsToProtocolTaskRoles(protocol, preCommands) {\n  Object.keys(protocol.taskRoles).forEach(taskRoleKey => {\n    const taskRole = protocol.taskRoles[taskRoleKey];\n    const commands = preCommands.concat(taskRole.commands || []);\n    taskRole.commands = commands;\n  });\n}\n\nexport async function populateProtocolWithDataCli(user, protocol, jobData) {\n  if (!jobData.containData) {\n    return;\n  }\n\n  const preCommands = await jobData.generateDataCommands(user, protocol.name || '');\n  addPreCommandsToProtocolTaskRoles(protocol, preCommands);\n}\n\nfunction removePreCommandSection(commands, beginTag, endTag) {\n  const beginTagIndex = commands.indexOf(beginTag);\n  const endTagIndex = commands.indexOf(\n    endTag,\n    beginTagIndex + 1\n  );\n\n  if (beginTagIndex !== -1 && endTagIndex !== -1) {\n    return commands.filter((_, index) => index < beginTagIndex || index > endTagIndex);\n  }\n\n  return commands;\n}\n\nfunction removePreCommandsFromProtocolTaskRoles(protocol) {\n  Object.keys(protocol.taskRoles).forEach(taskRoleKey => {\n    const taskRole = protocol.taskRoles[taskRoleKey];\n    let commands = taskRole.commands || [];\n    if (isEmpty(commands)) {\n      return;\n    }\n\n    commands = removePreCommandSection(\n      commands,\n      CUSTOM_STORAGE_START,\n      CUSTOM_STORAGE_END\n    );\n    commands = removePreCommandSection(\n      commands,\n      TEAMWISE_DATA_CMD_START,\n      TEAMWISE_DATA_CMD_END\n    );\n    taskRole.commands = commands;\n  });\n}\n\n// The help function to create unique name, the name will be namePrefix_index\nexport function createUniqueName(usedNames, namePrefix, startindex) {\n  let index = startindex;\n  let name = `${namePrefix}_${index++}`;\n  while (usedNames.find(usedName => usedName === name)) {\n    name = `${namePrefix}_${index++}`;\n  }\n  return [name, index];\n}\n","\n\nimport { get, isNil, isEmpty } from 'lodash';\nimport { removeEmptyProperties } from '../utils';\nimport { SECRET_PATTERN, DOCKER_OPTIONS } from '../constants';\n\nexport class DockerInfo {\n  constructor(props) {\n    const { uri, auth, secretRef, name, isUseCustomizedDocker } = props;\n    this.uri = uri || '';\n    this.auth = auth || {};\n    this.secretRef = !isEmpty(secretRef) ? secretRef : '';\n    this.name = name || '';\n    this.isUseCustomizedDocker = isUseCustomizedDocker || true;\n  }\n\n  static fromProtocol(dockerInfoProtocol, secrets) {\n    let secretRef = get(dockerInfoProtocol, 'auth.password', '');\n    let auth;\n    if (!isNil(secretRef)) {\n      let secretKey = SECRET_PATTERN.exec(secretRef);\n      secretKey = isEmpty(secretKey) ? '' : secretKey[1];\n      if (!isEmpty(secretKey) && !isNil(secrets[secretKey])) {\n        auth = { ...dockerInfoProtocol.auth, password: secrets[secretKey] };\n      } else {\n        auth = {};\n        secretRef = '';\n      }\n    }\n    const isUseCustomizedDocker = DockerInfo.isUseCustomizedDocker(dockerInfoProtocol.uri);\n    return new DockerInfo({\n      ...dockerInfoProtocol,\n      auth: auth,\n      secretRef: secretRef,\n      isUseCustomizedDocker: isUseCustomizedDocker\n    });\n  }\n\n  static isUseCustomizedDocker(uri) {\n    return isNil(DOCKER_OPTIONS.find(dockerOption => dockerOption.image === uri));\n  }\n\n  convertToProtocolFormat() {\n    const prunedAuth = { ...this.auth };\n    if (!isEmpty(this.secretRef)) {\n      prunedAuth.password = this.secretRef;\n    }\n    return removeEmptyProperties({\n      type: 'dockerimage',\n      auth: prunedAuth,\n      uri: this.uri.trim(),\n      name: this.name\n    });\n  }\n}\n\n","import { isNil } from 'lodash';\n\nexport class Completion {\n  constructor(props) {\n    const { minFailedInstances, minSucceededInstances } = props;\n    // Create for the first time props is undefined\n    this.minFailedInstances = (minFailedInstances === undefined) ? 1 : minFailedInstances;\n    this.minSucceededInstances = (minSucceededInstances === undefined) ? 1 : minSucceededInstances;\n  }\n\n  static fromProtocol(completionProtocol) {\n    if (isNil(completionProtocol)) {\n      return new Completion({});\n    }\n\n    return new Completion(completionProtocol);\n  }\n\n  convertToProtocolFormat() {\n    return {\n      minFailedInstances: this.minFailedInstances,\n      minSucceededInstances: this.minSucceededInstances\n    };\n  }\n}\n","import { isEmpty, isNil } from 'lodash';\nimport { removeEmptyProperties } from '../utils';\n\nexport class Deployment {\n  constructor(props) {\n    const { preCommands, postCommands } = props;\n    this.preCommands = preCommands || '';\n    this.postCommands = postCommands || '';\n  }\n\n  static fromProtocol(deploymentProtocol) {\n    const { preCommands, postCommands } = deploymentProtocol;\n    const updatedPreCommands = isNil(preCommands) ? '' : preCommands.join('\\n');\n    const updatedPostCommands = isNil(postCommands) ? '' : postCommands.join('\\n');\n    return new Deployment({ preCommands: updatedPreCommands, postCommands: updatedPostCommands });\n  }\n\n  convertToProtocolFormat() {\n    return removeEmptyProperties({\n      preCommands: isEmpty(this.preCommands) ? [] : this.preCommands.trim().split('\\n'),\n      postCommands: isEmpty(this.postCommands) ? [] : this.postCommands.trim().split('\\n')\n    });\n  }\n}\n","import { isNil } from 'lodash';\n\nconst skuUnit = {\n  gpu: 1,\n  cpu: 2,\n  memoryMB: 1024\n};\n\nexport function getDefaultContainerSize(gpu) {\n  if (isNil(gpu)) {\n    gpu = 1;\n  }\n  const factor = Math.max(gpu, 1);\n  return {\n    gpu,\n    cpu: factor * skuUnit.cpu,\n    memoryMB: factor * skuUnit.memoryMB,\n    storageGB: 5\n  };\n}\n\nexport function isDefaultContainerSize(size) {\n  const factor = Math.max(size.gpu, 1);\n  return size.cpu === skuUnit.cpu * factor && size.memoryMB === size.memoryMB * factor;\n}\n","import { DockerInfo } from './docker-info';\nimport { Completion } from './completion';\nimport { Deployment } from './deployment';\nimport { getDefaultContainerSize, isDefaultContainerSize } from './container-size';\nimport { get, isNil, isEmpty } from 'lodash';\nimport { removeEmptyProperties } from '../utils';\n// import {DEFAULT_DOCKER_URI} from '../utils/constants';\n\nexport class JobTaskRole {\n  constructor(props) {\n    const { name, instances, dockerInfo, ports, commands, completion, deployment, containerSize,\n      isContainerSizeEnabled, taskRetryCount, shmMB } = props;\n    this.name = name || '';\n    this.instances = instances || 1;\n    this.dockerInfo = dockerInfo || new DockerInfo({ uri: '' });\n    this.ports = ports || [];\n    this.commands = commands || '';\n    this.completion = completion || new Completion({});\n    this.deployment = deployment || new Deployment({});\n    this.containerSize = containerSize || getDefaultContainerSize();\n    this.isContainerSizeEnabled = isContainerSizeEnabled || false;\n    this.taskRetryCount = taskRetryCount || 0;\n    this.shmMB = shmMB || 64;\n  }\n\n  static fromProtocol(name, taskRoleProtocol, deployments, prerequisites, secrets) {\n    const instances = get(taskRoleProtocol, 'instances', 1);\n    const completion = get(taskRoleProtocol, 'completion', {});\n    const dockerImage = get(taskRoleProtocol, 'dockerImage');\n    const resourcePerInstance = get(taskRoleProtocol, 'resourcePerInstance', {});\n    const commands = get(taskRoleProtocol, 'commands', []);\n    const shmMB = get(taskRoleProtocol, 'shmMB', 0);\n\n    const taskDeployment = get(deployments[0], `taskRoles.${name}`, {});\n    const dockerInfo = prerequisites.find(prerequisite => prerequisite.name === dockerImage) || {};\n    const ports = isNil(resourcePerInstance.ports) ? [] :\n      Object.entries(resourcePerInstance.ports).map(([key, value]) => ({ key, value: value.toString() }));\n    const taskRetryCount = get(taskRoleProtocol, 'taskRetryCount', 0);\n\n    const jobTaskRole = new JobTaskRole({\n      name,\n      instances,\n      completion: Completion.fromProtocol(completion),\n      commands: isNil(commands) ? '' : commands.join('\\n'),\n      containerSize: resourcePerInstance,\n      deployment: Deployment.fromProtocol(taskDeployment),\n      dockerInfo: DockerInfo.fromProtocol(dockerInfo, secrets),\n      ports,\n      shmMB,\n      taskRetryCount\n    });\n\n    if (!isDefaultContainerSize(jobTaskRole.containerSize)) {\n      jobTaskRole.isContainerSizeEnabled = true;\n    }\n    return jobTaskRole;\n  }\n\n  getDockerPrerequisite() {\n    return this.dockerInfo.convertToProtocolFormat();\n  }\n\n  getDeployment() {\n    return this.deployment.convertToProtocolFormat();\n  }\n\n  convertToProtocolFormat() {\n    const taskRole = {};\n    const ports = this.ports.reduce((val, x) => {\n      if (typeof x.value === 'string') {\n        val[x.key] = parseInt(x.value);\n      } else {\n        val[x.key] = x.value;\n      }\n      return val;\n    }, {});\n    const resourcePerInstance = removeEmptyProperties({ ...this.containerSize, ports: ports });\n\n    taskRole[this.name] = removeEmptyProperties({\n      instances: this.instances,\n      shmMB: this.shmMB,\n      completion: this.completion,\n      dockerImage: this.dockerInfo.name,\n      resourcePerInstance: resourcePerInstance,\n      commands: isEmpty(this.commands) ? [] : this.commands.trim ? this.commands.trim().split('\\n').map(line=>(line.trim())) : this.commands,\n      taskRetryCount: this.taskRetryCount\n    });\n\n    return taskRole;\n  }\n}\n","import React from 'react';\n\nexport default React.createContext(null);\n","import React from 'react';\nimport { SearchBox as UISearchBox } from 'office-ui-fabric-react/lib/SearchBox';\n\nexport const SearchBox = ({ ...props }) => {\n  return (\n    <UISearchBox\n      styles={{\n        root: {\n          minWidth: 200,\n          width: 200,\n          height: 32,\n          borderRadius: '3px'\n        }\n      }}\n      {...props}\n    />\n  )\n}\n\nexport default SearchBox\n","import React from 'react';\nimport { TextField as UITextField } from 'office-ui-fabric-react/lib';\n\nexport const TextField = ({ ...props }) => {\n  return (\n    <UITextField\n      styles={{\n        fieldGroup: { borderRadius: '3px' }\n      }}\n      {...props}\n    />\n  )\n}\n\nexport default TextField\n","import React from 'react';\nimport { Checkbox as UICheckBox } from 'office-ui-fabric-react/lib/Checkbox';\n\nexport const Checkbox = ({ ...props }) => {\n  return (\n    <UICheckBox\n      styles={{\n        checkbox: { borderRadius: '3px' }\n      }}\n      {...props}\n    />\n  )\n}\n\nexport default Checkbox\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown as UIDropdown } from 'office-ui-fabric-react/lib';\n\nexport const Dropdown = ({ styles, ...props }) => {\n  return (\n    <UIDropdown\n      styles={{\n        root: {\n          minWidth: 150,\n          fontSize: 14\n        },\n        title: { borderRadius: '3px' },\n        ...styles\n      }}\n      {...props}\n    />\n  )\n}\n\nDropdown.propTypes = {\n  styles: PropTypes.object\n};\n\nexport default Dropdown\n","import React from 'react';\nimport { ChoiceGroup as UIChoiceGroup } from 'office-ui-fabric-react/lib';\n\nexport const ChoiceGroup = ({ ...props }) => {\n  return (\n    <UIChoiceGroup\n      {...props}\n    />\n  )\n}\n\nexport default ChoiceGroup\n","import React, { useContext } from 'react';\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { makeStyles, createMuiTheme } from '@material-ui/core/styles';\n// import { colors } from '@material-ui/core';\nimport palette from '../../theme/palette';\nimport GlobalContext from 'layouts/Main/GlobalContext';\nimport { ja, zhCN, zhTW, enUS } from 'date-fns/locale';\nimport PropTypes from 'prop-types';\n\nexport const BaseDateTimePicker = ({ title, isRequired, ...props }) => {\n  const { locale } = useContext(GlobalContext);\n\n  const mapLoacle = (locale) => {\n    switch (locale) {\n      case 'zh-CN':\n        return zhCN\n      case 'zh-TW':\n        return zhTW\n      case 'jp':\n        return ja\n      case 'en':\n      default:\n        return enUS\n    }\n  }\n\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n      '& > .MuiInputBase-root': {\n        border: '1px solid rgb(161, 159, 157)',\n        height: 32,\n        borderRadius: 3,\n        padding: 12,\n        cursor: 'pointer',\n        '& > input': {\n          cursor: 'pointer'\n        }\n      }\n    },\n    margin: {\n      margin: theme.spacing(5)\n    }\n  }));\n\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: palette.themePrimary\n        // contrastText: colors.green[500],\n        // dark: colors.red[800],\n        // light: colors.indigo[100]\n      }\n    }\n  });\n\n  const classes = useStyles();\n\n  return (\n    <div style={{ width: '100%' }}>\n      <div style={{ padding: '5px 0' }}>\n        {title}\n        { isRequired && <span style={{ color: 'red' }}> *</span> }\n      </div>\n      <MuiPickersUtilsProvider\n        locale={mapLoacle(locale)}\n        themes={theme}\n        utils={DateFnsUtils}\n      >\n        <KeyboardDateTimePicker\n          InputProps={{\n            disableUnderline: true\n          }}\n          ampm={false}\n          className={`${classes.root}`}\n          format=\"yyyy/MM/dd HH:mm\"\n          {...props}\n        />\n      </MuiPickersUtilsProvider>\n    </div>\n  );\n};\n\nBaseDateTimePicker.propTypes = {\n  title: PropTypes.string,\n  isRequired: PropTypes.bool\n};\n\nexport default BaseDateTimePicker;\n","import React, { useCallback }  from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './index.module.scss';\nimport {\n  DirectionalHint,\n  TooltipHost,\n  Icon\n} from 'office-ui-fabric-react';\nimport { SpinButton as BaseSpinButton } from 'office-ui-fabric-react';\nimport { debounce, isNil } from 'lodash';\n\nexport const SpinButton = ({ title, hint, fieldError, onChange, onIncrement, onDecrement, onValidate, min, max, errorMessage, style, ...props }) => {\n  const _onChange = useCallback((value, operateFunc, defaultReturnValue) => {\n    let newValue = defaultReturnValue;\n    if (!isNil(min)) {\n      newValue = Math.max(min, newValue);\n    }\n    if (!isNil(max)) {\n      newValue = Math.min(max, newValue);\n    }\n    if (operateFunc !== undefined) {\n      newValue = operateFunc(value);\n    }\n    if (onChange === undefined) {\n      return newValue;\n    }\n    return onChange(newValue);\n  }, [onChange]);\n\n  const _onIncrement = value => _onChange(value, onIncrement, +value + 1);\n  const _onDecrement = value => _onChange(value, onDecrement, +value - 1);\n  const _onValidate = value => _onChange(value, onValidate, value);\n\n  return (\n    <div\n      className={styles.container}\n      style={style}\n    >\n      <div className={styles.title}>\n        <label>{title}</label>\n        {\n          hint &&\n          <TooltipHost\n            calloutProps={{\n              isBeakVisible: false,\n              directionalHint: DirectionalHint.topAutoEdge,\n              gapSpace: 8\n            }}\n            content={hint}\n            tooltipProps={React.isValidElement(hint) ? {\n              onRenderContent: () => hint\n            } : {}}\n          >\n            <Icon\n              iconName=\"Info\"\n              styles={{ root: { verticalAlign: 'middle', cursor: 'pointer', margin: '0 5px' } }}\n            />\n          </TooltipHost>\n        }\n      </div>\n      <div>\n        <BaseSpinButton\n          {...props}\n          min={0}\n          onDecrement={debounce(_onDecrement, 10)}\n          onIncrement={debounce(_onIncrement, 10)}\n          onValidate={debounce(_onValidate, 10)}\n          step={1}\n          styles={{\n            root: { border: fieldError ? 'rgb(168,0,0) 1px solid' : '', borderRadius: 3 },\n            spinButtonWrapper: { borderRadius: 3, paddingRight: 10, border: fieldError ? 'none' : '1px solid #A19F9D' }\n          }}\n        />\n        {\n          errorMessage &&\n          <span style={{ fontSize: 12, color: 'rgb(168, 0, 0)' }}>\n            {errorMessage}\n          </span>\n        }\n      </div>\n    </div>\n  );\n};\n\nSpinButton.propTypes = {\n  title: PropTypes.string,\n  hint: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.node\n  ]),\n  min: PropTypes.number,\n  max: PropTypes.number,\n  fieldError: PropTypes.string,\n  onChange: PropTypes.func,\n  onIncrement: PropTypes.func,\n  onDecrement: PropTypes.func,\n  onValidate: PropTypes.func,\n  className: PropTypes.string,\n  errorMessage: PropTypes.string,\n  style: PropTypes.object // style\n};\n","import moment from 'moment';\n\nexport class JobResources {\n  constructor(props) {\n    const { modify, step1State, userInfo } = props;\n\n    this.name = step1State.name || '';\n    this.users = step1State.user !== undefined ? [step1State.user] : [userInfo.username],\n    this.startAt = moment(step1State.startAt).seconds(0).milliseconds(0).valueOf();\n    this.endAt = moment(step1State.endAt).seconds(0).milliseconds(0).valueOf();\n    this.cpu = step1State.cpu;\n    this.memory = step1State.memory;\n    this.storage = step1State.storage;\n    this.virtualGroup = modify ? null : step1State.virtualGroup;\n    this.gpu = step1State.gpu;\n    this.jobConfig = null;\n  }\n}","/**\n * Summary\n * Calculate available resources at selected time\n * \n * Description\n * 1.  reverse() find() \n * 2. \n * 3.  index \n * \n * @param { Number } selectedStartDate \n * @param { Number } selectedEndDate \n * @param { Object } data \n * @param { Object } totalData \n * \n * @return { Object } \n */\n\nexport const checkCanUseResource = (selectedStartDate, selectedEndDate, data, totalData) => {\n  const timeArea = [];\n\n  let reverseStartIndex = 0;\n  let reverseEndIndex = 0;\n  const reverseData = Object.entries(data).reverse();\n\n  const isFindReverseEndData = reverseData.find(([key], index) => {\n    reverseEndIndex = index\n    return selectedEndDate > Number(key)\n  })\n\n  if (!isFindReverseEndData) {\n    return totalData\n  }\n\n  reverseData.find(([key], index) => {\n    reverseStartIndex = index\n    return selectedStartDate >= Number(key)\n  })\n\n  for (let i = reverseEndIndex; i <= reverseStartIndex; i++) {\n    timeArea.push(reverseData[i])\n  }\n\n  const ans = timeArea.reduce((accumulator, [, data]) => {\n    const accumulatorGpu = { ...accumulator.gpu };\n    Object.entries(totalData.gpu).forEach(([gpuType, totalGpuNumber]) => {\n      if (!data.gpu[gpuType]) return\n      accumulatorGpu[gpuType] = Math.min(accumulatorGpu[gpuType],  totalGpuNumber - data.gpu[gpuType])\n    })\n    accumulator.cpu = Math.min((totalData.cpu - data.cpu), accumulator.cpu)\n    accumulator.memory = Math.min((totalData.memory - data.memory), accumulator.memory)\n    accumulator.storage = Math.min((totalData.storage - data.storage), accumulator.storage)\n    accumulator.gpu = accumulatorGpu\n    return accumulator\n  }, { ...totalData })\n\n  return ans;\n}","import React, { useState, useEffect, useContext } from 'react';\nimport { mergeStyles } from 'office-ui-fabric-react';\nimport { Dropdown, TextField, ChoiceGroup } from 'components/BaseInput';\nimport { DefaultButton, PrimaryButton } from 'components/BaseFluentButton';\nimport { BaseDateTimePicker } from 'components/BaseDateTimePicker';\nimport { SpinButton } from './Step1/Form/SpinButton';\n\nimport { JobResources } from '../model/JobResources';\nimport styles from './Step1.module.scss';\nimport { useTranslation } from 'react-i18next';\nimport { getJobScheduleTable, getUserLimitResource, createJobSchedule, updateJobSchedule } from 'utils/api';\nimport { checkCanUseResource } from '../../ManageSchedule/utils';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Context from '../Context';\nimport moment from 'moment';\nimport { isEmpty, isNull, isEqual } from 'lodash';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\n\nexport const Step1 = ({ dataId, setStep1State, step1State, selectedVg, selectedVgHasGpu, selectedVgUsers, setAlreadyUsedResource, createDate, isPrvScheduledJob, setIsPreScheduledJob, setActiveStep, resetDefault, defaultStep1 }) => {\n  const { t } = useTranslation();\n  const { userInfo } = useContext(Context);\n  const [selectedGpuType, setSelectedGpuType] = useState('');\n  const [selectedVgUsersKey, setSelectedVgUsersKey] = useState(null);\n  const [canUseResource, setCanUseResource] = useState({});\n  const [limitResource, setLimitResource] = useState({});\n  const [gpuTypeList, setGpuTypeList] = useState([]);\n  const [timePickerStartErrMsg, setTimePickerStartErrMsg] = useState('');\n  const [timePickerErrMsg, setTimePickerErrMsg] = useState('');\n\n  const [jobName, setJobName] = useState(`${userInfo.username}_${Date.now()}`);\n  const [user, setUser] = useState();\n  const [name, setName] = useState('');\n  const [retryCount, setRetryCount] = useState(0);\n  const [startAt, setStartAt] = useState(null);\n  const [endAt, setEndAt] = useState(null);\n  const [cpu, setCpu] = useState(0);\n  const [memory, setMemory] = useState(0);\n  const [storage, setStorage] = useState(0);\n  const [gpu, setGpu] = useState({});\n\n  const [openNextBtn, setOpenNextBtn] = useState(false);\n\n  const helperTextStyles = makeStyles(() => ({ root: { margin: 4, color: 'red' } }));\n\n  const helperTestClasses = helperTextStyles();\n\n  const ChoiceFieldStyle = {\n    flexContainer: {\n      display: 'flex'\n    },\n    root: {\n      selectors: {\n        '& .ms-ChoiceField': {\n          paddingRight: '20px',\n          marginTop: '0px'\n        },\n        '& .ms-ChoiceField-field': {\n          marginBottom: '0px',\n          fontWeight: '400'\n        }\n      }\n    }\n  }\n\n  const Rules = {\n    required: value => (value ? '' : t('fieldRequired')),\n    mustBeNumber: value => (isNaN(value) ? t('mustInputNumber') : '')\n  };\n\n  const getCanUseResource = (selectedStartDate, selectedEndDate) => {\n    getJobScheduleTable(selectedVg, dataId)\n      .then((res) => (\n        [\n          checkCanUseResource(\n            moment(selectedStartDate).valueOf(),\n            moment(selectedEndDate).valueOf(),\n            res.data,\n            res.virtualGroup\n          ),\n          res.virtualGroup\n        ]\n      ))\n      .then(([res, totalData]) => {\n        setCanUseResource(res)\n        // Calculate used resources\n        const otherData = [res]\n        const result = otherData.reduce((acc, cur) => {\n          const accumulatorGpu = { ...acc.gpu };\n          Object.entries(acc.gpu).forEach(([gpuType, totalGpuNumber]) => {\n            if (!cur.gpu[gpuType]) return\n            accumulatorGpu[gpuType] = totalGpuNumber - cur.gpu[gpuType]\n          })\n          acc.cpu = acc.cpu - cur.cpu\n          acc.memory = acc.memory - cur.memory\n          acc.storage = acc.storage - cur.storage\n          acc.gpu = accumulatorGpu\n          return acc\n        }, { ...totalData })\n        setAlreadyUsedResource(result)\n      })\n      .catch(err => {\n        toast.error('Error:' + err.data ? err.data.message : err.message)\n      })\n  }\n\n  const addDropDownOptionKeys = (optionItems, defaultSelect) => {\n    if (defaultSelect !== undefined) {\n      return [defaultSelect, ...optionItems].map((item, index) => ({\n        key: index,\n        text: item.name,\n        ...item\n      }));\n    } else {\n      return optionItems.map((item, index) => ({\n        key: index,\n        text: item.name,\n        ...item\n      }));\n    }\n  };\n\n  const onSubmit = async (data) => {\n    try {\n      dataId ? await updateJobSchedule(dataId, data, true) : await createJobSchedule(data)\n      toast.success(t('success'));\n      resetDefault()\n    } catch (err) {\n      if (err.data && err.data.message === 'startAt must >= now') {\n        toast.error(`${t('time')}${t('enSpace')}${t('error')}`)\n      } else {\n        toast.error(err.data ? err.data.message : err.message)\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (!isEqual(step1State, defaultStep1)) {\n      const { user, cpu, memory, storage, gpu, gpuType, name, startAt, endAt, jobName, retryCount } = step1State;\n      setCpu(cpu)\n      setMemory(memory)\n      setStorage(storage)\n      setGpu(gpu)\n      setSelectedGpuType(gpuType)\n      setName(name)\n      setStartAt(startAt)\n      setEndAt(endAt)\n      setJobName(jobName)\n      setRetryCount(retryCount)\n      if (user !== undefined) {\n        setUser(user)\n      }\n    }\n  }, [step1State])\n\n  useEffect(() => {\n    if (canUseResource.gpu) {\n      const gpuList = Object.keys(canUseResource.gpu).map(item => (\n        { key: item, text: item }\n      ))\n      setGpuTypeList(gpuList)\n    }\n  }, [canUseResource])\n\n  useEffect(() => {\n    if (!isNull(createDate)) {\n      setStartAt(createDate)\n    }\n  }, [createDate])\n\n  useEffect(() => {\n    if (!isNull(startAt) && !isNull(endAt)) {\n      getCanUseResource(startAt, endAt)\n    }\n  }, [startAt, endAt])\n\n  // use to ManageSchedule\n  useEffect(() => {\n    if (user === undefined) {\n      getUserLimitResource(userInfo.username)\n        .then(res => setLimitResource(res.limitResource))\n        .catch(err => (toast.error('Error:' + err.data ? err.data.message : err.message)))\n      return\n    }\n    if (user !== undefined) {\n      getUserLimitResource(user)\n        .then(res => setLimitResource(res.limitResource))\n        .catch(err => (toast.error('Error:' + err.data ? err.data.message : err.message)))\n      return\n    }\n  }, [user])\n\n  // use to check step1\n  useEffect(() => {\n    if (name === '') {\n      setOpenNextBtn(false)\n    } else if (moment(endAt).valueOf() - moment(startAt).valueOf() <= 0 || isNaN(moment(endAt).valueOf() - moment(startAt).valueOf())) {\n      setOpenNextBtn(false)\n    } else if (!isEmpty(selectedVgUsers) && selectedVgUsersKey === null) {\n      setOpenNextBtn(false)\n    } else {\n      setOpenNextBtn(true)\n    }\n  }, [name, startAt, endAt, selectedVgUsersKey])\n\n  return (\n    <div className={styles.container}>\n\n      {\n        !isEmpty(selectedVgUsers) &&\n        <div className={styles.row}>\n          <div className={styles.row__average}>\n            <div className={styles.row__average__block}>\n              <Dropdown\n                ariaLabel={`${t('select')}${t('enSpace')}${t('User')}`}\n                label={`${t('select')}${t('enSpace')}${t('User')}`}\n                onChange={(event, item) => {\n                  setSelectedVgUsersKey(item.key)\n                  setJobName(`${item.text}_${Date.now()}`)\n                  setUser(item.text)\n                }}\n                options={selectedVgUsers}\n                placeholder={`${t('select')}${t('enSpace')}${t('User')}`}\n                required\n                selectedKey={selectedVgUsersKey}\n              />\n            </div>\n          </div>\n        </div>\n      }\n      {\n        (\n          limitResource.enabled === false ||\n          (limitResource.cpu === null && limitResource.memory === null && limitResource.storage === null && limitResource.gpu === null)\n        ) ?\n          <></>\n          :\n          <>\n            <div className={`${styles.row} ${styles.marginTop10} ${styles.paddingBottom10}`}>{t('allocatable')}{t('enSpace')}{t('resource')}</div>\n            <div className={`${styles.row} ${styles.paddingBottom10} ${styles.row__borderBottomLine}`}>\n              <div className={styles.row__average}>\n                <div className={styles.row__average__block}>\n                  <div className={`${styles.row}`}>\n                    <div className={styles.row__average__block50}>\n                      <div>{t('CPU')}</div>\n                      <div>{limitResource.cpu}</div>\n                    </div>\n                    <div className={styles.row__average__block50}>\n                      <div>{t('memory')} (MB)</div>\n                      <div>{limitResource.memory}</div>\n                    </div>\n                  </div>\n                </div>\n                <div className={styles.row__average__block}>\n                  <div className={`${styles.row}`}>\n                    <div className={styles.row__average__block50}>\n                      <div>{t('disk')} (GB)</div>\n                      <div>{limitResource.storage}</div>\n                    </div>\n                    <div className={styles.row__average__block50}>\n                      <div>{t('GPU')}</div>\n                      <div>\n                        {\n                          limitResource.gpu &&\n                          Object.entries(limitResource.gpu).map(([key, value]) => {\n                            return (<div key={key} >{value} ( {key} )</div>)\n                          })\n                        }\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className={styles.row__average__block} />\n              </div>\n            </div>\n          </>\n      }\n\n      <div className={`${styles.row} ${styles.marginTop10}`}>\n        <div className={styles.row__average}>\n          <div className={styles.row__average__block}>\n            <TextField\n              className={mergeStyles({ width: '100%' })}\n              label={`${t('schedule')}${t('enSpace')}${t('name')}`}\n              name={'name'}\n              onChange={(e, name) => setName(name)}\n              onGetErrorMessage={username => Rules.required(username)}\n              required\n              type=\"text\"\n              validateOnLoad={false}\n              value={name}\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className={`${styles.row} ${styles.marginTop10}`}>\n        <ChoiceGroup\n          onChange={(e, item) => setIsPreScheduledJob(item.key)}\n          options={[\n            { key: true, text: `${t('reserve')}${t('enSpace')}${t('job')}` },\n            { key: false, text: `${t('reserve')}${t('enSpace')}${t('resource')}` }\n          ]}\n          selectedKey={isPrvScheduledJob}\n          styles={ChoiceFieldStyle}\n        />\n      </div>\n\n      {\n        isPrvScheduledJob &&\n        <div className={styles.row}>\n          <div className={styles.row__average}>\n            <div className={`${styles.row__average__block} ${styles.row}`}>\n              <TextField\n                className={mergeStyles({ width: '100%' })}\n                label={`${t('job')}${t('enSpace')}${t('name')}`}\n                name={'jobname'}\n                onChange={(e, jobName) => setJobName(jobName)}\n                required\n                type=\"text\"\n                value={jobName}\n              />\n            </div>\n            <div className={`${styles.row__average__block} ${styles.row}`}>\n              <SpinButton\n                min={0}\n                onChange={retryCount => setRetryCount(retryCount)}\n                title={`${t('retryCount')}(${t('optional')})`}\n                value={retryCount}\n              />\n            </div>\n            <div className={`${styles.row__average__block} ${styles.row}`} />\n          </div>\n        </div>\n      }\n\n      <div className={`${styles.row}`}>\n        <div className={styles.row__average}>\n          <div className={styles.row__average__block}>\n            <BaseDateTimePicker\n              FormHelperTextProps={{ classes: helperTestClasses }}\n              helperText={timePickerStartErrMsg}\n              invalidDateMessage={t('dateInValid')}\n              isRequired\n              minDate={step1State.startAt}\n              onChange={(item) => setStartAt(item)}\n              onError={(err) => {\n                if (err) {\n                  setTimePickerStartErrMsg(err)\n                } else {\n                  setTimePickerStartErrMsg('')\n                }\n              }}\n              title={t('selectastartdate')}\n              value={startAt}\n            />\n          </div>\n          <div className={styles.row__average__block}>\n            <BaseDateTimePicker\n              FormHelperTextProps={{ classes: helperTestClasses }}\n              helperText={timePickerErrMsg}\n              invalidDateMessage={t('dateInValid')}\n              isRequired\n              minDate={startAt}\n              minDateMessage={t('DateShouldNotOverStartDay')}\n              onChange={(item) => (setEndAt(item))}\n              onError={(err) => {\n                if (err) {\n                  setTimePickerErrMsg(err)\n                } else {\n                  setTimePickerErrMsg(moment(endAt).valueOf() - moment(startAt).valueOf() <= 0 ? t('DateShouldNotOverStartDay') : '')\n                }\n              }}\n              title={t('selectaenddate')}\n              value={endAt}\n            />\n          </div>\n          <div className={styles.row__average__block} />\n        </div>\n      </div>\n\n      {\n        !isPrvScheduledJob &&\n        <div className={`${styles.row} ${!selectedVgHasGpu && styles.paddingBottom72}`}>\n          <div className={styles.row__average}>\n            <div className={`${styles.row__average__block} ${styles.row}`}>\n              <SpinButton\n                errorMessage={(cpu > canUseResource.cpu) ? t('mustInputAvailableCpu') : ''}\n                max={\n                  limitResource.enabled === false\n                    ? canUseResource.cpu\n                    : limitResource.cpu === null ? canUseResource.cpu : limitResource.cpu\n                }\n                min={0}\n                onChange={cpu => setCpu(cpu)}\n                style={{ width: '60%' }}\n                title={t('CPU')}\n                value={cpu}\n              />\n              <div className={styles.row__right}>\n                <div className={styles.row__right__block}>\n                  { canUseResource.cpu ?  '/ ' + canUseResource.cpu : '/ ' + '-' }\n                </div>\n              </div>\n            </div>\n            <div className={`${styles.row__average__block} ${styles.row}`}>\n              <SpinButton\n                errorMessage={(memory > canUseResource.memory) ? t('mustInputAvailableMemory') : ''}\n                max={\n                  limitResource.enabled === false\n                    ? canUseResource.memory\n                    : limitResource.memory === null ? canUseResource.memory : limitResource.memory\n                }\n                min={512}\n                onChange={memory => setMemory(memory)}\n                style={{ width: '60%' }}\n                title={`${t('memorySize')} (MB)`}\n                value={memory}\n              />\n              <div className={styles.row__right}>\n                <div className={styles.row__right__block}>\n                  { canUseResource.memory ?  '/ ' + canUseResource.memory : '/ ' + '-' }\n                </div>\n              </div>\n            </div>\n            <div className={`${styles.row__average__block} ${styles.row}`}>\n              <SpinButton\n                errorMessage={(storage > canUseResource.storage) ? t('mustInputAvailableStorage') : ''}\n                max={\n                  limitResource.enabled === false\n                    ? canUseResource.storage\n                    : limitResource.storage === null ? canUseResource.storage : limitResource.storage\n                }\n                min={0}\n                onChange={storage => setStorage(storage)}\n                style={{ width: '60%' }}\n                title={`${t('disk')}${t('enSpace')}${t('size')} (GB)`}\n                value={storage}\n              />\n              <div className={styles.row__right}>\n                <div className={styles.row__right__block}>\n                  {canUseResource.storage ? '/ ' + canUseResource.storage + ' GB' : '/ ' + '-' + ' GB'}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      }\n\n      {\n        selectedVgHasGpu &&\n        <div className={`${styles.row} ${styles.paddingBottom72}`}>\n          <div className={styles.row__average}>\n            <div className={styles.row__average__block}>\n              <Dropdown\n                ariaLabel={`${t('Select')}${t('enSpace')}${t('GPU')}`}\n                label={`${t('Select')}${t('enSpace')}${t('GPU')}`}\n                onChange={(event, item) => setSelectedGpuType(item.key !== 'select' ? item.text : '')}\n                options={addDropDownOptionKeys(gpuTypeList, { key: 'select', text: `${t('select')}${t('enSpace')}${t('type')}` })}\n                placeholder={`${t('Select')}${t('enSpace')}${t('GPU')}`}\n                selectedKey={selectedGpuType}\n              />\n            </div>\n            {\n              !isPrvScheduledJob &&\n              <div className={`${styles.row__average__block} ${styles.row}`}>\n                <TextField\n                  className={mergeStyles({ width: '60%' })}\n                  label={`${t('GPU')}${t('enSpace')}${t('amount')}`}\n                  name={'gpuAmount'}\n                  onChange={(e, gpuAmount) => {\n                    if (selectedGpuType !== '') {\n                      setGpu({ [selectedGpuType]: gpuAmount })\n                    }\n                  }}\n                  required\n                  type=\"text\"\n                  value={gpu[selectedGpuType] || 0}\n                />\n                <div className={styles.row__right}>\n                  <div className={styles.row__right__block}>\n                    {(selectedGpuType !== '' && !isEmpty(canUseResource)) ? `/ ${canUseResource.gpu[selectedGpuType]}` : '/ -'}\n                  </div>\n                </div>\n              </div>\n            }\n            <div className={styles.row__average__block} />\n          </div>\n        </div>\n      }\n\n      <div className={`${styles.width100} ${styles.footer}`}>\n        <DefaultButton\n          onClick={() => resetDefault()}\n          text={t('cancel')}\n        />\n        <PrimaryButton\n          disabled={!openNextBtn}\n          onClick={() => {\n            const state = {\n              user: user === undefined ? userInfo.username : user,\n              name: name,\n              virtualGroup: selectedVg,\n              cpu: cpu,\n              gpu: selectedGpuType !== '' ? gpu : {},\n              memory: memory,\n              storage: storage,\n              startAt: startAt,\n              endAt: endAt,\n              jobName: jobName,\n              retryCount: retryCount,\n              gpuType: selectedGpuType\n            }\n            if (!isPrvScheduledJob) {\n              onSubmit(new JobResources({ modify: dataId ? true : false, step1State: state, userInfo }))\n            } else {\n              setStep1State(prev => ({ ...prev, ...state }))\n              setActiveStep((prevActiveStep) => dataId ? prevActiveStep + 2 : prevActiveStep + 1 )\n            }\n          }}\n          text={!isPrvScheduledJob ? t('submit') : t('Next')}\n        />\n      </div>\n    </div>\n  )\n}\n\nStep1.propTypes = {\n  dataId: PropTypes.number,\n  setStep1State: PropTypes.func,\n  step1State: PropTypes.object,\n  selectedVg: PropTypes.string,\n  selectedVgHasGpu: PropTypes.bool,\n  selectedVgUsers: PropTypes.array,\n  setAlreadyUsedResource: PropTypes.func,\n  createDate: PropTypes.instanceOf(Date),\n  isPrvScheduledJob: PropTypes.bool,\n  setIsPreScheduledJob: PropTypes.func,\n  setActiveStep: PropTypes.func,\n  resetDefault: PropTypes.func,\n  defaultStep1: PropTypes.object\n};\n","import { isNil } from 'lodash';\n\nexport class Completion {\n  constructor(props) {\n    const { minFailedInstances, minSucceededInstances } = props;\n    // Create for the first time props is undefined\n    this.minFailedInstances = (minFailedInstances === undefined) ? 1 : minFailedInstances;\n    this.minSucceededInstances = (minSucceededInstances === undefined) ? 1 : minSucceededInstances;\n  }\n\n  static fromProtocol(completionProtocol) {\n    if (isNil(completionProtocol)) {\n      return new Completion({});\n    }\n\n    return new Completion(completionProtocol);\n  }\n\n  convertToProtocolFormat() {\n    return {\n      minFailedInstances: this.minFailedInstances,\n      minSucceededInstances: this.minSucceededInstances\n    };\n  }\n}\n","/* eslint-disable react/no-multi-comp */\nimport React, { useState, useEffect } from 'react';\nimport { BaseModal } from 'components/BaseModal';\nimport { mergeStyles, PivotItem, Stack } from 'office-ui-fabric-react';\nimport BaseTab from 'components/BaseTab';\nimport { DefaultButton } from 'components/BaseButton';\nimport PropTypes from 'prop-types';\nimport { isEmpty } from 'lodash';\nimport { useTranslation } from 'react-i18next';\nimport styles from './ViewModal.module.scss';\n\nfunction ViewTemplateModal({ isOpen, onClose, viewTemplate }) {\n  const { t } = useTranslation();\n  const [selectedKey, setSelectedKey] = useState('');\n  const [taskRoles, setTaskRoles] = useState([]);\n  const [selectedTaskRole, setSelectedTaskRole] = useState();\n  const [nfsList, setnfsList] = useState([]);\n  const [glusterfsList, setglusterfsList] = useState([]);\n\n  const handleLinkClick = item => {\n    setSelectedKey(item.props.itemKey);\n  };\n\n  const getPortList = (portList) => {\n    if (portList !== undefined) {\n      return (\n        <div className={`${styles.wrapper__block} ${styles.marginTop10} ${styles.paddingBottom10} ${styles.wrapper__borderBottom}`}>\n          <div className={styles.wrapper__block__title}>\n            <div className={styles.block__title__20}>{t('portName')}</div>\n            <div className={styles.block__title__20}>{t('portNumber')}</div>\n          </div>\n          {\n            portList.map(item => (\n              <div className={styles.wrapper__block__item}>\n                <div className={styles.block__item__20}>{item.label}</div>\n                <div className={styles.block__item__20}>{item.beginAt}</div>\n              </div>\n            ))\n          }\n        </div>\n      )\n    }\n  }\n\n  const getNFSList = (nfsList) => {\n    if (!isEmpty(nfsList)) {\n      return (\n        <div className={`${styles.wrapper__block} ${styles.block__borderBottom} ${styles.wrapper__borderBottom} ${styles.marginTop10} ${styles.paddingBottom10}`}>\n          <div className={styles.wrapper__block__title}>\n            <div className={styles.block__title__25}>{t('NFS')}</div>\n            <div className={styles.block__title__25}>{t('mountPoint')}</div>\n          </div>\n          {\n            nfsList.map(item => (\n              <div className={styles.wrapper__block__item}>\n                <div className={styles.block__item__25}>{item.name}</div>\n                <div className={styles.block__item__25}>{item.mountPoint}</div>\n              </div>\n            ))\n          }\n        </div>\n      )\n    }\n  }\n\n  const getGlusterfsList = (glusterfsList) => {\n    if (!isEmpty(glusterfsList)) {\n      return (\n        <div className={`${styles.wrapper__block} ${styles.block__borderBottom} ${styles.wrapper__borderBottom} ${styles.marginTop10} ${styles.paddingBottom10}`}>\n          <div className={styles.wrapper__block__title}>\n            <div className={styles.block__title__25}>{t('glusterfs')}</div>\n            <div className={styles.block__title__25}>{t('volumeGlusterFS')}</div>\n          </div>\n          {\n            glusterfsList.map(item => (\n              <div className={styles.wrapper__block__item}>\n                <div className={styles.block__item__25}>{item.name}</div>\n                <div className={styles.block__item__25}>{item.mountPoint}</div>\n              </div>\n            ))\n          }\n        </div>\n      )\n    }\n  }\n\n  useEffect(() => {\n    if (viewTemplate.jobConfig !== undefined) {\n      setTaskRoles(viewTemplate.jobConfig.taskRoles)\n      setnfsList(viewTemplate.jobConfig.extras.nfsList)\n      setglusterfsList(viewTemplate.jobConfig.extras.glusterfsList)\n      setSelectedKey(viewTemplate.jobConfig.taskRoles[0].name)\n    }\n  }, [viewTemplate])\n\n  useEffect(() => {\n    setSelectedTaskRole(taskRoles.find(item => item.name === selectedKey))\n  }, [selectedKey])\n\n  return (\n    <BaseModal\n      isOpen={isOpen}\n      styles={{\n        main: {\n          overflowY: ''\n        },\n        scrollableContent: {\n          overflowY: ''\n        }\n      }}\n      title={viewTemplate.description ? `${t('view')}${t('enSpace')}${t('template')}` : `${t('view')}${t('enSpace')}${t('job')}`}\n    >\n      <div className={styles.container}>\n        {\n          viewTemplate.description &&\n          <div className={styles.top}>\n            <div className={`${styles.top__block} ${styles.top__borderBottom} ${styles.paddingBottom10}`}>\n              <div className={styles.top__block__item__title}>\n                <div className={styles.top__block__item__25}>{t('Creator')}</div>\n                <div className={styles.top__block__item__25}>{t('description')}</div>\n              </div>\n              <div className={styles.top__block__item}>\n                <div className={styles.top__block__item__25}>{viewTemplate.owner}</div>\n                <div className={styles.top__block__item__25}>{viewTemplate.description}</div>\n              </div>\n            </div>\n          </div>\n        }\n\n        <div\n          className={styles.wrapper}\n          style={viewTemplate.description === null ? { position: 'absolute', top: '0' } : {}}\n        >\n\n          <div className={`${styles.wrapper__block} ${styles.block__borderBottom} ${styles.wrapper__borderBottom} ${styles.marginTop10} ${styles.paddingBottom10}`}>\n            <div className={styles.wrapper__block__title}>\n              <div className={styles.block__title__25}>{t('virtualCluster')}</div>\n              <div className={styles.block__title__25}>{t('GPU')}</div>\n              <div className={styles.block__title__25}>{t('retryCount')}</div>\n            </div>\n            <div className={styles.wrapper__block__item}>\n              <div className={styles.block__item__25}>{viewTemplate.jobConfig !== undefined ? viewTemplate.jobConfig.extras.virtualGroup : '-'}</div>\n              <div className={styles.block__item__25}>{viewTemplate.jobConfig !== undefined ? viewTemplate.jobConfig.gpuType : '-'}</div>\n              <div className={styles.block__item__25}>{viewTemplate.jobConfig !== undefined ? viewTemplate.jobConfig.retryCount : '-'}</div>\n            </div>\n          </div>\n\n          {\n            selectedTaskRole !== undefined\n            && getNFSList(nfsList)\n          }\n\n          {\n            selectedTaskRole !== undefined\n            && getGlusterfsList(glusterfsList)\n          }\n\n          <div className={`${styles.wrapper__block} ${styles.block__borderBottom} ${styles.wrapper__borderBottom} ${styles.marginTop10} ${styles.paddingBottom10}`}>\n            <div className={styles.wrapper__block__title}>\n              <div className={styles.block__title__25}>{t('keyword')}</div>\n              <div className={styles.block__title__25}>{t('Value')}</div>\n            </div>\n            <div className={styles.wrapper__block__item}>\n              <div className={styles.block__item__25}>\n                {\n                  selectedTaskRole !== undefined && viewTemplate.jobConfig !== undefined\n                    ? '-'\n                    : Object.keys(viewTemplate.jobConfig.jobEnvs)[0]\n                }\n              </div>\n              <div className={styles.block__item__25}>\n                {\n                  selectedTaskRole !== undefined && viewTemplate.jobConfig !== undefined\n                    ? '-'\n                    : Object.values(viewTemplate.jobConfig.jobEnvs)[0]\n                }\n              </div>\n            </div>\n          </div>\n\n          <BaseTab\n            onLinkClick={handleLinkClick}\n            withBorder={false}\n          >\n            {\n              taskRoles.map(item => (\n                <PivotItem\n                  headerText={item.name}\n                  itemKey={item.name}\n                  key={item.name}\n                />\n              ))\n            }\n          </BaseTab>\n\n          <div className={`${styles.wrapper__block} ${styles.marginTop10} ${styles.paddingBottom10} ${styles.wrapper__borderBottom}`}>\n            <div className={styles.wrapper__block__title}>\n              <div className={styles.block__title__25}>{t('command')}</div>\n            </div>\n            <div className={styles.wrapper__block__command}>\n              {\n                selectedTaskRole !== undefined && selectedTaskRole.command.split('\\n').map(element => (\n                  <div>{element}</div>\n                ))\n              }\n            </div>\n          </div>\n\n          <div className={`${styles.wrapper__block} ${styles.marginTop10} ${styles.paddingBottom10} ${styles.wrapper__borderBottom}`}>\n            <div className={styles.wrapper__block__title}>\n              <div className={styles.block__title__20}>{t('taskInstance')}</div>\n              <div className={styles.block__title__50}>{t('dockerMirrors')}</div>\n            </div>\n            <div className={styles.wrapper__block__item}>\n              <div className={styles.block__item__20}>{selectedTaskRole !== undefined && selectedTaskRole.taskNumber}</div>\n              {\n                selectedTaskRole !== undefined\n                  && selectedTaskRole.dockerImage\n                  && selectedTaskRole.dockerImage.uri\n              }\n            </div>\n          </div>\n\n          <div className={`${styles.wrapper__block} ${styles.marginTop10} ${styles.paddingBottom10} ${styles.wrapper__borderBottom}`}>\n            <div className={styles.wrapper__block__title}>\n              <div className={styles.block__title__20}>{t('CPU')}</div>\n              <div className={styles.block__title__20}>{t('memory')} (MB)</div>\n              <div className={styles.block__title__20}>{t('sharedMemoryMB')}</div>\n              <div className={styles.block__title__20}>{t('disk')}</div>\n              <div className={styles.block__title__20}>{t('GPU')}</div>\n            </div>\n            <div className={styles.wrapper__block__item}>\n              <div className={styles.block__item__20}>{selectedTaskRole !== undefined && selectedTaskRole.cpuNumber}</div>\n              <div className={styles.block__item__20}>{selectedTaskRole !== undefined && selectedTaskRole.memoryMB}</div>\n              <div className={styles.block__item__20}>{selectedTaskRole !== undefined && selectedTaskRole.shmMB}</div>\n              <div className={styles.block__item__20}>{selectedTaskRole !== undefined && selectedTaskRole.storageGB}</div>\n              <div className={styles.block__item__20}>{selectedTaskRole !== undefined && selectedTaskRole.gpuNumber}</div>\n            </div>\n          </div>\n\n          {\n            selectedTaskRole !== undefined\n            && selectedTaskRole.portList !== undefined\n            && getPortList(selectedTaskRole.portList)\n          }\n\n          <div className={`${styles.wrapper__block} ${styles.marginTop10} ${styles.paddingBottom10} ${styles.wrapper__borderBottom}`}>\n            <div className={styles.wrapper__block__title}>\n              <div className={styles.block__title__50}>{t('conditionsOfCompletion')}: {t('minimumCountOfFailedInstances')}</div>\n              <div className={styles.block__title__50}>{t('conditionsOfCompletion')}: {t('minimumCountOfSuccessfulInstances')}</div>\n            </div>\n            <div className={styles.wrapper__block__item}>\n              <div className={styles.block__item__50}>{selectedTaskRole !== undefined && selectedTaskRole.minFailedTaskCount}</div>\n              <div className={styles.block__item__50}>{selectedTaskRole !== undefined && selectedTaskRole.minSucceededTaskCount}</div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n\n      <Stack\n        horizontal\n        horizontalAlign=\"flex-end\"\n      >\n        <DefaultButton\n          className={mergeStyles({ marginRight: 10 })}\n          onClick={() => {\n            onClose()\n            setSelectedKey('')\n          }}\n          text={t('close')}\n        />\n      </Stack>\n    </BaseModal>\n  );\n}\n\nViewTemplateModal.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  viewTemplate: PropTypes.object\n};\n\nexport default ViewTemplateModal;\n","class Filter {\n  constructor(\n    keyword = '',\n    owner = new Set(),\n    username = ''\n  ) {\n    this.keyword = keyword;\n    this.owner = owner;\n    this.username = username;\n  }\n\n  apply(list) {\n    const { keyword, owner } = this;\n\n    const filters = [];\n\n    if (keyword !== '') {\n      // ''\n      filters.push(({ name, description }) => (name.includes(keyword) || description.includes(keyword)));\n    }\n\n    if (owner.size > 0) {\n      filters.push((item) => owner.has(item.owner))\n    }\n\n    if (filters.length === 0) return list;\n\n    return list.filter(item =>\n      filters.every(filter => filter(item))\n    );\n  }\n}\n\nexport default Filter;\n","import React, { useState, useEffect, useContext, useMemo } from 'react';\nimport { ChoiceGroup, SearchBox, Dropdown, Checkbox } from 'components/BaseInput';\nimport { IconButton } from 'components/BaseButton';\nimport { mergeStyles, DropdownMenuItemType } from 'office-ui-fabric-react';\nimport ViewModal from './Step2/ViewModal/ViewModal';\nimport Filter from './Step2/Filter';\nimport { useTranslation } from 'react-i18next';\nimport { isEmpty } from 'lodash';\nimport { toast } from 'react-toastify';\nimport { getJobTemplate, getCanReadJobTemplate } from 'utils/api';\nimport Context from '../Context';\nimport styles from './Step2Table.module.scss';\nimport PropTypes from 'prop-types';\n\nexport const Step2Table = ({ setStep2State, step2State }) => {\n  const { t } = useTranslation();\n  const { userInfo, activeStep } = useContext(Context);\n  const [templateList, setTemplateList] = useState([]);\n  const [selectedTemplateKey, setSelectedTemplateKey] = useState(null);\n  const [isViewModalShow, setIsViewModalShow] = useState(false);\n  const [viewTemplate, setViewTemplate] = useState({});\n  const [keyword, setKeyword] = useState('');\n  const [filter, setFilter] = useState(new Filter());\n  const [selectedOwner, setSelectedOwner] = useState(filter.owner);\n\n  const { users } = useMemo(() => {\n    const users = Object.create(null);\n    if (templateList) {\n      templateList.forEach(function(job) {\n        users[job.owner] = true;\n      });\n    }\n    return { users }\n  }, [templateList])\n\n  const addDropDownOptionKeys = optionItems => {\n    return optionItems.map((item) => ({\n      key: item.key,\n      text: item.name,\n      ...item\n    }));\n  };\n\n  const filterOption = () => {\n    const userList = [];\n    if (templateList !== undefined) {\n      userList.push({\n        key: 'user-' + userInfo.username,\n        text: `@${t('self')}`,\n        type: 'user'\n      });\n    }\n    userList.push(...Object.keys(users)\n      .filter(user => {\n        return user !== userInfo.username;\n      }).map(user => ({\n        key: 'user-' + user,\n        text: user,\n        type: 'user'\n      })));\n\n    return addDropDownOptionKeys([\n      { key: 'creator', name: t('Creator'), type: '-', itemType: DropdownMenuItemType.Header },\n      ...userList,\n      { key: 'divider_2', name: 'divider_2', text: '-', itemType: DropdownMenuItemType.Divider },\n      { key: 'clear', name: t('clearOption'), type: 'clear', itemType: DropdownMenuItemType.Header }\n    ])\n  }\n\n  const ChoiceFieldStyle = {\n    root: {\n      selectors: {\n        '& .ms-ChoiceField-field': {\n          fontWeight: '400'\n        }\n      }\n    }\n  }\n\n  const onView = templateInfo => {\n    setViewTemplate(templateInfo);\n    setIsViewModalShow(true)\n  }\n\n  useEffect(() => {\n    if (activeStep === 1) {\n      const hasAdminPrivileges = userInfo.admin === 'true' ? true : false;\n      const getTemList = hasAdminPrivileges ? getJobTemplate() : getCanReadJobTemplate(userInfo.username);\n      getTemList\n        .then((template) => setTemplateList(template))\n        .catch(err => toast.error(err.message ? err.data.message : err.message))\n    }\n  }, [activeStep])\n\n  useEffect(() => {\n    if (!isEmpty(step2State.templateInfo)) {\n      setSelectedTemplateKey(step2State.templateInfo.id)\n    }\n  }, [step2State])\n\n  useEffect(() => {\n    // const { keyword } = filter;\n    // const { username } = userInfo;\n    setFilter(new Filter(keyword, selectedOwner));\n  }, [keyword, selectedOwner])\n\n  return (\n    <>\n      <div className={styles.searchBlock}>\n        <div>{t('select')}{t('enSpace')}{t('template')}</div>\n        <div className={styles.searchBlockRight}>\n          <SearchBox\n            className={mergeStyles({ marginRight: 10 })}\n            iconProps={{ iconName: 'Search' }}\n            onChange={text => setKeyword(text)}\n            placeholder={`${t('search')}`}\n          />\n          <Dropdown\n            multiSelect\n            onChange={(event, item) => {\n              if (item.type === 'user') {\n                const owners = new Set(selectedOwner);\n                if (item.selected)\n                  owners.add(item.key.split('user-')[1]);\n                else\n                  owners.delete(item.key.split('user-')[1]);\n                setSelectedOwner(owners)\n              }\n            }}\n            options={filterOption()}\n            placeholder={t('filter')}\n          />\n        </div>\n      </div>\n      <div className={`${styles.container} ${styles.marginTop10}`}>\n        {\n          !isEmpty(templateList) &&\n          filter.apply(templateList).map((templateInfo) => {\n            const { id, name, owner, description } = templateInfo\n            return (\n              <div\n                className={styles.row}\n                key={id}\n              >\n                <div className={`${styles.template} ${styles.marginLeft10}`}>\n                  <div>\n                    <ChoiceGroup\n                      onChange={(e, item) => {\n                        setSelectedTemplateKey(item.key)\n                        setStep2State((prev) => ({ ...prev, templateInfo, isModify: userInfo.username === owner ? false : true }))\n                      }}\n                      options={[{ key: id, text: name }]}\n                      selectedKey={!isEmpty(step2State.templateInfo) && step2State.templateInfo.id}\n                      styles={ChoiceFieldStyle}\n                    />\n                  </div>\n                  <div className={`${styles.marginLeft25} ${styles.line}`}>{t('owner')}: {owner}</div>\n                  <div className={`${styles.marginLeft25} ${styles.line}`}>{t('description')}: {description}</div>\n                  {\n                    selectedTemplateKey === id && userInfo.username === owner &&\n                    <Checkbox\n                      checked={step2State.isModify}\n                      className={`${styles.marginLeft25} ${styles.line}`}\n                      label={`${t('modify')}${t('enSpace')}${t('configuration')}`}\n                      onChange={(event, isChecked) => {\n                        setStep2State((prev) => ({ ...prev, isModify: isChecked }))\n                      }}\n                    />\n                  }\n                </div>\n                <div className={styles.view}>\n                  <IconButton\n                    iconProps={{ iconName: 'View' }}\n                    onClick={() => {onView(templateInfo)}}\n                    styles={{ root: { width: '10%', marginTop: '2px' } }}\n                  />\n                </div>\n              </div>\n            )\n          })\n        }\n      </div>\n      {\n        isViewModalShow &&\n        <ViewModal\n          isOpen={isViewModalShow}\n          onClose={() => {\n            setViewTemplate({})\n            setIsViewModalShow(false)\n          }}\n          viewTemplate={viewTemplate}\n        />\n      }\n    </>\n  )\n}\n\nStep2Table.propTypes = {\n  step2State: PropTypes.object,\n  setStep2State: PropTypes.func\n}\n","import React, { useState, useEffect } from 'react';\nimport { mergeStyles } from 'office-ui-fabric-react';\nimport { ChoiceGroup  } from 'components/BaseInput';\nimport { useTranslation } from 'react-i18next';\nimport { DefaultButton, PrimaryButton } from 'components/BaseFluentButton';\nimport { JobTaskRole } from 'views/Schedule/components/models/job-task-role';\nimport { DockerInfo } from 'views/Schedule/components/models/docker-info';\nimport { Completion } from 'views/Schedule/components/completion';\nimport { isEmpty } from 'lodash';\nimport { toast } from 'react-toastify';\nimport { Step2Table } from './Step2Table';\nimport PropTypes from 'prop-types';\n\nexport const Step2 = ({ step2State, setStep2State, setActiveStep, resetDefault, setJobTaskRoles }) => {\n  const { t } = useTranslation();\n  const [openNextBtn, setOpenNextBtn] = useState(false);\n\n  useEffect(() => {\n    const { selectedKey, templateInfo } = step2State;\n    if (selectedKey === 0) {\n      setOpenNextBtn(true)\n    } else if (selectedKey === 1 && !isEmpty(templateInfo)) {\n      const { jobConfig } = templateInfo\n      const { taskRoles } = jobConfig;\n      const newTaskRoles = taskRoles && taskRoles.map && taskRoles.map(item => {\n        const { name: taskRoleName, dockerImage, taskNumber, cpuNumber, shmMB, minFailedTaskCount, minSucceededTaskCount, command, portList, storageGB, memoryMB, gpuNumber } = item\n        return (\n          new JobTaskRole({\n            name: taskRoleName,\n            dockerInfo: new DockerInfo(dockerImage),\n            instances: taskNumber,\n            ports: portList && portList.map(port => ({ key: port.label, value: port.beginAt })),\n            commands: command,\n            completion: new Completion({ minFailedInstances: minFailedTaskCount, minSucceededInstances: minSucceededTaskCount }),\n            containerSize: { gpu: gpuNumber, cpu: cpuNumber, storageGB, memoryMB },\n            shmMB\n          })\n        )\n      })\n      if (newTaskRoles.length > 0) {\n        setJobTaskRoles(newTaskRoles)\n        setOpenNextBtn(true)\n      } else {\n        toast.error(t('isNotEnough', { name: t('taskCount') }));\n        setOpenNextBtn(false)\n      }\n    } else {\n      setOpenNextBtn(false)\n    }\n  }, [step2State])\n\n  const ChoiceFieldStyle = {\n    root: {\n      selectors: {\n        '& .ms-ChoiceField-field': {\n          fontWeight: '400'\n        }\n      }\n    }\n  }\n\n  return (\n    <div style={{ height: '480px', paddingBottom: '72px' }}>\n      <ChoiceGroup\n        onChange={(e, item) => {\n          setStep2State((prev) => ({ ...prev, selectedKey: item.key, isModify: true }))\n        }}\n        options={[{ key: 0, text: t('Custom') }]}\n        selectedKey={step2State.selectedKey}\n        styles={ChoiceFieldStyle}\n      />\n      <ChoiceGroup\n        onChange={(e, item) => {\n          setStep2State((prev) => ({ ...prev, selectedKey: item.key, isModify: true }))\n        }}\n        options={[{ key: 1, text: `${t('Template')}` }]}\n        selectedKey={step2State.selectedKey}\n        styles={ChoiceFieldStyle}\n      />\n      {\n        step2State.selectedKey === 1 &&\n        <Step2Table\n          setStep2State={setStep2State}\n          step2State={step2State}\n        />\n      }\n      <div style={{ display: 'flex', justifyContent: 'space-between', position: 'absolute', bottom: '0', left: 0, padding: '20px', width: '100%', backgroundColor: '#fff' }}>\n        <DefaultButton\n          onClick={() => resetDefault()}\n          text={t('cancel')}\n        />\n        <div>\n          <DefaultButton\n            onClick={() => setActiveStep((prevActiveStep) => prevActiveStep - 1)}\n            text={t('Back')}\n          />\n          <PrimaryButton\n            className={mergeStyles({ marginLeft: '10px' })}\n            disabled={!openNextBtn}\n            onClick={() => setActiveStep((prevActiveStep) => prevActiveStep + 1)}\n            text={t('Next')}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nStep2.propTypes = {\n  step2State: PropTypes.object,\n  setStep2State: PropTypes.func,\n  setActiveStep: PropTypes.func,\n  resetDefault: PropTypes.func,\n  setJobTaskRoles: PropTypes.func\n};\n","import Joi from 'joi-browser';\n\nexport const TaskRoleSehema = Joi.object().keys({\n  name: Joi.string().required(),\n  completion: Joi.object().keys({\n    minFailedInstances: Joi.number().integer().min(0).allow(null),\n    minSucceededInstances: Joi.number().integer().min(0).allow(null)\n  }),\n  dockerInfo: Joi.object().keys({\n    uri: Joi.string().required()\n  }).unknown(true),\n  containerSize: Joi.object().keys({\n    cpu: Joi.number().integer().min(1),\n    gpu: Joi.number().integer().min(0),\n    memoryMB: Joi.number().integer().min(1),\n    storageGB: Joi.number().integer().min(1)\n  }),\n  deployment: Joi.object().unknown(true),\n  isContainerSizeEnabled: Joi.boolean(),\n  instances: Joi.number().integer().min(1),\n  shmMB: Joi.number().max(Joi.ref('containerSize.memoryMB')).min(0).default(64),\n  commands: Joi.string(),\n  ports: Joi.array().items(Joi.object()).allow(null),\n  taskRetryCount: Joi.number().integer().min(0)\n})\n\nexport const TaskRolesSechma = Joi.array().items(TaskRoleSehema)","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './index.module.scss';\nimport {\n  DirectionalHint,\n  TooltipHost,\n  Icon,\n  mergeStyles\n} from 'office-ui-fabric-react';\nimport { TextField as BaseTextField } from 'components/BaseInput';\nimport { debounce } from 'lodash';\n\nconst TextField = ({ title, hint, customButton, onChange, containerClass, ...props }) => {\n  const _onChange = debounce(onChange, 50)\n  return (\n    <div className={`${styles.container}`}>\n      <div className={styles.title}>\n        <label>{title}</label>\n        {\n          hint &&\n          <TooltipHost\n            calloutProps={{\n              isBeakVisible: false,\n              directionalHint: DirectionalHint.topAutoEdge,\n              gapSpace: 8\n            }}\n            content={hint}\n            tooltipProps={React.isValidElement(hint) ? {\n              onRenderContent: () => hint\n            } : {}}\n          >\n            <Icon\n              iconName=\"Info\"\n              styles={{ root: { verticalAlign: 'middle', cursor: 'pointer', margin: '0 5px' } }}\n            />\n          </TooltipHost>\n        }\n      </div>\n      <div className={mergeStyles({ position: 'relative', ...containerClass })}>\n        <BaseTextField\n          onChange={_onChange}\n          {...props}\n        />\n        {customButton}\n      </div>\n    </div>\n  );\n};\n\nTextField.propTypes = {\n  title: PropTypes.string,\n  hint: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.node\n  ]),\n  onChange: PropTypes.func,\n  customButton: PropTypes.node,\n  containerClass: PropTypes.object\n};\n\nexport default TextField;","import React, { useCallback }  from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './index.module.scss';\nimport {\n  DirectionalHint,\n  TooltipHost,\n  Icon\n} from 'office-ui-fabric-react';\nimport { SpinButton as BaseSpinButton } from 'office-ui-fabric-react';\nimport { debounce, isNil } from 'lodash';\n\nconst SpinButton = ({ title, hint, fieldError, onChange, onIncrement, onDecrement, onValidate, min, max, errorMessage, ...props }) => {\n  const _onChange = useCallback((value, operateFunc, defaultReturnValue) => {\n    let newValue = defaultReturnValue;\n    if (!isNil(min)) {\n      newValue = Math.max(min, newValue);\n    }\n    if (!isNil(max)) {\n      newValue = Math.min(max, newValue);\n    }\n    if (operateFunc !== undefined) {\n      newValue = operateFunc(value);\n    }\n    if (onChange === undefined) {\n      return newValue;\n    }\n    return onChange(newValue);\n  }, [onChange]);\n\n  const _onIncrement = value => _onChange(value, onIncrement, +value + 1);\n  const _onDecrement = value => _onChange(value, onDecrement, +value - 1);\n  const _onValidate = value => _onChange(value, onValidate, value);\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.title}>\n        <label>{title}</label>\n        {\n          hint &&\n          <TooltipHost\n            calloutProps={{\n              isBeakVisible: false,\n              directionalHint: DirectionalHint.topAutoEdge,\n              gapSpace: 8\n            }}\n            content={hint}\n            tooltipProps={React.isValidElement(hint) ? {\n              onRenderContent: () => hint\n            } : {}}\n          >\n            <Icon\n              iconName=\"Info\"\n              styles={{ root: { verticalAlign: 'middle', cursor: 'pointer', margin: '0 5px' } }}\n            />\n          </TooltipHost>\n        }\n      </div>\n      <div>\n        <BaseSpinButton\n          {...props}\n          min={0}\n          onDecrement={debounce(_onDecrement, 10)}\n          onIncrement={debounce(_onIncrement, 10)}\n          onValidate={debounce(_onValidate, 10)}\n          step={1}\n          styles={{\n            root: { border: fieldError ? 'rgb(168,0,0) 1px solid' : '', borderRadius: 3, width: '100%' },\n            spinButtonWrapper: { borderRadius: 3, paddingRight: 10, border: fieldError ? 'none' : '1px solid #A19F9D' }\n          }}\n        />\n        {\n          errorMessage &&\n          <span style={{ fontSize: 12, color: 'rgb(168, 0, 0)' }}>\n            {errorMessage}\n          </span>\n        }\n      </div>\n    </div>\n  );\n};\n\nSpinButton.propTypes = {\n  title: PropTypes.string,\n  hint: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.node\n  ]),\n  min: PropTypes.number,\n  max: PropTypes.number,\n  fieldError: PropTypes.string,\n  onChange: PropTypes.func,\n  onIncrement: PropTypes.func,\n  onDecrement: PropTypes.func,\n  onValidate: PropTypes.func,\n  className: PropTypes.string,\n  errorMessage: PropTypes.string\n};\n\nexport default SpinButton;","import React, { useCallback } from 'react';\nimport {\n  Label,\n  getTheme,\n  DelayedRender,\n  AnimationClassNames,\n  FontSizes\n} from 'office-ui-fabric-react';\nimport PropTypes from 'prop-types';\nimport MonacoEditor from 'components/monaco/monaco-editor';\nimport { isEmpty, isNil } from 'lodash';\n\nexport const MonacoTextFiled = props => {\n  const {\n    value,\n    onChange,\n    label,\n    placeholder,\n    completionItems,\n    monacoProps: rawMonacoProps,\n    monacoRef,\n    errorMessage\n  } = props;\n  const { palette, spacing, semanticColors } = getTheme();\n  const borderColor = isEmpty(errorMessage)\n    ? palette.neutralTertiary\n    : semanticColors.errorText;\n\n  const monacoProps = { ...rawMonacoProps };\n  const rawEditorDidMount = monacoProps.editorDidMount;\n  delete monacoProps.editorDidMount;\n  const editorDidMountCallback = useCallback(\n    (editor, monaco) => {\n      editor.onDidFocusEditorText(() => {\n        const value = editor.getValue();\n        if (value === placeholder) {\n          editor.setValue('');\n        }\n      });\n      editor.onDidBlurEditorText(() => {\n        const value = editor.getValue();\n        if (isEmpty(value) && !isEmpty(placeholder)) {\n          editor.setValue(placeholder);\n        }\n      });\n\n      const value = editor.getValue();\n      if (isEmpty(value) && !isEmpty(placeholder)) {\n        editor.setValue(placeholder);\n      }\n      if (!isNil(rawEditorDidMount)) {\n        rawEditorDidMount(editor, monaco);\n      }\n    },\n    [rawEditorDidMount]\n  );\n\n  return (\n    <div>\n      {!isNil(label) && <Label>{label}</Label>}\n      <MonacoEditor\n        completionItems={completionItems}\n        monacoProps={{\n          theme: 'vs',\n          language: 'plaintext',\n          options: {\n            automaticLayout: true,\n            wordWrap: 'on',\n            readOnly: false,\n            defaultEOL: 1,\n            minimap: { enabled: false }\n          },\n          value: value,\n          onChange: onChange,\n          editorDidMount: editorDidMountCallback,\n          ...monacoProps\n        }}\n        monacoRef={monacoRef}\n        style={{\n          flex: '1 1 100%',\n          minHeight: 0,\n          border: 'solid 1px',\n          borderColor: borderColor,\n          paddingTop: spacing.s1\n        }}\n      />\n      {!isEmpty(errorMessage) && (\n        <div role=\"alert\">\n          <DelayedRender>\n            <p\n              className={AnimationClassNames.slideDownIn20}\n              style={{\n                fontSize: FontSizes.small,\n                color: semanticColors.errorText,\n                margin: 0,\n                paddingTop: spacing.s2,\n                display: 'flex',\n                alignItems: 'center'\n              }}\n            >\n              <span data-automation-id=\"error-message\">\n                {errorMessage}\n              </span>\n            </p>\n          </DelayedRender>\n        </div>\n      )}\n    </div>\n  );\n};\n\nMonacoTextFiled.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  label: PropTypes.string,\n  completionItems: PropTypes.array,\n  monacoProps: PropTypes.object,\n  monacoRef: PropTypes.object,\n  errorMessage: PropTypes.string\n};\n\nexport default MonacoTextFiled;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './index.module.scss';\nimport {\n  DirectionalHint,\n  TooltipHost,\n  Icon\n} from 'office-ui-fabric-react';\nimport MonacoTextField from './MonacoTextField';\nimport { useTranslation } from 'react-i18next';\nimport { isEmpty } from 'lodash';\nimport { PAI_ENV_VAR } from 'views/Schedule/components/constants';\n\nconst CommandInput = React.memo(({ title, hint, value, defaultValue, ...props }) => {\n  const { t } = useTranslation();\n  return (\n    <div className={styles.container}>\n      <div className={styles.title}>\n        <label>{title}</label>\n        {\n          hint &&\n          <TooltipHost\n            calloutProps={{\n              isBeakVisible: false,\n              directionalHint: DirectionalHint.topAutoEdge,\n              gapSpace: 8\n            }}\n            content={hint}\n            tooltipProps={React.isValidElement(hint) ? {\n              onRenderContent: () => hint\n            } : {}}\n          >\n            <Icon\n              iconName=\"Info\"\n              styles={{ root: { verticalAlign: 'middle', cursor: 'pointer', margin: '0 5px' } }}\n            />\n          </TooltipHost>\n        }\n      </div>\n      <div className={styles.input}>\n        <MonacoTextField\n          completionItems={[...PAI_ENV_VAR.map(x => x.key)]}\n          errorMessage={isEmpty(value) ? t('commandCannotBeEmpty') : null}\n          monacoProps={{ height: 150, language: 'shell', defaultValue }}\n          value={value.replaceAll(' && ', '\\n')}\n          {...props}\n        />\n      </div>\n    </div>\n  );\n});\n\nCommandInput.propTypes = {\n  title: PropTypes.string,\n  hint: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.node\n  ]),\n  value: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.string\n  ]),\n  defaultValue: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.string\n  ])\n};\n\nexport default CommandInput;","import React, { useEffect, useState, useCallback, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport styles from './index.module.scss';\nimport { mergeStyles, DefaultButton, DirectionalHint } from 'office-ui-fabric-react';\nimport { TextField } from '../Form'\nimport { debounce, isEmpty } from 'lodash';\nimport { getHaborRepoInfo, getHaborRepoTags } from 'utils/api';\nimport { DockerInfo as DockerInfoConstructor } from 'views/Schedule/components/models/docker-info';\n\nconst DockerInfo = ({ data, onChange }) => {\n  const { t } = useTranslation();\n  const [repositories, setRepositories] = useState([]);\n  const [originRepositories, setOriginRepositories] = useState();\n  const [harborHost, setHarborHost] = useState('');\n  const [errorMsg, setErrorMsg] = useState('');\n\n  const infoChange = useRef('');\n\n  const onInfoChange = useCallback((field, value) => {\n    const newData = new DockerInfoConstructor({ ...data, [field]: value });\n    onChange('dockerInfo', newData)\n  }, [onChange])\n\n  useEffect(() => {\n    infoChange.current = onInfoChange;\n  }, [onInfoChange]);\n\n  const checkTag = async (tag, repositories) => {\n    try {\n      const tagsData = await getHaborRepoTags(repositories)\n      if (tag === undefined) {\n        return ''\n      } else if (tag === '') {\n        return `${t('tag')}${t('enSpace')}${t('error')}`\n      } else {\n        return tagsData.find(data => data.tag === tag) ? '' : t('dockerMirrorsPathError')\n      }\n    } catch {\n      return t('dockerMirrorsPathError');\n    }\n  }\n\n  const checkUri = useCallback(\n    debounce(\n      async (uri, harborHost, originRepositories) => {\n        if (isEmpty(uri)) {\n          setErrorMsg(t('dockerMirrorsPathCannotBeEmpty'));\n        } else {\n          const Uri = uri.split('/');\n          if (Uri.length !== 3) {\n            return setErrorMsg('');\n          }\n\n          if (Uri[0] !== harborHost) {\n            return setErrorMsg('');\n          }\n\n          const repositoryNotWithTag = Uri[2].split(':')[0];\n          const repositoryHasTag = Uri[2].split(':')[1];\n          const myRepository = Uri[1] + '/' + repositoryNotWithTag;\n\n          const findRepositories = originRepositories.find(item => item === myRepository);\n\n          if (!findRepositories) {\n            return setErrorMsg(t('dockerMirrorsPathError')); // 'error repositories or tag'\n          }\n\n          try {\n            const isCorrectTag = await checkTag(repositoryHasTag, findRepositories);\n            setErrorMsg(isCorrectTag);\n          } catch {\n            setErrorMsg('');\n          }\n        }\n      }, 200)\n    , [setErrorMsg])\n\n  useEffect(() => {\n    getHaborRepoInfo()\n      .then(res => {\n        setHarborHost(res.host);\n        setOriginRepositories(res.repositories)\n        setRepositories(\n          res.repositories.map(repository => {\n            const item = {};\n            item.key = repository;\n            item.text = repository;\n            item.componentRef = ref => (item.data = { ref: ref });\n            return item;\n          })\n        );\n      })\n  }, [])\n\n  const _onItemClick = useCallback((ev, item) => {\n    ev.preventDefault();\n\n    getHaborRepoTags(item.text, false).then(tags => {\n      item.subMenuProps = {\n        items: tags.map(tag => ({\n          key: tag,\n          text: tag,\n          onClick: (tagEv, tagItem) => {\n            infoChange.current('uri', `${harborHost}/${item.text}:${tagItem.text}`);\n            setErrorMsg('')\n          }\n        }))\n      };\n      item.data.ref.openSubMenu();\n    });\n  }, [harborHost]);\n\n  return (\n    <div>\n      <div className={styles.formContent}>\n        <TextField\n          className={mergeStyles({ width: '100%', position: 'relative' })}\n          customButton={(\n            <DefaultButton\n              menuProps={{\n                directionalHint: DirectionalHint.rightCenterEdge,\n                items: repositories,\n                onItemClick: _onItemClick\n              }}\n              styles={{\n                root: {\n                  background: '#fff',\n                  padding: 0,\n                  width: 30,\n                  minWidth: 30,\n                  height: 20,\n                  position: 'absolute',\n                  right: 10,\n                  top: 5\n                },\n                rootHovered: {\n                  background: '#fff'\n                }\n              }}\n            />\n          )}\n          // ? t('dockerMirrorsPathCannotBeEmpty') : null\n          errorMessage={checkUri(data.uri, harborHost, originRepositories) ? errorMsg : ''}\n          onChange={(e, text) => {\n            checkUri(text, harborHost, originRepositories)\n            onInfoChange('uri', text)\n          }}\n          placeholder={t('pleaseEnterDockerMirrorsPath')}\n          title={t('dockerMirrors')}\n          value={data.uri}\n        />\n      </div>\n    </div>\n  );\n};\n\nDockerInfo.propTypes = {\n  data: PropTypes.object,\n  onChange: PropTypes.func\n};\n\nexport default DockerInfo;","/*\n * Copyright (c) Microsoft Corporation\n * All rights reserved.\n *\n * MIT License\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState, useCallback, useMemo } from 'react';\nimport { TextField } from 'office-ui-fabric-react';\n\nimport PropTypes from 'prop-types';\nimport { debounce } from 'lodash';\n\n\nexport const DebouncedTextField = props => {\n  const { onChange, value } = props;\n  const [cachedValue, setCachedValue] = useState('');\n  useEffect(() => setCachedValue(value), [value]);\n  const debouncedOnChange = useMemo(() => debounce(onChange, 200), [onChange]);\n\n  const onChangeWrapper = useCallback(\n    (e, val) => {\n      setCachedValue(val);\n      debouncedOnChange(e, val);\n    },\n    [setCachedValue, debouncedOnChange]\n  );\n\n  return (\n    <TextField\n      {...props}\n      onChange={onChangeWrapper}\n      styles={{ fieldGroup: { borderRadius: 3 } }}\n      value={cachedValue}\n    />\n  );\n};\n\nDebouncedTextField.propTypes = {\n  onChange: PropTypes.func,\n  value: PropTypes.string\n};\n","/*\n * Copyright (c) Microsoft Corporation\n * All rights reserved.\n *\n * MIT License\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { camelCase, isEmpty, isNil } from 'lodash';\nimport { IconButton, Stack, DetailsList, CheckboxVisibility, DetailsListLayoutMode, SelectionMode, DetailsHeader, DetailsRow } from 'office-ui-fabric-react';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useLayoutEffect, useMemo, useState } from 'react';\nimport { DebouncedTextField } from './debounced-text-field';\nimport { dispatchResizeEvent } from './utils';\n// import context from '../context';\nimport { useTranslation } from 'react-i18next';\nimport { DefaultButton } from 'components/BaseButton';\n\nconst onRenderDetailsHeader = ({ ...detailsHeaderProps }) => {\n  const renderCustomHeaderTooltip = (tooltipHostProps, defaultRender) => {\n    return (\n      <span\n        style={{\n          fontSize: '16px',\n          fontWeight: 'bold'\n        }}\n      >\n        {\n          defaultRender({ ...tooltipHostProps })\n        }\n      </span>\n    );\n  };\n  return (\n    <DetailsHeader\n      {...detailsHeaderProps}\n      onRenderColumnHeaderTooltip={renderCustomHeaderTooltip}\n      styles={{\n        root: {\n          padding: '0'\n        }\n      }}\n    />\n  );\n};\n\nexport const KeyValueList = ({ name, value, onChange, onError, keyName, keyField, valueName, valueField, secret, onValidateKey, onValidateValue }) => {\n  keyName = keyName || 'Key';\n  keyField = keyField || camelCase(keyName);\n  valueName = valueName || 'Value';\n  valueField = valueField || camelCase(valueName);\n\n  const { t } = useTranslation();\n  const [dupList, setDupList] = useState([]);\n  // const { setErrorMessage } = useContext(context);\n\n  useMemo(() => {\n    const keyCount = value.reduce((res, x) => {\n      if (res[x[keyField]] === undefined) {\n        res[x[keyField]] = 0;\n      }\n      res[x[keyField]] += 1;\n      return res;\n    }, {});\n    const newDupList = value.filter(x => keyCount[x[keyField]] > 1).map(x => x[keyField]);\n\n    // const msgId = `KeyValueList ${name}`;\n    let errorMessage = '';\n    if (newDupList.length > 0) {\n      errorMessage = `${name || 'KeyValueList'} has duplicated keys.`;\n    }\n    if (value.some(x => isEmpty(x[keyField]) && !isEmpty(x[valueField]))) {\n      errorMessage = `${name || 'KeyValueList'} has value with empty key.`;\n    }\n    if (!isNil(onValidateKey) || !isNil(onValidateValue)) {\n      for (const item of value) {\n        if (!isNil(onValidateKey)) {\n          const key = item[keyField];\n          const res = onValidateKey(key);\n          if (!isEmpty(res)) {\n            errorMessage = res;\n          }\n        }\n        if (!isNil(onValidateValue)) {\n          const value = item[valueField];\n          const res = onValidateValue(value);\n          if (!isEmpty(res)) {\n            errorMessage = res;\n          }\n        }\n      }\n    }\n    if (onError) {\n      onError(errorMessage);\n    }\n    // setErrorMessage(msgId, errorMessage);\n    setDupList(newDupList);\n  }, [value]);\n\n  const onAdd = useCallback(() => {\n    onChange([...value, { [keyField]: '', [valueField]: '' }]);\n  }, [onChange, value, keyField, valueField]);\n\n  const onRemove = useCallback(idx => {\n    onChange([...value.slice(0, idx), ...value.slice(idx + 1)]);\n  }, [onChange, value]);\n\n  const onKeyChange = useCallback((idx, val) => {\n    onChange([...value.slice(0, idx), { ...value[idx], [keyField]: val }, ...value.slice(idx + 1)]);\n  }, [onChange, value, keyField]);\n\n  const onValueChange = useCallback((idx, val) => {\n    onChange([...value.slice(0, idx), { ...value[idx], [valueField]: val }, ...value.slice(idx + 1)]);\n  }, [onChange, value, valueField]);\n\n  const getKey = useCallback((item, idx) => idx, []);\n\n  // workaround for fabric's bug\n  // https://github.com/OfficeDev/office-ui-fabric-react/issues/5280#issuecomment-489619108\n  useLayoutEffect(() => {\n    dispatchResizeEvent();\n  });\n\n  const columns = [\n    {\n      key: keyName,\n      name: keyName,\n      minWidth: 300,\n      onRender: (item, idx) => {\n        let errorMessage = null;\n        if (dupList.includes(item[keyField])) {\n          errorMessage = t('duplicateKeyword');\n        }\n        if (isEmpty(item[keyField]) && !isEmpty(item[valueField])) {\n          errorMessage = t('keywordCannotBeEmpty');\n        }\n        if (!isNil(onValidateKey)) {\n          const res = onValidateKey(item[keyField]);\n          if (!isEmpty(res)) {\n            errorMessage = res;\n          }\n        }\n        return (\n          <DebouncedTextField\n            errorMessage={errorMessage}\n            onChange={(e, val) => onKeyChange(idx, val)}\n            value={item[keyField]}\n          />\n        );\n      }\n    },\n    {\n      key: valueName,\n      name: valueName,\n      minWidth: 150,\n      onRender: (item, idx) => {\n        let errorMessage = null;\n        if (!isNil(onValidateValue)) {\n          const res = onValidateValue(item[valueField]);\n          if (!isEmpty(res)) {\n            errorMessage = res;\n          }\n        }\n        return (\n          <DebouncedTextField\n            defaultValue={item[valueField]}\n            errorMessage={errorMessage}\n            onChange={(e, val) => onValueChange(idx, val)}\n            type={secret && 'password'}\n            value={item[valueField] === 0 ? '0' : item[valueField]}\n          />\n        );\n      }\n    },\n    {\n      key: 'remove',\n      name: `${t('delete')}`,\n      minWidth: 50,\n      style: { padding: 0 },\n      onRender: (item, idx) => (\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'baseline',\n            justifyContent: 'center',\n            height: '100%'\n          }}\n        >\n          <IconButton\n            iconProps={{ iconName: 'Delete' }}\n            key={`remove-button-${idx}`}\n            onClick={() => onRemove(idx)}\n          />\n        </div>\n      )\n    }\n  ];\n\n  return (\n    <Stack gap=\"m\">\n      <div>\n        <DetailsList\n          checkboxVisibility={CheckboxVisibility.hidden}\n          columns={columns}\n          compact\n          getKey={getKey}\n          items={value}\n          layoutMode={DetailsListLayoutMode.fixedColumns}\n          onRenderDetailsHeader={onRenderDetailsHeader}\n          onRenderRow={props => {\n            return (\n              <DetailsRow\n                styles={{\n                  root: {\n                    fontSize: '14px',\n                    color: '#333',\n                    selectors: {\n                      '& .ms-TextField': {\n                        width: '100%',\n                        padding: '0 10px'\n                      },\n                      '& .ms-TextField-wrapper': {\n                        width: '100%'\n                      }\n                    }\n                  },\n                  cell: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    padding: '10px 0'\n                  }\n                }}\n                {...props}\n              />\n            );\n          }}\n          selectionMode={SelectionMode.none}\n        />\n      </div>\n      <div>\n        <DefaultButton\n          iconProps={{ iconName: 'Add' }}\n          onClick={onAdd}\n        >\n          {t('Add')}\n        </DefaultButton>\n      </div>\n    </Stack>\n  );\n};\n\nKeyValueList.propTypes = {\n  name: PropTypes.string,\n  value: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onError: PropTypes.func,\n  // custom field\n  secret: PropTypes.bool,\n  // columnWidth: PropTypes.number,\n  keyName: PropTypes.string,\n  keyField: PropTypes.string,\n  valueName: PropTypes.string,\n  valueField: PropTypes.string,\n  // validation\n  onValidateKey: PropTypes.func,\n  onValidateValue: PropTypes.func\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './index.module.scss';\nimport { useTranslation } from 'react-i18next';\nimport { KeyValueList } from '../../../components/key-value-list';\nconst PORT_LABEL_REGEX = /^[a-zA-Z_][a-zA-Z0-9_]*$/;\n\nconst PortList = ({ onChange, ports }) => {\n  const { t } = useTranslation();\n  const onPortChange = v => onChange('ports', v);\n  return (\n    <div className={styles.container}>\n      <KeyValueList\n        // columnWidth={220}\n        keyField=\"key\"\n        keyName={t('portName')}\n        name=\"Port List\"\n        onChange={onPortChange}\n        onValidateKey={val => {\n          if (!PORT_LABEL_REGEX.test(val)) {\n            return `${t('stringFormatIs')} ^[a-zA-Z_][a-zA-Z0-9_]*$`;\n          }\n        }}\n        onValidateValue={val => {\n          let int = val;\n          if (typeof val === 'string') {\n            int = parseInt(val, 10);\n          }\n          if (int < 0 || isNaN(int)) {\n            return `${t('fillInAnInteger')}`;\n          }\n        }}\n        value={ports}\n        valueField=\"value\"\n        valueName={t('portNumber')}\n      />\n    </div>\n  );\n};\n\nPortList.propTypes = {\n  ports: PropTypes.array,\n  onChange: PropTypes.func\n};\n\nexport default PortList;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport PortList from '../Form/PortList';\nimport { SpinButton } from '../Form'\nimport styles from './index.module.scss';\n\nconst AdvancedSetting = ({ data, onChange }) => {\n  const { t } = useTranslation();\n  return (\n    <div>\n      <div className={`${styles.width100} ${styles.paddingLeftRight10}`}>\n        <PortList\n          onChange={onChange}\n          ports={data.ports}\n        />\n      </div>\n      {\n        data.completion &&\n        <>\n          <div className={`${styles.row} ${styles.paddingLeftRight10} ${styles.marginTop10}`}>\n            {t('conditionsOfCompletion')}\n          </div>\n          <div className={styles.row}>\n            <div className={`${styles.width50} ${styles.paddingLeftRight10}`}>\n              <SpinButton\n                min={0}\n                onChange={value => onChange('completion', { ...data.completion, minFailedInstances: value })}\n                title={t('minimumCountOfFailedInstances')}\n                value={data.completion.minFailedInstances}\n              />\n            </div>\n            <div className={`${styles.width50} ${styles.paddingLeftRight10}`}>\n              <SpinButton\n                min={0}\n                onChange={value => onChange('completion', { ...data.completion, minSucceededInstances: value })}\n                title={t('minimumCountOfSuccessfulInstances')}\n                value={data.completion.minSucceededInstances}\n              />\n            </div>\n          </div>\n        </>\n      }\n    </div>\n  );\n};\n\nAdvancedSetting.propTypes = {\n  data: PropTypes.object,\n  onChange: PropTypes.func\n};\n\nexport default AdvancedSetting;","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport styles from './index.module.scss';\nimport { TextField, SpinButton, CommandInput } from '../Form';\n// import { mergeStyles } from 'office-ui-fabric-react';\nimport DockerInfo from './DockerInfo';\nimport AdvancedSetting from './AdvancedSetting';\n\nconst Content = ({ selectedIdx, checkDupName, jobTaskRoles, setJobTaskRoles }) => {\n\n  const { t } = useTranslation();\n  const currentTaskRole = jobTaskRoles ? jobTaskRoles[selectedIdx] : {};\n\n  const contentOnChange = useCallback((field, value) => {\n    setJobTaskRoles(prev => {\n      const res = [...prev]\n      res[selectedIdx] = { ...res[selectedIdx], [field]: value };\n      return res\n    })\n  }, [selectedIdx])\n\n  const onSizeChange = (field, value) => {\n    contentOnChange('containerSize', { ...currentTaskRole.containerSize, [field]: value })\n  }\n\n  return (\n    <>\n      <div\n        className={styles.formContent}\n        style={{ marginTop: '10px' }}\n      >\n        <div className={styles.paddingLeftRight10}>\n          <TextField\n            errorMessage={checkDupName()}\n            // hint={t('toolTipsTaskRoleName')}\n            onChange={(e, text) => {\n              contentOnChange('name', text)\n            }}\n            title={t('taskRoleName')}\n            value={currentTaskRole.name}\n          />\n          {/* <div className={`${styles.width50} ${styles.paddingLeftRight10}`}>\n            <SpinButton\n              min={0}\n              onChange={value => contentOnChange('taskRetryCount', value)}\n              title={`${t('retryCount')}(${t('optional')})`}\n              value={currentTaskRole.taskRetryCount}\n            />\n          </div> */}\n        </div>\n\n        <div className={styles.paddingLeftRight10}>\n          <CommandInput\n            hint={t('toolTipsCommandSection')}\n            onChange={t => {\n              contentOnChange('commands', t)\n            }}\n            title={t('command')}\n            value={currentTaskRole.commands}\n          />\n        </div>\n\n        <div className={styles.row}>\n          {/* <div className={`${styles.width25} ${styles.paddingLeftRight10}`}>\n            <SpinButton\n              min={1}\n              onChange={value => contentOnChange('instances', value)}\n              title={t('taskInstance')}\n              value={currentTaskRole.instances}\n            />\n          </div> */}\n          <div className={`${styles.width25} ${styles.paddingLeftRight10}`}>\n            <SpinButton\n              min={1}\n              onChange={value => onSizeChange('cpu', value)}\n              title={t('CPU')}\n              value={currentTaskRole.containerSize.cpu}\n            />\n          </div>\n          <div className={`${styles.width25} ${styles.paddingLeftRight10}`}>\n            <SpinButton\n              min={0}\n              onChange={value => onSizeChange('gpu', value)}\n              title={t('GPU')}\n              value={currentTaskRole.containerSize.gpu}\n            />\n          </div>\n          <div className={`${styles.width25} ${styles.paddingLeftRight10}`}>\n            <SpinButton\n              min={512}\n              onChange={value => onSizeChange('memoryMB', value)}\n              title={`${t('memory')} (MB)`}\n              value={currentTaskRole.containerSize.memoryMB}\n            />\n          </div>\n          <div className={`${styles.width25} ${styles.paddingLeftRight10}`}>\n            <SpinButton\n              errorMessage={\n                (currentTaskRole.shmMB > currentTaskRole.containerSize.memoryMB)\n                  ? t('shmCantGreaterThanMemory')\n                  : ''\n              }\n              min={0}\n              onChange={value => contentOnChange('shmMB', value)}\n              title={t('sharedMemoryMB')}\n              value={currentTaskRole.shmMB}\n            />\n          </div>\n        </div>\n\n        <div className={styles.row}>\n          <div className={`${styles.width25} ${styles.paddingLeftRight10}`}>\n            <SpinButton\n              min={1}\n              onChange={value => onSizeChange('storageGB', value)}\n              title={`${t('disk')} (GB)`}\n              value={currentTaskRole.containerSize.storageGB}\n            />\n          </div>\n          <div className={`${styles.width75} ${styles.paddingLeftRight10}`}>\n            <DockerInfo\n              data={currentTaskRole.dockerInfo}\n              onChange={contentOnChange}\n              selectedIdx={selectedIdx}\n            />\n          </div>\n        </div>\n\n        <div className={styles.row}>\n          <div className={`${styles.width100}`}>\n            <AdvancedSetting\n              data={currentTaskRole}\n              onChange={contentOnChange}\n            />\n          </div>\n        </div>\n\n      </div>\n    </>\n  );\n};\n\nContent.propTypes = {\n  selectedTab: PropTypes.string,\n  selectedIdx: PropTypes.number,\n  checkDupName: PropTypes.func,\n  jobTaskRoles: PropTypes.array,\n  setJobTaskRoles: PropTypes.func\n}\n\nexport default Content;","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styles from './index.module.scss';\nimport { Pivot, PivotItem, Icon } from 'office-ui-fabric-react';\nimport { IconButton } from 'components/BaseButton';\nimport { JobTaskRole } from 'views/Schedule/components/models/job-task-role';\nimport { TaskRoleSehema } from '../../../model/JobTaskRoleSchema';\nimport { validate } from 'joi-browser';\nimport Content from './Content';\nimport PropTypes from 'prop-types';\n\nfunction createUniqueName(usedNames, namePrefix, startindex) {\n  let index = startindex;\n  let name = `${namePrefix}_${index++}`;\n  while (usedNames.find(usedName => usedName === name)) {\n    name = `${namePrefix}_${index++}`;\n  }\n  return [name, index];\n}\n\nconst TaskRole = ({ jobTaskRoles, setJobTaskRoles }) => {\n  const { t } = useTranslation();\n  const [selectedTab, setSelectedTab] = useState(jobTaskRoles && jobTaskRoles[0].name);\n  const [selectedIdx, setSelectedIdx] = useState('0');\n\n  const checkDupName = () => {\n    if (!jobTaskRoles) return;\n    if (jobTaskRoles.map(tr => tr.name).filter((item, idx) => idx !== Number(selectedIdx))\n      .includes(selectedTab)) return t('duplicateName')\n\n    const TEXT_FILED_REGX = /^[A-Za-z0-9\\-._~]+$/;\n    if (!TEXT_FILED_REGX.test(selectedTab)) return `${t('stringFormatIs')} ^[A-Za-z0-9\\\\-_~]+$`;\n  }\n\n  useEffect(() => {\n    if (jobTaskRoles && jobTaskRoles[Number(selectedIdx)].name !== selectedTab) {\n      setSelectedTab(jobTaskRoles[Number(selectedIdx)].name)\n    }\n  }, [jobTaskRoles])\n\n  const handleRenderTab = (itemProps, defaultRender) => {\n    if (itemProps === undefined || defaultRender === undefined) {\n      return null;\n    }\n\n    const findData = jobTaskRoles && jobTaskRoles.find(tr => tr.name === itemProps.headerText)\n\n    const { error: TaskRoleErr } = validate(findData, TaskRoleSehema)\n    const hasError = TaskRoleErr\n\n    return (\n      <div\n        style={{\n          position: 'relative'\n        }}\n      >\n        <div style={{ padding: '0 10px', display: 'flex', alignItems: 'center', overflow: 'auto' }}>\n          {\n            findData.name !== selectedTab && hasError &&\n            <Icon\n              iconName=\"Info\"\n              styles={{\n                root: {\n                  position: 'absolute',\n                  top: -10,\n                  left: 7,\n                  fontSize: 10,\n                  color: 'red'\n                }\n              }}\n            />\n          }\n          <span\n            onClick={() => {\n              setSelectedTab(itemProps.headerText)\n              setSelectedIdx(itemProps.itemKey)\n            }}\n          >\n            {defaultRender(itemProps)}\n          </span>\n          {\n            jobTaskRoles.length > 1 &&\n            <Icon\n              iconName={'Cancel'}\n              onClick={(e) => {\n                handleRemoveTabItem(e, itemProps.headerText)\n              }}\n            />\n          }\n        </div>\n      </div>\n    )\n  }\n\n  const HEADER_PREFIX = 'Task_role';\n  let taskRoleSeq = jobTaskRoles.length + 1;\n\n  function generateUniqueTaskName(taskRoles, curIndex) {\n    const usedNames = taskRoles\n      .map(taskRole => taskRole.name)\n      .filter((_, index) => index < curIndex);\n    const [newName, updateIndex] = createUniqueName(usedNames, HEADER_PREFIX, taskRoleSeq);\n    taskRoleSeq = updateIndex;\n    return newName;\n  }\n\n  const handleAddItem = () => {\n    let tempLength = jobTaskRoles.length\n    let taskRoleName = generateUniqueTaskName(jobTaskRoles, tempLength);\n    while (Object.keys(jobTaskRoles).includes(taskRoleName)) {\n      tempLength = tempLength + 1;\n      taskRoleName = generateUniqueTaskName(jobTaskRoles, tempLength);\n    }\n    const newTaskRole = new JobTaskRole({ name: taskRoleName, commands: 'sleep infinity' });\n    setJobTaskRoles(prev => [...prev, newTaskRole]);\n    setSelectedTab(taskRoleName);\n    setSelectedIdx(jobTaskRoles.length);\n  }\n\n  const handleRemoveTabItem = (e, name) => {\n    e.stopPropagation();\n    const removedItems = jobTaskRoles.filter(tr => tr.name !== name);\n    setSelectedIdx('0');\n    setSelectedTab(removedItems[0].name);\n    setJobTaskRoles(removedItems);\n  }\n\n  return (\n    <div className={styles.paddingBottom72}>\n      <div className={styles.tabContainer}>\n        <div className={styles.tabContent}>\n          <Pivot\n            selectedKey={selectedIdx}\n            styles={{\n              text: { fontSize: 16, padding: '0 15px' },\n              root: { background: '#FFF' },\n              link: [{ margin: 0, padding: 0, background: '#f8f8f8' }],\n              linkIsSelected: {\n                marginRight: 8,\n                paddingRight: 8,\n                paddingLeft: 8,\n                width: 'auto',\n                selectors: {\n                  ':before': {\n                    transition: ' left 0.267s cubic-bezier(0.1, 0.25, 0.75, 0.9) 0s, right 0.267s cubic-bezier(0.1, 0.25, 0.75, 0.9) 0s'\n                  },\n                  ':hover:before': {\n                    left: 0,\n                    right: 0,\n                    transition: ' left 0.267s cubic-bezier(0.1, 0.25, 0.75, 0.9) 0s, right 0.267s cubic-bezier(0.1, 0.25, 0.75, 0.9) 0s'\n                  }\n                }\n              }\n            }}\n          >\n            {\n              jobTaskRoles && jobTaskRoles.map((item, idx) =>\n                <PivotItem\n                  headerText={item.name}\n                  itemKey={idx}\n                  key={idx}\n                  onRenderItemLink={handleRenderTab}\n                />\n              )\n            }\n          </Pivot>\n        </div>\n        <div className={styles.tabAdd}>\n          <IconButton\n            iconProps={{\n              iconName: 'Add'\n            }}\n            onClick={handleAddItem}\n          />\n        </div>\n      </div>\n      <Content\n        checkDupName={checkDupName}\n        jobTaskRoles={jobTaskRoles}\n        selectedIdx={Number(selectedIdx)}\n        // selectedTab={selectedTab}\n        setJobTaskRoles={setJobTaskRoles}\n      />\n    </div>\n  );\n};\n\nTaskRole.propTypes = {\n  jobTaskRoles: PropTypes.array,\n  setJobTaskRoles: PropTypes.func\n}\n\nexport default TaskRole;","import React, { useState, useEffect } from 'react';\nimport { mergeStyles } from 'office-ui-fabric-react';\nimport { DefaultButton, PrimaryButton } from 'components/BaseFluentButton';\nimport TaskRole from './Step3/TaskRole';\nimport { validate } from 'joi-browser';\nimport { TaskRolesSechma } from '../model/JobTaskRoleSchema';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport styles from './Step3.module.scss';\n\nexport const Step3 = ({ vgState, data, alreadyUsedResource, jobTaskRoles, setJobTaskRoles, setActiveStep, resetDefault, dataId, step2State, currentUserName }) => {\n  const { t } = useTranslation();\n  const [openNextBtn, setOpenNextBtn] = useState(false);\n  const [, setError] = useState(null);\n\n  const checkStep3Resource = (data, alreadyUsedResource, vgState) => {\n    const cpuUsed = data.cpu + alreadyUsedResource.cpu;\n    const memoryUsed = data.ram + alreadyUsedResource.memory;\n    const storageUsed = data.disk + alreadyUsedResource.storage;\n    let gpuUsed = 0;\n    let gpuTotal = 0;\n    if (cpuUsed > vgState.cpu) {\n      setError(t('mustInputAvailableCpu'))\n      return false\n    }\n    if (memoryUsed > vgState.memory) {\n      setError(t('mustInputAvailableMemory'))\n      return false\n    }\n    if (storageUsed > vgState.storageUsed) {\n      setError(t('mustInputAvailableStorage'))\n      return false\n    }\n\n    if (Object.values(data.gpu)[1] !== '') {\n      Object.entries(alreadyUsedResource.gpu).map(([key, value]) => {\n        if (Object.values(data.gpu)[1] === key) {\n          gpuUsed = data.gpu.num + value\n          gpuTotal = vgState.gpu[key]\n        }\n      })\n    } else {\n      gpuUsed = data.gpu.num\n    }\n\n    if (gpuUsed > gpuTotal) {\n      setError(t('isNotEnough', { name: t('GPU') }))\n      return false\n    }\n\n    setError(null)\n    return true\n  }\n\n  const checkStep3TaskRoles = (jobTaskRoles) => {\n    const { error: TaskRoleErr } = validate(jobTaskRoles, TaskRolesSechma)\n    const hasError = TaskRoleErr\n    if (hasError === null) {\n      return true\n    } else {\n      return false\n    }\n  }\n\n  useEffect(() => {\n    if (checkStep3TaskRoles(jobTaskRoles) && checkStep3Resource(data, alreadyUsedResource, vgState)) {\n      setOpenNextBtn(true)\n    } else {\n      setOpenNextBtn(false)\n    }\n  }, [jobTaskRoles])\n\n  useEffect(() => {\n    if (!step2State.isModify) {\n      if (step2State.templateInfo.owner === currentUserName) {\n        if (checkStep3Resource(data, alreadyUsedResource, vgState)) {\n          setActiveStep((prevActiveStep) => prevActiveStep + 1)\n        }\n      }\n    }\n  }, [step2State])\n\n  return (\n    <div className={styles.container}>\n      <div className={`${styles.header} ${styles.headerBorderBottom}`}>\n        <div>{t('virtualCluster')}{t('enSpace')}{t('status')} ({t('useAndAll')})</div>\n        <div className={`${styles.vgStateContainer} ${styles.marginBottom10}`}>\n          <div className={`${styles.width25} ${((data.cpu + alreadyUsedResource.cpu) > vgState.cpu) && styles.errorColor}`}>\n            <div>{t('CPU')}</div>\n            <div>{data.cpu + alreadyUsedResource.cpu} / {vgState.cpu}</div>\n          </div>\n          <div className={`${styles.width25} ${((data.ram + alreadyUsedResource.memory) > vgState.memory) && styles.errorColor}`}>\n            <div>{t('memory')}(MB)</div>\n            <div>{data.ram + alreadyUsedResource.memory} / {vgState.memory}</div>\n          </div>\n          <div className={`${styles.width25} ${((data.disk + alreadyUsedResource.storage) > vgState.storage) && styles.errorColor}`}>\n            <div>{t('disk')}(GB)</div>\n            <div>{data.disk + alreadyUsedResource.storage} / {vgState.storage}</div>\n          </div>\n          {\n            Object.values(data.gpu)[1] !== ''\n              ? Object.entries(alreadyUsedResource.gpu).map(([key, value]) => {\n                if (Object.values(data.gpu)[1] === key) {\n                  return (\n                    <div className={`${styles.width25} ${((data.gpu.num + value) > vgState.gpu[key]) && styles.errorColor}`}>\n                      <div>{t('GPU')} {key}</div>\n                      <div>{data.gpu.num + value} / {vgState.gpu[key]}</div>\n                    </div>\n                  )\n                }\n              })\n              :\n              <div className={`${styles.width25} ${data.gpu.num > 0 && styles.errorColor}`}>\n                <div>{t('GPU')}</div>\n                <div>{t('no2')}</div>\n              </div>\n          }\n        </div>\n      </div>\n      <TaskRole\n        jobTaskRoles={jobTaskRoles}\n        setJobTaskRoles={setJobTaskRoles}\n      />\n      <div className={`${styles.width100} ${styles.footer}`}>\n        <DefaultButton\n          onClick={() => resetDefault()}\n          text={t('cancel')}\n        />\n        <div>\n          <PrimaryButton\n            onClick={() => setActiveStep((prevActiveStep) => dataId ? prevActiveStep - 2 : prevActiveStep - 1)}\n            text={t('Back')}\n          />\n          <PrimaryButton\n            className={mergeStyles({ marginLeft: '10px' })}\n            disabled={!openNextBtn}\n            onClick={() => {\n              setActiveStep((prevActiveStep) => prevActiveStep + 1)\n            }}\n            text={t('Next')}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nStep3.propTypes = {\n  vgState: PropTypes.object,\n  data: PropTypes.object,\n  alreadyUsedResource: PropTypes.object,\n  jobTaskRoles: PropTypes.array,\n  setJobTaskRoles: PropTypes.func,\n  setActiveStep: PropTypes.func,\n  resetDefault: PropTypes.func,\n  dataId: PropTypes.number,\n  step2State: PropTypes.object,\n  currentUserName: PropTypes.string\n}\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport {\n  DetailsList, CheckboxVisibility, DetailsListLayoutMode, SelectionMode, DetailsHeader, DetailsRow,\n  ComboBox\n} from 'office-ui-fabric-react';\nimport { isEmpty, isNil } from 'lodash';\nimport { TextField } from 'components/BaseInput';\nimport { IconButton, DefaultButton } from 'components/BaseButton';\n\nconst onRenderDetailsHeader = ({ ...detailsHeaderProps }) => {\n  const renderCustomHeaderTooltip = (tooltipHostProps, defaultRender) => {\n    return (\n      <span\n        style={{\n          fontSize: '16px',\n          fontWeight: 'bold'\n        }}\n      >\n        {\n          defaultRender({ ...tooltipHostProps })\n        }\n      </span>\n    );\n  };\n\n  return (\n    <DetailsHeader\n      {...detailsHeaderProps}\n      onRenderColumnHeaderTooltip={renderCustomHeaderTooltip}\n      styles={{\n        root: {\n          padding: '10px 0'\n        }\n      }}\n    />\n  );\n};\n\nconst NFSMount = ({ title, name, value, onChange, onError, keyName, keyField, keyOptions, valueName, valueField, secret, onValidateKey, onValidateValue }) => {\n  const { t } = useTranslation();\n\n  const [dupList, setDupList] = useState([]);\n\n  useMemo(() => {\n    const valueCount = value.reduce((res, x) => {\n      if (res[x[valueField]] === undefined) {\n        res[x[valueField]] = 0;\n      }\n      res[x[valueField]] += 1;\n      return res;\n    }, {});\n    const newDupList = value.filter(x => valueCount[x[valueField]] > 1).map(x => x[valueField]);\n\n    // const msgId = `KeyValueList ${name}`;\n    let errorMessage = '';\n    if (newDupList.length > 0) {\n      errorMessage = `${name || 'KeyValueList'} has duplicated values.`;\n    }\n\n    if (value.some(x => isEmpty(x[keyField]) && !isEmpty(x[valueField]))) {\n      errorMessage = `${name || 'KeyValueList'} has key with empty value.`;\n    }\n    if (value.some(x => isEmpty(x[valueField]) && !isEmpty(x[keyField]))) {\n      errorMessage = `${name || 'KeyValueList'} has value with empty key.`;\n    }\n\n    if (!isNil(onValidateKey) || !isNil(onValidateValue)) {\n      for (const item of value) {\n        if (!isNil(onValidateKey)) {\n          const key = item[keyField];\n          const res = onValidateKey(key);\n          if (!isEmpty(res)) {\n            errorMessage = res;\n          }\n        }\n        if (!isNil(onValidateValue)) {\n          const value = item[valueField];\n          const res = onValidateValue(value);\n          if (!isEmpty(res)) {\n            errorMessage = res;\n          }\n        }\n      }\n    }\n    if (onError) {\n      onError(errorMessage);\n    }\n    setDupList(newDupList);\n  }, [value]);\n\n  const columns = [\n    {\n      key: keyName,\n      name: title,\n      minWidth: 320,\n      onRender: (item, idx) => {\n        let errorMessage = null;\n        if (isEmpty(item[keyField]) && !isEmpty(item[valueField])) {\n          errorMessage = 'empty key';\n        }\n        if (!isNil(onValidateKey)) {\n          const res = onValidateKey(item[keyField]);\n          if (!isEmpty(res)) {\n            errorMessage = res;\n          }\n        }\n        return (\n          <ComboBox\n            errorMessage={errorMessage}\n            onChange={(e, opt) => onKeyChange(idx, opt.text)}\n            options={keyOptions}\n            styles={{\n              root: {\n                borderRadius: 3\n              }\n            }}\n            text={item[keyField]}\n          />\n        );\n      }\n    },\n    {\n      key: valueName,\n      name: valueName,\n      minWidth: 170,\n      onRender: (item, idx) => {\n        let errorMessage = null;\n        if (dupList.includes(item[valueField])) {\n          errorMessage = t('sameMountPoint');\n        }\n        if (!isNil(onValidateValue)) {\n          const res = onValidateValue(item[valueField]);\n          if (!isEmpty(res)) {\n            errorMessage = res;\n          }\n        }\n        return (\n          <TextField\n            errorMessage={errorMessage}\n            onChange={(e, val) => onValueChange(idx, val)}\n            type={secret && 'password'}\n            value={item[valueField]}\n          />\n        );\n      }\n    },\n    {\n      key: 'remove',\n      name: `${t('delete')}`,\n      minWidth: 70,\n      style: { padding: 0 },\n      onRender: (item, idx) => (\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'baseline',\n            justifyContent: 'center',\n            height: '100%'\n          }}\n        >\n          <IconButton\n            iconProps={{ iconName: 'Delete' }}\n            key={`remove-button-${idx}`}\n            onClick={() => onRemove(idx)}\n          />\n        </div>\n      )\n    }\n  ];\n\n  const onAdd = useCallback(() => {\n    onChange([...value, { [keyField]: '', [valueField]: '' }]);\n  }, [onChange, value, keyField, valueField]);\n\n  const onRemove = useCallback(idx => {\n    onChange([...value.slice(0, idx), ...value.slice(idx + 1)]);\n  }, [onChange, value]);\n\n  const onKeyChange = useCallback((idx, val) => {\n    onChange([...value.slice(0, idx), { [keyField]: val, [valueField]: `/root/${val}` }, ...value.slice(idx + 1)]);\n  }, [onChange, value, keyField]);\n\n  const onValueChange = useCallback((idx, val) => {\n    onChange([...value.slice(0, idx), { ...value[idx], [valueField]: val }, ...value.slice(idx + 1)]);\n  }, [onChange, value, valueField]);\n\n  return (\n    <div\n      style={{ \n        display: 'flex',\n        flexDirection: 'column' \n      }}\n    >\n      <div>\n        <DetailsList\n          checkboxVisibility={CheckboxVisibility.hidden}\n          columns={columns}\n          compact\n          // getKey={getKey}\n          items={value}\n          layoutMode={DetailsListLayoutMode.fixedColumns}\n          onRenderDetailsHeader={onRenderDetailsHeader}\n          onRenderRow={props => {\n            return (\n              <DetailsRow\n                styles={{\n                  root: {\n                    fontSize: '14px',\n                    color: '#333',\n                    selectors: {\n                      '& .ms-ComboBox-container': {\n                        width: '100%',\n                        padding: '0 10px'\n                      },\n                      '& .ms-TextField': {\n                        width: '100%',\n                        padding: '0 10px'\n                      }\n                    }\n                  },\n                  cell: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    padding: '10px 0'\n                  }\n                }}\n                {...props}\n              />\n            );\n          }}\n          selectionMode={SelectionMode.none}\n        />\n        <div style={{ padding: '0 10px' }}>\n          <DefaultButton\n            iconProps={{\n              iconName: 'Add'\n            }}\n            onClick={onAdd}\n            text={t('Add')}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nNFSMount.propTypes = {\n  name: PropTypes.string,\n  title: PropTypes.string,\n  hint: PropTypes.string,\n  value: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onError: PropTypes.func,\n  // custom field\n  secret: PropTypes.bool,\n  columnWidth: PropTypes.number,\n  keyName: PropTypes.string,\n  keyField: PropTypes.string,\n  keyOptions: PropTypes.array,\n  valueName: PropTypes.string,\n  valueField: PropTypes.string,\n  // validation\n  onValidateKey: PropTypes.func,\n  onValidateValue: PropTypes.func\n};\n\nexport default NFSMount;","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport NFSMount from './NFSMount';\nimport PropTypes from 'prop-types';\n\nconst StorageSetting = ({ nfsInfo, glusterfsInfo, nfsMounts, setNfsMountsState, setGlusterfsMountsState, glusterfsMounts }) => {\n  const { t } = useTranslation();\n  return (\n    <>\n      <div>\n        <NFSMount\n          hint={t('toolTipsNFS')}\n          keyField=\"name\"\n          keyName={t('name')}\n          keyOptions={nfsInfo.map(nfs => ({ key: nfs.name, text: nfs.name }))}\n          name=\"NFS List\"\n          onChange={setNfsMountsState}\n          onError={() => {}}\n          title={t('NFS')}\n          value={nfsMounts}\n          valueField=\"mountPoint\"\n          valueName={t('mountPoint')}\n        />\n        <NFSMount\n          hint={t('toolTipsNFS')}\n          keyField=\"name\"\n          keyName={t('name')}\n          keyOptions={glusterfsInfo.map(glusterfs => ({ key: glusterfs.name, text: glusterfs.name }))}\n          name=\"GlusterFS List\"\n          onChange={setGlusterfsMountsState}\n          onError={() => {}}\n          title={t('glusterfs')}\n          value={glusterfsMounts}\n          valueField=\"mountPoint\"\n          valueName={t('volumeGlusterFS')}\n        />\n      </div>\n    </>\n  );\n};\n\nStorageSetting.propTypes = {\n  nfsInfo: PropTypes.array,\n  glusterfsInfo: PropTypes.array,\n  nfsMounts: PropTypes.array,\n  setNfsMountsState: PropTypes.func,\n  setGlusterfsMountsState: PropTypes.func,\n  glusterfsMounts: PropTypes.array\n}\n\n\nexport default StorageSetting;","/*\n * Copyright (c) Microsoft Corporation\n * All rights reserved.\n *\n * MIT License\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { camelCase, isEmpty, isNil } from 'lodash';\nimport { Stack, DetailsList, CheckboxVisibility, DetailsListLayoutMode, SelectionMode, DetailsHeader, DetailsRow } from 'office-ui-fabric-react';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useLayoutEffect, useMemo, useState } from 'react';\nimport { dispatchResizeEvent } from 'views/Schedule/components/utils';\nimport { useTranslation } from 'react-i18next';\nimport { DefaultButton, IconButton } from 'components/BaseButton';\nimport { TextField } from 'components/BaseInput';\n\nconst onRenderDetailsHeader = ({ ...detailsHeaderProps }) => {\n  const renderCustomHeaderTooltip = (tooltipHostProps, defaultRender) => {\n    return (\n      <span\n        style={{\n          fontSize: '16px',\n          fontWeight: 'bold'\n        }}\n      >\n        {\n          defaultRender({ ...tooltipHostProps })\n        }\n      </span>\n    );\n  };\n  return (\n    <DetailsHeader\n      {...detailsHeaderProps}\n      onRenderColumnHeaderTooltip={renderCustomHeaderTooltip}\n      styles={{\n        root: {\n          padding: '10px 0'\n        }\n      }}\n    />\n  );\n};\n\nexport const KeyValueList = ({ name, value, onChange, onError, keyName, keyField, valueName, valueField, secret, onValidateKey, onValidateValue }) => {\n  keyName = keyName || 'Key';\n  keyField = keyField || camelCase(keyName);\n  valueName = valueName || 'Value';\n  valueField = valueField || camelCase(valueName);\n\n  const { t } = useTranslation();\n  const [dupList, setDupList] = useState([]);\n\n  useMemo(() => {\n    const keyCount = value.reduce((res, x) => {\n      if (res[x[keyField]] === undefined) {\n        res[x[keyField]] = 0;\n      }\n      res[x[keyField]] += 1;\n      return res;\n    }, {});\n    const newDupList = value.filter(x => keyCount[x[keyField]] > 1).map(x => x[keyField]);\n\n    // const msgId = `KeyValueList ${name}`;\n    let errorMessage = '';\n    if (newDupList.length > 0) {\n      errorMessage = `${name || 'KeyValueList'} has duplicated keys.`;\n    }\n    if (value.some(x => isEmpty(x[keyField]) && !isEmpty(x[valueField]))) {\n      errorMessage = `${name || 'KeyValueList'} has value with empty key.`;\n    }\n    if (!isNil(onValidateKey) || !isNil(onValidateValue)) {\n      for (const item of value) {\n        if (!isNil(onValidateKey)) {\n          const key = item[keyField];\n          const res = onValidateKey(key);\n          if (!isEmpty(res)) {\n            errorMessage = res;\n          }\n        }\n        if (!isNil(onValidateValue)) {\n          const value = item[valueField];\n          const res = onValidateValue(value);\n          if (!isEmpty(res)) {\n            errorMessage = res;\n          }\n        }\n      }\n    }\n    if (onError) {\n      onError(errorMessage);\n    }\n\n    setDupList(newDupList);\n  }, [value]);\n\n  const onAdd = useCallback(() => {\n    onChange([...value, { [keyField]: '', [valueField]: '' }]);\n  }, [onChange, value, keyField, valueField]);\n\n  const onRemove = useCallback(idx => {\n    onChange([...value.slice(0, idx), ...value.slice(idx + 1)]);\n  }, [onChange, value]);\n\n  const onKeyChange = useCallback((idx, val) => {\n    onChange([...value.slice(0, idx), { ...value[idx], [keyField]: val }, ...value.slice(idx + 1)]);\n  }, [onChange, value, keyField]);\n\n  const onValueChange = useCallback((idx, val) => {\n    onChange([...value.slice(0, idx), { ...value[idx], [valueField]: val }, ...value.slice(idx + 1)]);\n  }, [onChange, value, valueField]);\n\n  const getKey = useCallback((item, idx) => idx, []);\n\n  // workaround for fabric's bug\n  // https://github.com/OfficeDev/office-ui-fabric-react/issues/5280#issuecomment-489619108\n  useLayoutEffect(() => {\n    dispatchResizeEvent();\n  });\n\n  const columns = [\n    {\n      key: keyName,\n      name: keyName,\n      minWidth: 320,\n      onRender: (item, idx) => {\n        let errorMessage = null;\n        if (dupList.includes(item[keyField])) {\n          errorMessage = t('duplicateKeyword');\n        }\n        if (isEmpty(item[keyField]) && !isEmpty(item[valueField])) {\n          errorMessage = t('keywordCannotBeEmpty');\n        }\n        if (!isNil(onValidateKey)) {\n          const res = onValidateKey(item[keyField]);\n          if (!isEmpty(res)) {\n            errorMessage = res;\n          }\n        }\n        return (\n          <TextField\n            errorMessage={errorMessage}\n            onChange={(e, val) => onKeyChange(idx, val)}\n            value={item[keyField]}\n          />\n        );\n      }\n    },\n    {\n      key: valueName,\n      name: valueName,\n      minWidth: 170,\n      onRender: (item, idx) => {\n        let errorMessage = null;\n        if (!isNil(onValidateValue)) {\n          const res = onValidateValue(item[valueField]);\n          if (!isEmpty(res)) {\n            errorMessage = res;\n          }\n        }\n        return (\n          <TextField\n            errorMessage={errorMessage}\n            onChange={(e, val) => onValueChange(idx, val)}\n            type={secret && 'password'}\n            value={item[valueField]}\n          />\n        );\n      }\n    },\n    {\n      key: 'remove',\n      name: `${t('delete')}`,\n      minWidth: 70,\n      style: { padding: 0 },\n      onRender: (item, idx) => (\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'baseline',\n            justifyContent: 'center',\n            height: '100%'\n          }}\n        >\n          <IconButton\n            iconProps={{ iconName: 'Delete' }}\n            key={`remove-button-${idx}`}\n            onClick={() => onRemove(idx)}\n          />\n        </div>\n      )\n    }\n  ];\n\n  return (\n    <Stack gap=\"m\">\n      <div>\n        <DetailsList\n          checkboxVisibility={CheckboxVisibility.hidden}\n          columns={columns}\n          compact\n          getKey={getKey}\n          items={value}\n          layoutMode={DetailsListLayoutMode.fixedColumns}\n          onRenderDetailsHeader={onRenderDetailsHeader}\n          onRenderRow={props => {\n            return (\n              <DetailsRow\n                styles={{\n                  root: {\n                    fontSize: '14px',\n                    color: '#333',\n                    selectors: {\n                      '& .ms-TextField': {\n                        width: '100%',\n                        padding: '0 10px'\n                      },\n                      '& .ms-TextField-wrapper': {\n                        width: '100%'\n                      }\n                    }\n                  },\n                  cell: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    padding: '6px 0'\n                  }\n                }}\n                {...props}\n              />\n            );\n          }}\n          selectionMode={SelectionMode.none}\n        />\n      </div>\n      <div style={{ padding: '0 10px' }}>\n        <DefaultButton\n          iconProps={{ iconName: 'Add' }}\n          onClick={onAdd}\n        >\n          {t('Add')}\n        </DefaultButton>\n      </div>\n    </Stack>\n  );\n};\n\nKeyValueList.propTypes = {\n  name: PropTypes.string,\n  value: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onError: PropTypes.func,\n  // custom field\n  secret: PropTypes.bool,\n  columnWidth: PropTypes.number,\n  keyName: PropTypes.string,\n  keyField: PropTypes.string,\n  valueName: PropTypes.string,\n  valueField: PropTypes.string,\n  // validation\n  onValidateKey: PropTypes.func,\n  onValidateValue: PropTypes.func\n};\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { KeyValueList } from './KeyValueList';\nimport PropTypes from 'prop-types';\n\nconst ParametersList = ({ parameters, setParameters }) => {\n  const { t } = useTranslation();\n  const onPortChange = v => setParameters(v);\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column'\n      }}\n    >\n      <KeyValueList\n        keyField=\"key\"\n        keyName={t('keyword')}\n        name=\"Parameter List\"\n        onChange={onPortChange}\n        value={parameters}\n        valueField=\"value\"\n        valueName={t('Value')}\n      />\n    </div>\n  );\n};\n\nParametersList.propTypes = {\n  parameters: PropTypes.array,\n  setParameters: PropTypes.func\n}\n\nexport default ParametersList;","import React from 'react';\nimport { mergeStyles } from 'office-ui-fabric-react';\nimport { DefaultButton, PrimaryButton } from 'components/BaseFluentButton';\nimport StorageSetting from './Step4/StorageSetting';\nimport Parameter from './Step4/Parameter';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport styles from './Step4.module.scss';\n\nexport const Step4 = ({ nfsInfo, glusterfsInfo, nfsMounts, setNfsMountsState, setGlusterfsMountsState, glusterfsMounts, parameters, setParameters, resetDefault, setActiveStep, step2State }) => {\n  const { t } = useTranslation();\n  return (\n    <div className={`${styles.container} ${styles.paddingBottom72}`}>\n      <StorageSetting\n        glusterfsInfo={glusterfsInfo}\n        glusterfsMounts={glusterfsMounts}\n        nfsInfo={nfsInfo}\n        nfsMounts={nfsMounts}\n        setGlusterfsMountsState={setGlusterfsMountsState}\n        setNfsMountsState={setNfsMountsState}\n      />\n      <Parameter\n        parameters={parameters}\n        setParameters={setParameters}\n      />\n      <div className={`${styles.width100} ${styles.footer}`}>\n        <DefaultButton\n          onClick={() => resetDefault()}\n          text={t('cancel')}\n        />\n        <div>\n          <PrimaryButton\n            onClick={() => {\n              if (!step2State.isModify) {\n                setActiveStep((prevActiveStep) => prevActiveStep - 2)\n              } else {\n                setActiveStep((prevActiveStep) => prevActiveStep - 1)\n              }\n            }}\n            text={t('Back')}\n          />\n          <PrimaryButton\n            className={mergeStyles({ marginLeft: '10px' })}\n            onClick={() => setActiveStep((prevActiveStep) => prevActiveStep + 1)}\n            text={t('Next')}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nStep4.propTypes = {\n  nfsInfo: PropTypes.array,\n  glusterfsInfo: PropTypes.array,\n  nfsMounts: PropTypes.array,\n  setNfsMountsState: PropTypes.func,\n  setGlusterfsMountsState: PropTypes.func,\n  glusterfsMounts: PropTypes.array,\n  parameters: PropTypes.array,\n  setParameters: PropTypes.func,\n  setActiveStep: PropTypes.func,\n  resetDefault: PropTypes.func,\n  step2State: PropTypes.object\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './index.module.scss';\n\nconst Disk = ({ data }) => {\n  return (\n    <div className={styles.container}>\n      <span />\n      <span />\n      <span />\n      <span />\n      <div className={styles.content}>\n        <p>DISK</p>\n        <p>\n          <b>{data}</b>\n          GB\n        </p>\n      </div>\n    </div>\n  );\n};\n\nDisk.propTypes = {\n  data: PropTypes.number\n};\n\nexport default Disk;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './index.module.scss';\n\nconst GPU = ({ data = {} }) => {\n  return (\n    <div className={styles.container}>\n      <span />\n      <span />\n      <span />\n      <span />\n      <div className={styles.content}>\n        <p>GPU</p>\n        <p>{data.num ? data.num : 0}</p>\n        <sub>{data.type ? data.type : ''}</sub>\n      </div>\n    </div>\n  );\n};\n\nGPU.propTypes = {\n  data: PropTypes.object\n};\n\nexport default GPU;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './index.module.scss';\n\nconst CPU = ({ data }) => {\n  return (\n    <div className={styles.container}>\n      <span className={styles.vertical} />\n      <span className={styles.vertical} />\n      <span className={styles.vertical} />\n      <span className={styles.vertical} />\n      <span className={styles.vertical} />\n      <span className={styles.vertical} />\n      <span className={styles.vertical} />\n      <span className={styles.vertical} />\n      <span className={styles.vertical} />\n      <span className={styles.vertical} />\n      <span className={styles.horizontal} />\n      <span className={styles.horizontal} />\n      <span className={styles.horizontal} />\n      <span className={styles.horizontal} />\n      <span className={styles.horizontal} />\n      <span className={styles.horizontal} />\n      <span className={styles.horizontal} />\n      <span className={styles.horizontal} />\n      <span className={styles.horizontal} />\n      <span className={styles.horizontal} />\n      <div className={styles.content}>\n        <div className={styles.cpu}>\n          <p>CPU</p>\n          <p>\n            <b>{data}</b>\n            Cores\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nCPU.propTypes = {\n  data: PropTypes.number\n};\n\nexport default CPU;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './index.module.scss';\nimport { KB } from 'constant';\n\nconst Ram = ({ data = 0 }) => {\n  return (\n    <div className={styles.container}>\n      <span />\n      <span />\n      <span />\n      <span />\n      <div className={styles.content}>\n        <p>RAM</p>\n        <p>\n          <b>{(data / KB).toFixed(2)}</b>GB\n        </p>\n      </div>\n    </div>\n  );\n};\n\nRam.propTypes = {\n  data: PropTypes.number\n};\n\nexport default Ram;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport styles from './index.module.scss';\n\nconst Shm = ({ data = 0 }) => {\n  return (\n    <div className={classnames(styles.container, styles.shm)}>\n      <span />\n      <span />\n      <span />\n      <div className={styles.content}>\n        <p>SHM</p>\n        <p>\n          <b>{data}</b>MB\n        </p>\n      </div>\n    </div>\n  );\n};\n\nShm.propTypes = {\n  data: PropTypes.number\n};\n\nexport default Shm;","import React from 'react';\nimport PropTypes from 'prop-types';\n// import { useTranslation } from 'react-i18next';\nimport classNames from 'classnames';\nimport { Stack } from 'office-ui-fabric-react';\n// import BaseModal from 'components/BaseModal'\nimport Disk from './Disk';\nimport GPU from './GPU';\nimport CPU from './CPU';\nimport RAM from './Memory/Ram';\nimport SHM from './Memory/Shm';\n\nimport styles from './index.module.scss';\n\nconst Preview = ({ data = {} }) => {\n  // const { t } = useTranslation()\n  return (\n    <>\n      <Stack.Item\n        styles={{ \n          root: {\n            width: 600,\n            display: 'flex',\n            justifyContent: 'space-between'\n          } \n        }}\n      >\n        <div className={styles.container1}>\n          <div className={styles.cell}>\n            <Disk data={data.disk} />\n          </div>\n          <div className={classNames(styles.cell, styles.small)}>\n            <div\n              className={styles.normal}\n              style={{ borderColor: '#B55108' }}\n            >\n              <p style={{ color: '#B55108' }}>NFS</p>\n              <p><b>{data.nfs && data.nfs.toFixed(2)}</b>GB</p>\n            </div>\n          </div>\n          <div\n            className={classNames(styles.cell, styles.small)}\n          >\n            <div\n              className={styles.normal}\n              style={{ borderColor: '#FF7C43' }}\n            >\n              <p style={{ color: '#FF7C43' }}>Gluster FS</p>\n              <p><b>{data.glusterfs && data.glusterfs.toFixed(2)}</b>GB</p>\n            </div>\n          </div>\n          <div\n            className={classNames(styles.cell, styles.small)}\n          >\n            <div\n              className={styles.normal}\n              style={{ borderColor: data.rdma ? '#0793D1' : '#A19F9D' }}\n            >\n              <p style={{ color: data.rdma ? '#0793D1' : '#A19F9D' }}>RDMA</p>\n              <i\n                className={`fa fa-${data.rdma ? 'check' : 'times'}`}\n                style={{ color: data.rdma ? '#0793D1' : '#A19F9D' }}\n              />\n            </div>\n          </div>\n          <div className={classNames(styles.cell, styles.small)}>\n            <CPU data={data.cpu} />\n          </div>\n          <div className={classNames(styles.cell, styles.gpu)}>\n            <GPU data={data.gpu} />\n          </div>\n        </div>\n        <RAM data={data.ram} />\n        <SHM data={data.shm} />\n      </Stack.Item>\n    </>\n  );\n};\n\nPreview.propTypes = {\n  data: PropTypes.object,\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  onSubmit: PropTypes.func,\n  nfs: PropTypes.number,\n  glusterfs: PropTypes.number\n}\n\nexport default Preview;","import moment from 'moment';\nexport class JobFinalData {\n  constructor(props) {\n    const { modify, step1State, jobTaskRoles, nfsMounts, glusterfsMounts, parameters, userInfo } = props;\n\n    this.name = step1State.name || '';\n    this.users = step1State.user !== undefined ? [step1State.user] : [userInfo.username],\n    this.startAt = moment(step1State.startAt).seconds(0).milliseconds(0).valueOf();\n    this.endAt = moment(step1State.endAt).seconds(0).milliseconds(0).valueOf();\n    this.cpu = jobTaskRoles.reduce((acc, item) => acc + item.containerSize.cpu, jobTaskRoles.length);\n    this.memory = jobTaskRoles.reduce((acc, item) => acc + item.containerSize.memoryMB, jobTaskRoles.length * 1024);\n    this.storage = jobTaskRoles.reduce((acc, item) => acc + item.containerSize.storageGB, 0);\n    this.virtualGroup = modify ? null : step1State.virtualGroup;\n    this.gpu = step1State.gpuType ? {\n      ...step1State.gpu,\n      [step1State.gpuType]: jobTaskRoles.reduce((acc, item) => acc + item.containerSize.gpu, 0)\n    } : {}\n    this.jobConfig = {\n      jobName: step1State.jobName,\n      gpuType: step1State.gpuType,\n      retryCount: step1State.retryCount,\n      taskRoles: jobTaskRoles.map(item => ({\n        name: item.name,\n        dockerImage: {\n          uri: item.dockerInfo.uri\n        },\n        taskNumber: item.instances,\n        cpuNumber: item.containerSize.cpu,\n        memoryMB: item.containerSize.memoryMB,\n        shmMB: item.shmMB,\n        gpuNumber: item.containerSize.gpu,\n        storageGB: item.containerSize.storageGB,\n        minFailedTaskCount: item.completion.minFailedInstances,\n        minSucceededTaskCount: item.completion.minSucceededInstances,\n        command: item.commands.split(/\\s*\\n\\s*/).map(item => item.trim()).filter(item => item).join(' && '),\n        portList: item.ports && item.ports.map(({ key, value }) => ({\n          label: key,\n          beginAt: value,\n          portNumber: 1\n        }))\n      })),\n      jobEnvs: parameters && parameters.reduce((acc, curr) => {\n        if (!curr.key) return acc\n        return {\n          ...acc,\n          [curr.key]: curr.value\n        }\n      }, {}),\n      extras: {\n        nfsList: nfsMounts.filter(nfsMount => nfsMount.name !== '' || nfsMount.mountPoint !== ''),\n        glusterfsList: glusterfsMounts.filter(nfsMount => nfsMount.name !== '' || nfsMount.mountPoint !== ''),\n        virtualGroup: step1State.virtualGroup\n      }\n    }\n  }\n}","import React, { useContext } from 'react';\nimport { mergeStyles } from 'office-ui-fabric-react';\nimport { DefaultButton, PrimaryButton } from 'components/BaseFluentButton';\nimport PreviewModal from './Step5/PreviewModal';\nimport { JobFinalData } from '../model/JobFinalData';\nimport Context from '../Context';\nimport { createJobSchedule, updateJobSchedule } from 'utils/api';\nimport { useTranslation } from 'react-i18next';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\n\nexport const Step5 = ({ data, resetDefault, setActiveStep, step1State, jobTaskRoles, nfsMounts, glusterfsMounts, parameters, dataId }) => {\n  const { t } = useTranslation();\n  const { userInfo } = useContext(Context);\n  const onSubmit = async (data) => {\n    try {\n      dataId ? await updateJobSchedule(dataId, data) : await createJobSchedule(data)\n      toast.success(t('success'));\n      resetDefault()\n    } catch (err) {\n      if (err.data && err.data.message === 'startAt must >= now') {\n        toast.error(`${t('time')}${t('enSpace')}${t('error')}`)\n      } else {\n        toast.error(err.data ? err.data.message : err.message)\n      }\n    }\n  }\n\n  return (\n    <div style={{ height: '480px', marginTop: '10px', marginBottom: '10px', padding: '0 20px 72px' }}>\n      <PreviewModal data={data} />\n      <div style={{ display: 'flex', justifyContent: 'space-between', position: 'absolute', bottom: '20px', left: 0, padding: '0 20px', width: '100%' }}>\n        <DefaultButton\n          onClick={() => resetDefault()}\n          text={t('cancel')}\n        />\n        <div>\n          <DefaultButton\n            onClick={() => setActiveStep((prevActiveStep) => prevActiveStep - 1)}\n            text={t('Back')}\n          />\n          <PrimaryButton\n            className={mergeStyles({ marginLeft: '10px' })}\n            onClick={() => {\n              onSubmit(new JobFinalData({ modify: dataId ? true : false, step1State, jobTaskRoles, nfsMounts, glusterfsMounts, parameters, userInfo }))\n            }}\n            text={t('submit')}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nStep5.propTypes = {\n  data: PropTypes.object,\n  resetDefault: PropTypes.func,\n  setActiveStep: PropTypes.func,\n  step1State: PropTypes.object,\n  jobTaskRoles: PropTypes.object,\n  nfsMounts: PropTypes.array,\n  glusterfsMounts: PropTypes.array,\n  parameters: PropTypes.array,\n  dataId: PropTypes.number\n}\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Icon } from 'office-ui-fabric-react';\nimport { useTranslation } from 'react-i18next';\nimport { BaseStepper } from 'components/BaseStepper';\nimport { JobTaskRole } from 'views/Schedule/components/models/job-task-role';\nimport { GB } from 'constant';\nimport styles from './CreateSchedule.module.scss';\nimport PropTypes from 'prop-types';\nimport { isEmpty } from 'lodash';\nimport GlobalContext from 'layouts/Main/GlobalContext'\nimport Context from './Context';\nimport { getUserNfs, getUsersGlusterfs } from 'utils/api';\nimport { Step1, Step2, Step3, Step4, Step5 } from './steps';\n\nfunction CreateSchedule({ onClose, selectedVg, selectedVgHasGpu, createDate, getData, canUseVg }) {\n  const { t } = useTranslation();\n  const { userInfo } = useContext(GlobalContext);\n  const currentUserName = userInfo.username;\n  const [nfsInfo, setNfsInfo] = useState([]);\n  const [glusterfsInfo, setGlusterfsInfo] = useState([]);\n  const [errorMessage, setErrorMessageState] = useState({});\n  const [activeStep, setActiveStep] = useState(0);\n  const [isPrvScheduledJob, setIsPreScheduledJob] = useState(true);\n  const [alreadyUsedResource, setAlreadyUsedResource] = useState({});\n\n  const steps = [\n    t('schedule-step1Name'),\n    t('schedule-step2Name'),\n    t('schedule-step3Name'),\n    t('schedule-step4Name'),\n    t('schedule-step5Name')\n  ]\n\n  const defaultStep1 = {\n    name: '',\n    virtualGroup: selectedVg,\n    cpu: 0,\n    gpu: {},\n    memory: 0,\n    storage: 0,\n    startAt: null,\n    endAt: null,\n    jobName: `${userInfo.username}_${Date.now()}`,\n    retryCount: 0,\n    gpuType: ''\n  }\n\n  const defaultStep2 = {\n    selectedKey: null,\n    isModify: true,\n    templateInfo: {}\n  }\n\n  const [step1State, setStep1State] = useState(defaultStep1);\n  const [step2State, setStep2State] = useState(defaultStep2);\n\n  const [jobTaskRoles, setJobTaskRoles] = useState([\n    new JobTaskRole({ name: 'Task_role_1', commands: 'sleep infinity' })\n  ]);\n\n  const [nfsMounts, setNfsMountsState] = useState([\n    { name: '', mountPoint: '' }\n  ]);\n  const [glusterfsMounts, setGlusterfsMountsState] = useState([\n    { name: '', mountPoint: '' }\n  ]);\n  const [parameters, setParameters] = useState([{ key: '', value: '' }]);\n\n  const getSteps = (activeStep) => {\n    switch (activeStep) {\n      case 0:\n        return (\n          <Step1\n            createDate={createDate}\n            defaultStep1={defaultStep1}\n            isPrvScheduledJob={isPrvScheduledJob}\n            resetDefault={resetDefault}\n            selectedVg={selectedVg}\n            selectedVgHasGpu={selectedVgHasGpu}\n            selectedVgUsers={[]}\n            setActiveStep={setActiveStep}\n            setAlreadyUsedResource={setAlreadyUsedResource}\n            setIsPreScheduledJob={setIsPreScheduledJob}\n            setStep1State={setStep1State}\n            step1State={step1State}\n          />\n        );\n      case 1:\n        return (\n          <Step2\n            resetDefault={resetDefault}\n            setActiveStep={setActiveStep}\n            setJobTaskRoles={setJobTaskRoles}\n            setStep2State={setStep2State}\n            step2State={step2State}\n          />\n        );\n      case 2:\n        return (\n          <Step3\n            alreadyUsedResource={alreadyUsedResource}\n            currentUserName={currentUserName}\n            data={{\n              cpu: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.cpu, 0) + (jobTaskRoles.length),\n              disk: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.storageGB, 0),\n              ram: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.memoryMB, 0) + (1024 * jobTaskRoles.length),\n              gpu: {\n                num: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.gpu, 0),\n                type: step1State.gpuType\n              }\n            }}\n            jobTaskRoles={jobTaskRoles}\n            resetDefault={resetDefault}\n            setActiveStep={setActiveStep}\n            setJobTaskRoles={setJobTaskRoles}\n            step2State={step2State}\n            vgState={canUseVg.find(item => item.name === selectedVg)}\n          />\n        );\n      case 3:\n        return (\n          <Step4\n            glusterfsInfo={glusterfsInfo}\n            glusterfsMounts={glusterfsMounts}\n            nfsInfo={nfsInfo}\n            nfsMounts={nfsMounts}\n            parameters={parameters}\n            resetDefault={resetDefault}\n            setActiveStep={setActiveStep}\n            setGlusterfsMountsState={setGlusterfsMountsState}\n            setNfsMountsState={setNfsMountsState}\n            setParameters={setParameters}\n            step2State={step2State}\n          />\n        );\n      default:\n        return (\n          <Step5\n            data={{\n              disk: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.storageGB, 0),\n              cpu: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.cpu, 0) + jobTaskRoles.length,\n              gpu: {\n                num: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.gpu, 0),\n                type: Object.keys(step1State.gpu)[0]\n              },\n              rdma: parameters.find(param => param.key === 'paiAzRDMA') && parameters.find(param => param.key === 'paiAzRDMA').value === 'true' ? true : false,\n              ram: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.memoryMB, 0) + (1024 * jobTaskRoles.length),\n              shm: jobTaskRoles.reduce((acc, curr) => acc += curr.shmMB, 0),\n              nfs: nfsMounts.reduce((acc, curr) => {\n                const findData = nfsInfo.find(item => item.name === curr.name);\n                if (!findData) return acc\n\n                const { used, size } = findData\n                return acc += (((size * GB) - used) / GB)\n              }, 0),\n              glusterfs: glusterfsMounts.reduce((acc, curr) => {\n                if (!glusterfsInfo.find(fs => fs.name === curr.name)) return acc\n\n                const { available } = glusterfsInfo.find(fs => fs.name === curr.name)\n\n                return acc += available / 1048576\n              }, 0)\n            }}\n            glusterfsMounts={glusterfsMounts}\n            jobTaskRoles={jobTaskRoles}\n            nfsMounts={nfsMounts}\n            parameters={parameters}\n            resetDefault={resetDefault}\n            setActiveStep={setActiveStep}\n            step1State={step1State}\n            vgState={canUseVg.find(item => item.name === selectedVg)}\n          />\n        );\n    }\n  }\n\n  const setErrorMessage =\n    (id, msg) => {\n      setErrorMessageState(prev => {\n        if (isEmpty(msg)) {\n          if (prev !== undefined && prev[id] !== undefined) {\n            const updated = { ...prev };\n            delete updated[id];\n            return updated;\n          }\n        } else {\n          if (prev !== undefined && prev[id] !== msg) {\n            return {\n              ...prev,\n              [id]: msg\n            };\n          }\n        }\n        return prev;\n      });\n    }\n\n  useEffect(() => {\n    if (isEmpty(userInfo)) return;\n    Promise.all([getUserNfs(currentUserName), getUsersGlusterfs(currentUserName)])\n      .then(([nfs, glusterfs]) => {\n        setNfsInfo(nfs)\n        setGlusterfsInfo(glusterfs)\n      })\n  }, [userInfo])\n\n  const resetDefault = () => {\n    onClose()\n    setStep1State(defaultStep1)\n    setStep2State(defaultStep2)\n    getData(selectedVg)\n  }\n\n  const context = {\n    userInfo,\n    setErrorMessage,\n    errorMessage,\n    setErrorMessageState,\n    activeStep\n  }\n\n  return (\n    <Context.Provider value={context}>\n      <div className={styles.form}>\n        <div className={styles.title}>\n          <div className={styles.title__left}>\n            {t('add')}{t('enSpace')}{t('schedule')}\n          </div>\n          <div className={styles.title__right}>\n            <div className={styles.title__right__icon}>\n              <Icon\n                iconName={'Cancel'}\n                onClick={() => {\n                  resetDefault()\n                }}\n              />\n            </div>\n          </div>\n        </div>\n\n        <BaseStepper\n          activeStep={activeStep}\n          steps={steps}\n        />\n        {getSteps(activeStep)}\n      </div>\n    </Context.Provider>\n  );\n}\n\nCreateSchedule.propTypes = {\n  onClose: PropTypes.func,\n  createDate: PropTypes.instanceOf(Date),\n  getData: PropTypes.func,\n  selectedVg: PropTypes.string,\n  selectedVgHasGpu: PropTypes.bool,\n  canUseVg: PropTypes.array\n}\n\nexport default CreateSchedule;","import React, { useState, useEffect, useContext } from 'react';\nimport { Icon, Modal } from 'office-ui-fabric-react';\nimport { BaseStepper } from 'components/BaseStepper';\nimport { JobTaskRole } from 'views/Schedule/components/models/job-task-role';\nimport { DockerInfo } from 'views/Schedule/components/models/docker-info';\nimport { Completion } from './components/completion';\n\nimport Context from './Context';\nimport GlobalContext from 'layouts/Main/GlobalContext';\nimport { GB } from 'constant';\n\nimport { isEmpty } from 'lodash';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\n\nimport { getUserNfs, getUsersGlusterfs } from 'utils/api';\nimport styles from './ModifyScheduleModal.module.scss';\nimport { Step1, Step2, Step3, Step4, Step5 } from './steps';\n\nconst ModifyScheduleModal = ({ onClose, isOpen, selectedVg, selectedVgHasGpu, data, getData, canUseVg }) => {\n  const { t } = useTranslation();\n  const { userInfo } = useContext(GlobalContext);\n  const currentUserName = userInfo.username;\n  const [nfsInfo, setNfsInfo] = useState([]);\n  const [glusterfsInfo, setGlusterfsInfo] = useState([]);\n  const [errorMessage, setErrorMessageState] = useState({});\n  const [activeStep, setActiveStep] = useState(0);\n  const [isPrvScheduledJob, setIsPreScheduledJob] = useState(true);\n  const [alreadyUsedResource, setAlreadyUsedResource] = useState({});\n\n  const steps = [\n    t('schedule-step1Name'),\n    t('schedule-step2Name'),\n    t('schedule-step3Name'),\n    t('schedule-step4Name'),\n    t('schedule-step5Name')\n  ]\n\n  const defaultStep1 = {\n    name: '',\n    // virtualGroup: selectedVg,\n    cpu: 0,\n    gpu: {},\n    memory: 0,\n    storage: 0,\n    startAt: null,\n    endAt: null,\n    jobName: `${userInfo.username}_${Date.now()}`,\n    retryCount: 0,\n    gpuType: '',\n    taskRoles: 1\n  }\n\n  const defaultStep2 = {\n    selectedKey: null,\n    isModify: true,\n    templateInfo: {}\n  }\n\n  const [step1State, setStep1State] = useState(defaultStep1);\n  const [step2State, setStep2State] = useState(defaultStep2);\n\n  const [jobTaskRoles, setJobTaskRoles] = useState([\n    new JobTaskRole({ name: 'Task_role_1', commands: 'sleep infinity' })\n  ]);\n\n  const [nfsMounts, setNfsMountsState] = useState([\n    // { name: '', mountPoint: '' }\n  ]);\n  const [glusterfsMounts, setGlusterfsMountsState] = useState([\n    // { name: '', mountPoint: '' }\n  ]);\n  const [parameters, setParameters] = useState([\n    // { key: '', value: '' }\n  ]);\n\n  const getSteps = (activeStep) => {\n    switch (activeStep) {\n      case 0:\n        return (\n          <Step1\n            createDate={null}\n            dataId={data.id}\n            defaultStep1={defaultStep1}\n            isPrvScheduledJob={isPrvScheduledJob}\n            resetDefault={resetDefault}\n            selectedVg={selectedVg}\n            selectedVgHasGpu={selectedVgHasGpu}\n            selectedVgUsers={[]}\n            setActiveStep={setActiveStep}\n            setAlreadyUsedResource={setAlreadyUsedResource}\n            setIsPreScheduledJob={setIsPreScheduledJob}\n            setStep1State={setStep1State}\n            step1State={step1State}\n          />\n        );\n      case 1:\n        return (\n          <Step2\n            resetDefault={resetDefault}\n            setActiveStep={setActiveStep}\n            setJobTaskRoles={setJobTaskRoles}\n            setStep2State={setStep2State}\n            step2State={step2State}\n          />\n        );\n      case 2:\n        return (\n          <Step3\n            alreadyUsedResource={alreadyUsedResource}\n            currentUserName={currentUserName}\n            data={{\n              cpu: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.cpu, 0) +  (jobTaskRoles.length),\n              disk: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.storageGB, 0),\n              ram: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.memoryMB, 0) +  (1024 * jobTaskRoles.length),\n              gpu: {\n                num: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.gpu, 0),\n                type: step1State.gpuType\n              }\n            }}\n            dataId={data.id}\n            jobTaskRoles={jobTaskRoles}\n            resetDefault={resetDefault}\n            setActiveStep={setActiveStep}\n            setJobTaskRoles={setJobTaskRoles}\n            step2State={step2State}\n            vgState={canUseVg.find(item => item.name === selectedVg)}\n          />\n        );\n      case 3:\n        return (\n          <Step4\n            glusterfsInfo={glusterfsInfo}\n            glusterfsMounts={glusterfsMounts}\n            nfsInfo={nfsInfo}\n            nfsMounts={nfsMounts}\n            parameters={parameters}\n            resetDefault={resetDefault}\n            setActiveStep={setActiveStep}\n            setGlusterfsMountsState={setGlusterfsMountsState}\n            setNfsMountsState={setNfsMountsState}\n            setParameters={setParameters}\n            step2State={step2State}\n          />\n        );\n      default:\n        return (\n          <Step5\n            data={{\n              disk: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.storageGB, 0),\n              cpu: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.cpu, 0) + (jobTaskRoles.length),\n              gpu: {\n                num: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.gpu, 0),\n                type: Object.keys(step1State.gpu)[0]\n              },\n              rdma: parameters.find(param => param.key === 'paiAzRDMA') && parameters.find(param => param.key === 'paiAzRDMA').value === 'true' ? true : false,\n              ram: jobTaskRoles.reduce((acc, curr) => acc += curr.containerSize.memoryMB, 0) +  (1024 * jobTaskRoles.length),\n              shm: jobTaskRoles.reduce((acc, curr) => acc += curr.shmMB, 0),\n              nfs: nfsMounts.reduce((acc, curr) => {\n                const findData = nfsInfo.find(item => item.name === curr.name);\n                if (!findData) return acc\n\n                const { used, size } = findData\n                return acc += (((size * GB) - used) / GB)\n              }, 0),\n              glusterfs: glusterfsMounts.reduce((acc, curr) => {\n                if (!glusterfsInfo.find(fs => fs.name === curr.name)) return acc\n\n                const { available } = glusterfsInfo.find(fs => fs.name === curr.name)\n\n                return acc += available / 1048576\n              }, 0)\n            }}\n            dataId={data.id}\n            glusterfsMounts={glusterfsMounts}\n            jobTaskRoles={jobTaskRoles}\n            nfsMounts={nfsMounts}\n            parameters={parameters}\n            resetDefault={resetDefault}\n            setActiveStep={setActiveStep}\n            step1State={step1State}\n          />\n        );\n    }\n  }\n\n  const setErrorMessage =\n    (id, msg) => {\n      setErrorMessageState(prev => {\n        if (isEmpty(msg)) {\n          if (prev !== undefined && prev[id] !== undefined) {\n            const updated = { ...prev };\n            delete updated[id];\n            return updated;\n          }\n        } else {\n          if (prev !== undefined && prev[id] !== msg) {\n            return {\n              ...prev,\n              [id]: msg\n            };\n          }\n        }\n        return prev;\n      });\n    }\n\n  useEffect(() => {\n    if (isEmpty(userInfo)) return;\n    Promise.all([getUserNfs(currentUserName), getUsersGlusterfs(currentUserName)])\n      .then(([nfs, glusterfs]) => {\n        setNfsInfo(nfs)\n        setGlusterfsInfo(glusterfs)\n      })\n  }, [userInfo])\n\n  useEffect(() => {\n    if (!isEmpty(data)) {\n      setStep1State(prev => {\n        const { name, cpu, memory, storage, gpu, startAt, endAt, jobConfig, users } = data;\n        return {\n          ...prev, name, startAt, endAt, storage, gpu, users, cpu, memory,\n          gpuType: !isEmpty(data.gpu) ? Object.keys(data.gpu)[0] : '',\n          virtualGroup: selectedVg,\n          jobName: jobConfig !== null ? jobConfig.jobName : `${userInfo.username}_${Date.now()}`,\n          retryCount: jobConfig !== null ? jobConfig.retryCount : 0\n        }\n      })\n      const { jobConfig } = data\n      if (jobConfig !== null) {\n        const { extras, taskRoles } = jobConfig;\n        const newTaskRoles = taskRoles && taskRoles.map && taskRoles.map(item => {\n          const { name: taskRoleName, dockerImage, taskNumber, cpuNumber, shmMB, minFailedTaskCount, minSucceededTaskCount, command, portList, storageGB, memoryMB, gpuNumber } = item\n          return (\n            new JobTaskRole({\n              name: taskRoleName,\n              dockerInfo: new DockerInfo(dockerImage),\n              instances: taskNumber,\n              ports: portList && portList.map(port => ({ key: port.label, value: port.beginAt })),\n              commands: command,\n              completion: new Completion({ minFailedInstances: minFailedTaskCount, minSucceededInstances: minSucceededTaskCount }),\n              containerSize: { gpu: gpuNumber, cpu: cpuNumber, storageGB, memoryMB },\n              shmMB\n            })\n          )\n        })\n        setNfsMountsState(extras.nfsList)\n        setGlusterfsMountsState(extras.glusterfsList)\n        setJobTaskRoles(newTaskRoles)\n      } else {\n        setIsPreScheduledJob(false)\n      }\n    }\n  }, [data])\n\n  const resetDefault = () => {\n    onClose()\n    setStep1State(defaultStep1)\n    setStep2State(defaultStep2)\n    getData(selectedVg)\n  }\n\n  const context = {\n    userInfo,\n    setErrorMessage,\n    errorMessage,\n    setErrorMessageState,\n    activeStep\n  }\n\n  return (\n    <Context.Provider value={context}>\n      <div className={styles.form}>\n        <Modal\n          isOpen={isOpen}\n          styles={\n            {\n              main: {\n                height: window.innerHeight >= 750 ? 750 : window.innerHeight,\n                width: window.innerWidth >= 700 ? 700 : window.innerWidth,\n                padding: '20px',\n                overflow: 'hidden'\n              },\n              scrollableContent: { maxHeight: '', height: '100%' },\n              layer: { zIndex: 1030 }\n            }\n          }\n        >\n          <div className={styles.title}>\n            <div className={styles.name}>\n              {t('modify')}{t('enSpace')}{t('schedule')}\n            </div>\n            <div className={styles.icons}>\n              <Icon\n                iconName={'Cancel'}\n                onClick={() => {\n                  resetDefault()\n                }}\n                styles={{ root: { cursor: 'pointer' } }}\n              />\n            </div>\n          </div>\n          <BaseStepper\n            activeStep={activeStep}\n            steps={steps}\n          />\n          {getSteps(activeStep)}\n        </Modal>\n      </div>\n    </Context.Provider>\n  );\n};\n\nModifyScheduleModal.propTypes = {\n  onClose: PropTypes.func,\n  isOpen: PropTypes.bool,\n  data: PropTypes.object,\n  getData: PropTypes.func,\n  selectedVg: PropTypes.string,\n  selectedVgHasGpu: PropTypes.bool,\n  canUseVg: PropTypes.array\n};\n\nexport default ModifyScheduleModal;","export const fakeCanUseVirtualGroup = [\n  {\n    'name': 'total',\n    'cpu': 4,\n    'memory': 7168,\n    'gpu': {\n      'P106-100': 1\n    },\n    'storage': 111,\n    'users': [\n      'jacktest',\n      'isaac',\n      'notAdmin',\n      'harbor',\n      'adminasdasdjkl'\n    ],\n    'resource': null,\n    'schedulable': false\n  },\n  {\n    'name': 'test',\n    'cpu': 2,\n    'memory': 2048,\n    'gpu': {},\n    'storage': 5,\n    'users': [\n      'ff',\n      'normal',\n      'haha',\n      'trytryy',\n      'fortestonly',\n      'maybe',\n      'nicktest',\n      'what1',\n      'jacktest',\n      'odin2',\n      'gygy',\n      'white',\n      'qqqq',\n      'jk002',\n      'onetest',\n      'testtest',\n      'qwerqwer',\n      'elvis',\n      'wfhwfh001',\n      'lsls',\n      'elvistest'\n    ],\n    'resource': 'system',\n    'schedulable': true\n  },\n  {\n    'name': 'aaaaa',\n    'cpu': 1,\n    'memory': 3000,\n    'gpu': {\n      'P106-100': 1\n    },\n    'storage': 20,\n    'users': [\n      'felix',\n      'user01',\n      'elvis'\n    ],\n    'resource': '1',\n    'schedulable': false\n  }\n]","import React, { useState, useEffect, useContext } from 'react';\nimport BaseCalendar from 'components/BaseCalendar';\nimport BreadCrumbs from 'components/BreadCrumbs';\nimport { DefaultButton, PrimaryButton } from 'components/BaseFluentButton';\nimport { Stack, StackItem, Callout, Dropdown, mergeStyles } from 'office-ui-fabric-react';\nimport { Icon } from 'office-ui-fabric-react/lib/Icon';\nimport ViewSchedule from './ViewSchedule';\nimport CreateSchedule from './CreateSchedule';\nimport { TooltipHost, DirectionalHint } from 'office-ui-fabric-react/lib/Tooltip';\nimport { useTranslation } from 'react-i18next';\nimport GlobalContext from 'layouts/Main/GlobalContext';\nimport ModifyScheduleModal from './ModifyScheduleModal';\nimport indexStyles from './index.module.scss';\n\nimport { getJobSchedule, getCanUseVirtualGroups } from 'utils/api';\nimport { toast } from 'react-toastify';\nimport { isEmpty } from 'lodash';\nimport moment from 'moment';\n\nimport { fakeCanUseVirtualGroup } from './fakeData';\n\nconst Schedule = () => {\n  const { userInfo } = useContext(GlobalContext);\n  const { t } = useTranslation();\n  const [canUseVg, setCanUseVg] = useState([]);\n  const [selectedVg, setSelectedVg] = useState();\n  const [selectedVgHasGpu, setSelectedVgHasGpu] = useState(false);\n  const [selectedVgKey, setSelectedVgKey] = useState(0);\n  const [schedules, setSchedules] = useState([]);\n  const [target, setTarget] = useState({ dayEl: null, el: null });\n  const [createDate, setCreateDate] = useState();\n  const [modifyData, setModifyData] = useState({});\n  const [isCalloutVisible, setIsCalloutVisible] = useState(false);\n  const [dropdownSelectedKey, setDropdownSelectedKey] = useState();\n  const [filterSchedulesList, setFilterSchedulesList] = useState([]);\n  const [isModifyScheduleModalShow, setIsModifyScheduleModalShow] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const addDropDownOptionKeys = optionItems => {\n    return optionItems.map((item, index) => ({\n      key: index,\n      text: item.name,\n      data: item.data,\n      ...item\n    }));\n  };\n\n  const selectColor = key => {\n    const state = ['all', 'accept', 'pending', 'deny'];\n    const colors = ['blue', 'green', 'orange', 'red'];\n    return colors[state.indexOf(key)];\n  };\n\n  const getData = selectedVg => {\n    setIsLoading(true)\n    getJobSchedule({ virtualGroup: selectedVg })\n      .then(data => {\n        setSchedules(data\n          .filter(item => item.users.some(name => name === userInfo.username))\n          .map(item => {\n            const color = (state) => {\n              switch (state) {\n                case 1:\n                default:\n                  return '#008756';\n                case 0:\n                  return '#FFA500';\n                case -1:\n                  return '#DD4B39';\n              }\n            }\n            return (\n              {\n                ...item,\n                start: item.startAt,\n                end: item.endAt,\n                color: color(item.state)\n              }\n            )\n          }))\n        setIsLoading(false)\n      })\n      .catch(err => {\n        toast.error('Error: ' + err.data ? err.data.message : err.message)\n        setIsLoading(false)\n      })\n  }\n\n  const getCanUseVgList = () => {\n    const canSchedulableData = fakeCanUseVirtualGroup.filter(item => item.schedulable !== false)\n    setCanUseVg(canSchedulableData)\n    if (!isEmpty(canSchedulableData)) {\n      getData(canSchedulableData[0].name)\n      setSelectedVg(canSchedulableData[0].name)\n      if (!isEmpty(canSchedulableData[0].gpu)) {\n        setSelectedVgHasGpu(true)\n      }\n    }\n    getCanUseVirtualGroups(userInfo.username)\n      .then((res) => {\n        const schedulableData = res.filter(item => item.schedulable !== false)\n        setCanUseVg(schedulableData)\n        if (!isEmpty(schedulableData)) {\n          getData(schedulableData[0].name)\n          setSelectedVg(schedulableData[0].name)\n          if (!isEmpty(schedulableData[0].gpu)) {\n            setSelectedVgHasGpu(true)\n          }\n        }\n      })\n      // .catch(err => toast.error('Error: ' + err.data ? err.data.message : err.message))\n  }\n\n  useEffect(() => {\n    if (!isEmpty(userInfo)) getCanUseVgList()\n  }, [userInfo])\n\n  useEffect(() => {\n    setFilterSchedulesList(() => {\n      switch(dropdownSelectedKey) {\n        case 'all':\n        default:\n          return schedules;\n        case 'accept':\n          return schedules.filter(info => info.state === 1);\n        case 'pending':\n          return schedules.filter(info => info.state === 0);\n        case 'deny':\n          return schedules.filter(info => info.state === -1);\n      }\n    })\n  }, [schedules, dropdownSelectedKey])\n\n  return (\n    <Stack\n      styles={{\n        root: {\n          padding: '0 20px 20px',\n          height: '100%'\n        }\n      }}\n    >\n      <BreadCrumbs />\n      <Stack>\n        <div className={indexStyles.searchBlock}>\n          <div className={indexStyles.searchBlock__left} >\n            <DefaultButton\n              className={mergeStyles({ marginRight: 10 })}\n              disabled={isLoading}\n              iconProps={{\n                iconName: 'Refresh'\n              }}\n              onClick={() => {\n                if (!isEmpty(selectedVg)) getData(selectedVg)\n              }}\n              text={t('refresh')}\n            />\n            <Dropdown\n              className={mergeStyles({ marginRight: 10 })}\n              disabled={isLoading}\n              onChange={(e, item) => {\n                setSelectedVgKey(item.key)\n                setSelectedVg(item.text)\n                if (!isEmpty(item.gpu)) {\n                  setSelectedVgHasGpu(true)\n                } else {\n                  setSelectedVgHasGpu(false)\n                }\n              }}\n              options={addDropDownOptionKeys(canUseVg)}\n              placeholder={`${t('select')}${t('group')}`}\n              selectedKey={selectedVgKey}\n              styles={{\n                title: {\n                  borderRadius: 3\n                }\n              }}\n            />\n            <PrimaryButton\n              disabled={isLoading}\n              iconProps={{ iconName: 'Search' }}\n              onClick={() => getData(selectedVg)}\n              styles={{\n                root: {\n                  height: '32px',\n                  border: '1px solid transparent',\n                  boxSizing: 'border-box',\n                  borderRadius: '3px',\n                  selectors: {\n                    '& div > div': { flexShrink: '0' }\n                  }\n                }\n              }}\n              text={t('search')}\n            />\n          </div>\n          <div>\n            <Dropdown\n              onChange={(event, option) => setDropdownSelectedKey(option.key)}\n              onRenderCaretDown={() => <Icon iconName=\"SwitcherStartEnd\" />}\n              onRenderOption={option => {\n                return (\n                  <div style={{ display: 'flex', alignItems: 'center', color: selectColor(option.key) }}>\n                    {option.data &&\n                          option.data.icon &&\n                          <Icon\n                            aria-hidden=\"true\"\n                            iconName={option.data.icon}\n                            style={{\n                              marginRight: '8px',\n                              fontSize: 14\n                            }}\n                            title={option.data.icon}\n                          />}\n                    <span>\n                      {option.text}\n                    </span>\n                  </div>\n                );\n              }}\n              options={addDropDownOptionKeys([\n                { name: t('allShow'), data: { icon: '6PointStar' }, key: 'all' },\n                { name: t('verified'), data: { icon: 'Accept' }, key: 'accept' },\n                { name: t('verifying'), data: { icon: 'HourGlass' }, key: 'pending' },\n                { name: t('denied'), data: { icon: 'Cancel' }, key: 'deny' }\n              ])}\n              placeholder={`${t('select')}${t('enSpace')}${t('status')}`}\n              styles={{\n                root: {\n                  minWidth: 150,\n                  width: 150,\n                  fontSize: 14,\n                  marginRight: '8px'\n                },\n                title: { borderRadius: '3px' }\n              }}\n            />\n          </div>\n        </div>\n      </Stack>\n      <StackItem\n        grow\n        styles={{ root: { padding: '20px', background: '#FBFBFB', overflow: 'auto' } }}\n      >\n        <BaseCalendar\n          dateClick={(item) => {\n            if (!isEmpty(selectedVg)) {\n              const pickToday = new Date(item.date).toDateString() === new Date().toDateString()\n              const isVaildTime = new Date(item.date).getTime() >= new Date().getTime()\n              if (pickToday) {\n                setCreateDate(moment(new Date()).seconds(0).add(5, 'm').toDate())\n                setIsCalloutVisible(true)\n                setTarget(() => ({ dayEl: item.dayEl, el: null }))\n                return\n              } else if (isVaildTime) {\n                setCreateDate(new Date(item.date))\n                setIsCalloutVisible(true)\n                setTarget(() => ({ dayEl: item.dayEl, el: null }))\n              } else {\n                // it's already handle dayCellClassNames\n                toast.error(t('PleaseSelectTheCorrectScheduleDate'))\n              }\n            } else {\n              toast.error(t('pleaseSelectVg'))\n            }\n          }}\n          dayCellClassNames={(arg) => {\n            if (moment(arg.date).valueOf() < moment().subtract(1, 'days').valueOf()) {\n              return 'pastBackground'\n            }\n          }}\n          dayMaxEventRows={4}\n          eventClick={(item) => {\n            // item.getAttribute for check has getAttribute\n            const clickFromMore = item.jsEvent.path.some(item => (item.getAttribute && item.getAttribute('class') === 'fc-popover-body '))\n            const el = clickFromMore ? item.jsEvent : item.el;\n            const id = Number(item.event._def.publicId)\n            setIsCalloutVisible(true)\n            setTarget(() => ({ el, dayEl: null }))\n            setModifyData({ ...item.event._def.extendedProps, id })\n          }}\n          eventContent={arg => {\n            const eventData = filterSchedulesList.find(item => String(item.id) === arg.event.id)\n            return (\n              <TooltipHost\n                directionalHint={DirectionalHint.leftCenter}\n                styles={{ root: { width: '100%', display: 'flex', alignItems: 'center', cursor: 'pointer' } }}\n                tooltipProps={{\n                  onRenderContent() {\n                    return (\n                      <div>\n                        <p>{moment(eventData.startAt).format('MM/DD HH:mm')} - {moment(eventData.endAt).format('MM/DD HH:mm')}</p>\n                      </div>\n                    );\n                  }\n                }}\n              >\n                <div className={'fc-event-time'}>\n                  {arg.timeText}\n                </div>\n                <div className={'fc-event-title'}>\n                  {eventData.name}\n                </div>\n              </TooltipHost>\n            )\n          }}\n          eventDisplay={'block'}\n          events={filterSchedulesList}\n        />\n      </StackItem>\n      {\n        isCalloutVisible &&\n        <Callout\n          directionalHintForRtl={DirectionalHint.topLeftEdge}\n          gapSpace={0}\n          isBeakVisible\n          layerProps={{ styles: { root: { zIndex: 1030 } } }}\n          styles={\n            target.el\n              ? { calloutMain: { width: 'auto', height: 'auto', overflow: 'hidden' } }\n              :\n              {\n                calloutMain: {\n                  height: window.innerHeight >= 750 ? 750 : window.innerHeight,\n                  width: window.innerWidth >= 700 ? 700 : window.innerWidth,\n                  overflow: 'hidden'\n                }\n              }\n          }\n          target={target.el || target.dayEl}\n        >\n          {\n            target.el &&\n            <ViewSchedule\n              data={modifyData}\n              getData={getData}\n              onClose={() => {\n                setIsCalloutVisible(false)\n              }}\n              onOpenModifyModal={() => setIsModifyScheduleModalShow(true)}\n              selectedVg={selectedVg}\n            />\n          }\n          {\n            target.dayEl &&\n            <CreateSchedule\n              canUseVg={canUseVg}\n              createDate={createDate}\n              getData={getData}\n              isOpen={isCalloutVisible}\n              onClose={() => {\n                setIsCalloutVisible(false)\n              }}\n              pickDate={createDate}\n              selectedVg={selectedVg}\n              selectedVgHasGpu={selectedVgHasGpu}\n            />\n          }\n        </Callout>\n      }\n      {\n        isModifyScheduleModalShow &&\n        <ModifyScheduleModal\n          canUseVg={canUseVg}\n          data={modifyData}\n          getData={getData}\n          isOpen={isModifyScheduleModalShow}\n          modify\n          onClose={() => setIsModifyScheduleModalShow(false)}\n          selectedVg={selectedVg}\n          selectedVgHasGpu={selectedVgHasGpu}\n        />\n      }\n    </Stack>\n  );\n};\n\n\nexport default Schedule;"],"sourceRoot":""}